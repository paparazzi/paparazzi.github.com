<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Paparazzi UAS: sw/airborne/firmwares/rotorcraft/guidance/guidance_v_adapt.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="penguin_icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Paparazzi UAS
   &#160;<span id="projectnumber">v6.2_unstable</span>
   </div>
   <div id="projectbrief">Paparazzi is a free software Unmanned Aircraft System.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('guidance__v__adapt_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">guidance_v_adapt.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="guidance__v__adapt_8h_source.html">firmwares/rotorcraft/guidance/guidance_v_adapt.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="paparazzi_8h_source.html">paparazzi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pprz__algebra__int_8h_source.html">math/pprz_algebra_int.h</a>&quot;</code><br />
<code>#include &quot;generated/airframe.h&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for guidance_v_adapt.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="guidance__v__adapt_8c__incl.png" border="0" usemap="#sw_2airborne_2firmwares_2rotorcraft_2guidance_2guidance__v__adapt_8c" alt=""/></div>
<map name="sw_2airborne_2firmwares_2rotorcraft_2guidance_2guidance__v__adapt_8c" id="sw_2airborne_2firmwares_2rotorcraft_2guidance_2guidance__v__adapt_8c">
<area shape="rect" title=" " alt="" coords="239,5,406,61"/>
<area shape="rect" href="guidance__v__adapt_8h.html" title=" " alt="" coords="5,109,168,165"/>
<area shape="rect" href="paparazzi_8h.html" title=" " alt="" coords="193,124,290,151"/>
<area shape="rect" href="pprz__algebra__int_8h.html" title="Paparazzi fixed point algebra." alt="" coords="314,124,494,151"/>
<area shape="rect" title=" " alt="" coords="519,124,679,151"/>
<area shape="rect" title=" " alt="" coords="309,288,363,315"/>
<area shape="rect" title=" " alt="" coords="154,213,241,240"/>
<area shape="rect" href="pprz__algebra_8h.html" title="Paparazzi generic algebra macros." alt="" coords="494,213,650,240"/>
<area shape="rect" href="pprz__trig__int_8h.html" title="Paparazzi fixed point trig functions." alt="" coords="317,213,470,240"/>
<area shape="rect" title=" " alt="" coords="674,213,745,240"/>
<area shape="rect" title=" " alt="" coords="450,288,513,315"/>
<area shape="rect" title=" " alt="" coords="537,288,607,315"/>
<area shape="rect" title=" " alt="" coords="631,288,699,315"/>
</map>
</div>
</div>
<p><a href="guidance__v__adapt_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a491f930739b79d2e901c22ff7bf6b255"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="guidance__v__adapt_8c.html#a491f930739b79d2e901c22ff7bf6b255">GUIDANCE_V_ADAPT_INITIAL_HOVER_THROTTLE</a>&#160;&#160;&#160;0.3</td></tr>
<tr class="memdesc:a491f930739b79d2e901c22ff7bf6b255"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial hover throttle as factor of MAX_PPRZ.  <a href="guidance__v__adapt_8c.html#a491f930739b79d2e901c22ff7bf6b255">More...</a><br /></td></tr>
<tr class="separator:a491f930739b79d2e901c22ff7bf6b255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1f11769fc0bd070f5b87c0b57a9b9a4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="guidance__v__adapt_8c.html#ad1f11769fc0bd070f5b87c0b57a9b9a4">GUIDANCE_V_ADAPT_MIN_HOVER_THROTTLE</a>&#160;&#160;&#160;0.2</td></tr>
<tr class="memdesc:ad1f11769fc0bd070f5b87c0b57a9b9a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum hover throttle as factor of MAX_PPRZ.  <a href="guidance__v__adapt_8c.html#ad1f11769fc0bd070f5b87c0b57a9b9a4">More...</a><br /></td></tr>
<tr class="separator:ad1f11769fc0bd070f5b87c0b57a9b9a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a414ba0963f008cd5ff06c4bfbeac2ecc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="guidance__v__adapt_8c.html#a414ba0963f008cd5ff06c4bfbeac2ecc">GUIDANCE_V_ADAPT_MAX_HOVER_THROTTLE</a>&#160;&#160;&#160;0.75</td></tr>
<tr class="memdesc:a414ba0963f008cd5ff06c4bfbeac2ecc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum hover throttle as factor of MAX_PPRZ.  <a href="guidance__v__adapt_8c.html#a414ba0963f008cd5ff06c4bfbeac2ecc">More...</a><br /></td></tr>
<tr class="separator:a414ba0963f008cd5ff06c4bfbeac2ecc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3720e5c2d1efce3423181db33b9f1ef5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="guidance__v__adapt_8c.html#a3720e5c2d1efce3423181db33b9f1ef5">GUIDANCE_V_ADAPT_NOISE_FACTOR</a>&#160;&#160;&#160;1.0</td></tr>
<tr class="memdesc:a3720e5c2d1efce3423181db33b9f1ef5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adapt noise factor.  <a href="guidance__v__adapt_8c.html#a3720e5c2d1efce3423181db33b9f1ef5">More...</a><br /></td></tr>
<tr class="separator:a3720e5c2d1efce3423181db33b9f1ef5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d62700c8e938a85d29186643e308600"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="guidance__v__adapt_8c.html#a4d62700c8e938a85d29186643e308600">GUIDANCE_V_ADAPT_MAX_ACCEL</a>&#160;&#160;&#160;4.0</td></tr>
<tr class="memdesc:a4d62700c8e938a85d29186643e308600"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filter is not fed if accel values are more than +/- MAX_ACCEL.  <a href="guidance__v__adapt_8c.html#a4d62700c8e938a85d29186643e308600">More...</a><br /></td></tr>
<tr class="separator:a4d62700c8e938a85d29186643e308600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad86e4967e4f8918981e037e48aed1ad1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="guidance__v__adapt_8c.html#ad86e4967e4f8918981e037e48aed1ad1">GUIDANCE_V_ADAPT_MAX_CMD</a>&#160;&#160;&#160;0.9</td></tr>
<tr class="memdesc:ad86e4967e4f8918981e037e48aed1ad1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filter is not fed if command values are out of a % of 0/MAX_PPRZ.  <a href="guidance__v__adapt_8c.html#ad86e4967e4f8918981e037e48aed1ad1">More...</a><br /></td></tr>
<tr class="separator:ad86e4967e4f8918981e037e48aed1ad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0b57a6956b778c5d67dc08034f8efef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="guidance__v__adapt_8c.html#ab0b57a6956b778c5d67dc08034f8efef">GUIDANCE_V_ADAPT_MIN_CMD</a>&#160;&#160;&#160;0.1</td></tr>
<tr class="separator:ab0b57a6956b778c5d67dc08034f8efef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ae8bdb9d24e48209cd4a6f9bd58b288"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="guidance__v__adapt_8c.html#a5ae8bdb9d24e48209cd4a6f9bd58b288">GV_ADAPT_SYS_NOISE_F</a>&#160;&#160;&#160;0.00005</td></tr>
<tr class="separator:a5ae8bdb9d24e48209cd4a6f9bd58b288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8009c4c8d2bf9ea4150743b0ee52d75a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="guidance__v__adapt_8c.html#a8009c4c8d2bf9ea4150743b0ee52d75a">GV_ADAPT_SYS_NOISE</a>&#160;&#160;&#160;<a class="el" href="group__math__algebra__int.html#gaa6bb9343d0a10947a0824bc67cf4a47d">BFP_OF_REAL</a>(<a class="el" href="guidance__v__adapt_8c.html#a5ae8bdb9d24e48209cd4a6f9bd58b288">GV_ADAPT_SYS_NOISE_F</a>, <a class="el" href="guidance__v__adapt_8h.html#ae48506ef71b097cbc23c4a1eff14fc8d">GV_ADAPT_P_FRAC</a>)</td></tr>
<tr class="separator:a8009c4c8d2bf9ea4150743b0ee52d75a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b327bb3914e66db3fb2a0a1d5b8fbf8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="guidance__v__adapt_8c.html#a2b327bb3914e66db3fb2a0a1d5b8fbf8">GV_ADAPT_MEAS_NOISE_HOVER_F</a>&#160;&#160;&#160;(50.0*<a class="el" href="guidance__v__adapt_8c.html#a3720e5c2d1efce3423181db33b9f1ef5">GUIDANCE_V_ADAPT_NOISE_FACTOR</a>)</td></tr>
<tr class="separator:a2b327bb3914e66db3fb2a0a1d5b8fbf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab71b7758a98d0f9f24db0f4ea5cb5127"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="guidance__v__adapt_8c.html#ab71b7758a98d0f9f24db0f4ea5cb5127">GV_ADAPT_MEAS_NOISE_HOVER</a>&#160;&#160;&#160;<a class="el" href="group__math__algebra__int.html#gaa6bb9343d0a10947a0824bc67cf4a47d">BFP_OF_REAL</a>(<a class="el" href="guidance__v__adapt_8c.html#a2b327bb3914e66db3fb2a0a1d5b8fbf8">GV_ADAPT_MEAS_NOISE_HOVER_F</a>, <a class="el" href="guidance__v__adapt_8h.html#ae48506ef71b097cbc23c4a1eff14fc8d">GV_ADAPT_P_FRAC</a>)</td></tr>
<tr class="separator:ab71b7758a98d0f9f24db0f4ea5cb5127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7375d670f4b38044453271776694d0a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="guidance__v__adapt_8c.html#a7375d670f4b38044453271776694d0a9">GV_ADAPT_MEAS_NOISE_OF_ZD</a>&#160;&#160;&#160;(100.0*<a class="el" href="guidance__v__adapt_8c.html#a3720e5c2d1efce3423181db33b9f1ef5">GUIDANCE_V_ADAPT_NOISE_FACTOR</a>)</td></tr>
<tr class="separator:a7375d670f4b38044453271776694d0a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab14ff80550f83821205d485e6c3e44ce"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="guidance__v__adapt_8c.html#ab14ff80550f83821205d485e6c3e44ce">GV_ADAPT_P0_F</a>&#160;&#160;&#160;0.1</td></tr>
<tr class="separator:ab14ff80550f83821205d485e6c3e44ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51fba05eb418475b476fbadc2534827c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="guidance__v__adapt_8c.html#a51fba05eb418475b476fbadc2534827c">K_FRAC</a>&#160;&#160;&#160;12</td></tr>
<tr class="separator:a51fba05eb418475b476fbadc2534827c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a14968f81dc98fe21f0f996ceace5fb5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="guidance__v__adapt_8c.html#a14968f81dc98fe21f0f996ceace5fb5d">gv_adapt_init</a> (void)</td></tr>
<tr class="separator:a14968f81dc98fe21f0f996ceace5fb5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a108e823687eddd24bff053ea9a03943f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="guidance__v__adapt_8c.html#a108e823687eddd24bff053ea9a03943f">gv_adapt_run</a> (<a class="el" href="vl53l1__types_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> zdd_meas, <a class="el" href="vl53l1__types_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> thrust_applied, <a class="el" href="vl53l1__types_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> zd_ref)</td></tr>
<tr class="memdesc:a108e823687eddd24bff053ea9a03943f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adaptation function.  <a href="guidance__v__adapt_8c.html#a108e823687eddd24bff053ea9a03943f">More...</a><br /></td></tr>
<tr class="separator:a108e823687eddd24bff053ea9a03943f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab9714ec507d12d067e58b9498784e4b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="vl53l1__types_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="guidance__v__adapt_8c.html#ab9714ec507d12d067e58b9498784e4b3">gv_adapt_X</a></td></tr>
<tr class="memdesc:ab9714ec507d12d067e58b9498784e4b3"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="group__state__interface.html#structState" title="Structure holding vehicle state data.">State</a> of the estimator.  <a href="guidance__v__adapt_8c.html#ab9714ec507d12d067e58b9498784e4b3">More...</a><br /></td></tr>
<tr class="separator:ab9714ec507d12d067e58b9498784e4b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a397e893a9ab16d6efe7637576c61dd00"><td class="memItemLeft" align="right" valign="top"><a class="el" href="vl53l1__types_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="guidance__v__adapt_8c.html#a397e893a9ab16d6efe7637576c61dd00">gv_adapt_P</a></td></tr>
<tr class="memdesc:a397e893a9ab16d6efe7637576c61dd00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Covariance.  <a href="guidance__v__adapt_8c.html#a397e893a9ab16d6efe7637576c61dd00">More...</a><br /></td></tr>
<tr class="separator:a397e893a9ab16d6efe7637576c61dd00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9e0f391f1a1e53a185ce28a45e31090"><td class="memItemLeft" align="right" valign="top"><a class="el" href="vl53l1__types_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="guidance__v__adapt_8c.html#ac9e0f391f1a1e53a185ce28a45e31090">gv_adapt_Xmeas</a></td></tr>
<tr class="memdesc:ac9e0f391f1a1e53a185ce28a45e31090"><td class="mdescLeft">&#160;</td><td class="mdescRight">Measurement.  <a href="guidance__v__adapt_8c.html#ac9e0f391f1a1e53a185ce28a45e31090">More...</a><br /></td></tr>
<tr class="separator:ac9e0f391f1a1e53a185ce28a45e31090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a606488180af5af850b60949fe7854398"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="vl53l1__types_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="guidance__v__adapt_8c.html#a606488180af5af850b60949fe7854398">gv_adapt_P0</a> = <a class="el" href="group__math__algebra__int.html#gaa6bb9343d0a10947a0824bc67cf4a47d">BFP_OF_REAL</a>(<a class="el" href="guidance__v__adapt_8c.html#ab14ff80550f83821205d485e6c3e44ce">GV_ADAPT_P0_F</a>, <a class="el" href="guidance__v__adapt_8h.html#ae48506ef71b097cbc23c4a1eff14fc8d">GV_ADAPT_P_FRAC</a>)</td></tr>
<tr class="separator:a606488180af5af850b60949fe7854398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa810b91c591c30594a11b3100b09f73c"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="vl53l1__types_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="guidance__v__adapt_8c.html#aa810b91c591c30594a11b3100b09f73c">gv_adapt_X0</a></td></tr>
<tr class="separator:aa810b91c591c30594a11b3100b09f73c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Adaptation block of the vertical guidance.</p>
<p>This is a dimension one kalman filter estimating the ratio of vertical acceleration over thrust command ( ~ inverse of the mass ) needed by the invert dynamic model to produce a nominal command. </p>

<p class="definition">Definition in file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a491f930739b79d2e901c22ff7bf6b255"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a491f930739b79d2e901c22ff7bf6b255">&#9670;&nbsp;</a></span>GUIDANCE_V_ADAPT_INITIAL_HOVER_THROTTLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GUIDANCE_V_ADAPT_INITIAL_HOVER_THROTTLE&#160;&#160;&#160;0.3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initial hover throttle as factor of MAX_PPRZ. </p>
<p>Should be a value between <a class="el" href="guidance__v__adapt_8c.html#ad1f11769fc0bd070f5b87c0b57a9b9a4" title="Minimum hover throttle as factor of MAX_PPRZ.">GUIDANCE_V_ADAPT_MIN_HOVER_THROTTLE</a> and <a class="el" href="guidance__v__adapt_8c.html#a414ba0963f008cd5ff06c4bfbeac2ecc" title="Maximum hover throttle as factor of MAX_PPRZ.">GUIDANCE_V_ADAPT_MAX_HOVER_THROTTLE</a>. If the nominal hover throttle is defined use it otherwise it is better to start with low thrust and let it rise as the adaptive filter finds the vehicle needs more thrust. </p>

<p class="definition">Definition at line <a class="el" href="guidance__v__adapt_8c_source.html#l00047">47</a> of file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>

</div>
</div>
<a id="a4d62700c8e938a85d29186643e308600"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d62700c8e938a85d29186643e308600">&#9670;&nbsp;</a></span>GUIDANCE_V_ADAPT_MAX_ACCEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GUIDANCE_V_ADAPT_MAX_ACCEL&#160;&#160;&#160;4.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Filter is not fed if accel values are more than +/- MAX_ACCEL. </p>
<p>MAX_ACCEL is a positive value in m/s^2 </p>

<p class="definition">Definition at line <a class="el" href="guidance__v__adapt_8c_source.html#l00084">84</a> of file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>

</div>
</div>
<a id="ad86e4967e4f8918981e037e48aed1ad1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad86e4967e4f8918981e037e48aed1ad1">&#9670;&nbsp;</a></span>GUIDANCE_V_ADAPT_MAX_CMD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GUIDANCE_V_ADAPT_MAX_CMD&#160;&#160;&#160;0.9</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Filter is not fed if command values are out of a % of 0/MAX_PPRZ. </p>
<p>MAX_CMD and MIN_CMD must be between 0 and 1 with MIN_CMD &lt; MAX_CMD </p>

<p class="definition">Definition at line <a class="el" href="guidance__v__adapt_8c_source.html#l00091">91</a> of file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>

</div>
</div>
<a id="a414ba0963f008cd5ff06c4bfbeac2ecc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a414ba0963f008cd5ff06c4bfbeac2ecc">&#9670;&nbsp;</a></span>GUIDANCE_V_ADAPT_MAX_HOVER_THROTTLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GUIDANCE_V_ADAPT_MAX_HOVER_THROTTLE&#160;&#160;&#160;0.75</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum hover throttle as factor of MAX_PPRZ. </p>
<p>With the default of 0.75 the nominal hover throttle will never go over 75% of max throttle. </p>

<p class="definition">Definition at line <a class="el" href="guidance__v__adapt_8c_source.html#l00066">66</a> of file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>

</div>
</div>
<a id="ab0b57a6956b778c5d67dc08034f8efef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0b57a6956b778c5d67dc08034f8efef">&#9670;&nbsp;</a></span>GUIDANCE_V_ADAPT_MIN_CMD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GUIDANCE_V_ADAPT_MIN_CMD&#160;&#160;&#160;0.1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="guidance__v__adapt_8c_source.html#l00094">94</a> of file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>

</div>
</div>
<a id="ad1f11769fc0bd070f5b87c0b57a9b9a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1f11769fc0bd070f5b87c0b57a9b9a4">&#9670;&nbsp;</a></span>GUIDANCE_V_ADAPT_MIN_HOVER_THROTTLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GUIDANCE_V_ADAPT_MIN_HOVER_THROTTLE&#160;&#160;&#160;0.2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Minimum hover throttle as factor of MAX_PPRZ. </p>
<p>With the default of 0.2 the nominal hover throttle will never go lower than 20%. </p>

<p class="definition">Definition at line <a class="el" href="guidance__v__adapt_8c_source.html#l00057">57</a> of file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>

</div>
</div>
<a id="a3720e5c2d1efce3423181db33b9f1ef5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3720e5c2d1efce3423181db33b9f1ef5">&#9670;&nbsp;</a></span>GUIDANCE_V_ADAPT_NOISE_FACTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GUIDANCE_V_ADAPT_NOISE_FACTOR&#160;&#160;&#160;1.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adapt noise factor. </p>
<p>Smaller values will make the filter to adapt faster. Bigger values (slower adaptation) make the filter more robust to external pertubations. Factor should always be &gt;0 </p>

<p class="definition">Definition at line <a class="el" href="guidance__v__adapt_8c_source.html#l00076">76</a> of file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>

</div>
</div>
<a id="ab71b7758a98d0f9f24db0f4ea5cb5127"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab71b7758a98d0f9f24db0f4ea5cb5127">&#9670;&nbsp;</a></span>GV_ADAPT_MEAS_NOISE_HOVER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GV_ADAPT_MEAS_NOISE_HOVER&#160;&#160;&#160;<a class="el" href="group__math__algebra__int.html#gaa6bb9343d0a10947a0824bc67cf4a47d">BFP_OF_REAL</a>(<a class="el" href="guidance__v__adapt_8c.html#a2b327bb3914e66db3fb2a0a1d5b8fbf8">GV_ADAPT_MEAS_NOISE_HOVER_F</a>, <a class="el" href="guidance__v__adapt_8h.html#ae48506ef71b097cbc23c4a1eff14fc8d">GV_ADAPT_P_FRAC</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="guidance__v__adapt_8c_source.html#l00111">111</a> of file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>

</div>
</div>
<a id="a2b327bb3914e66db3fb2a0a1d5b8fbf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b327bb3914e66db3fb2a0a1d5b8fbf8">&#9670;&nbsp;</a></span>GV_ADAPT_MEAS_NOISE_HOVER_F</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GV_ADAPT_MEAS_NOISE_HOVER_F&#160;&#160;&#160;(50.0*<a class="el" href="guidance__v__adapt_8c.html#a3720e5c2d1efce3423181db33b9f1ef5">GUIDANCE_V_ADAPT_NOISE_FACTOR</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="guidance__v__adapt_8c_source.html#l00110">110</a> of file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>

</div>
</div>
<a id="a7375d670f4b38044453271776694d0a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7375d670f4b38044453271776694d0a9">&#9670;&nbsp;</a></span>GV_ADAPT_MEAS_NOISE_OF_ZD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GV_ADAPT_MEAS_NOISE_OF_ZD&#160;&#160;&#160;(100.0*<a class="el" href="guidance__v__adapt_8c.html#a3720e5c2d1efce3423181db33b9f1ef5">GUIDANCE_V_ADAPT_NOISE_FACTOR</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="guidance__v__adapt_8c_source.html#l00112">112</a> of file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>

</div>
</div>
<a id="ab14ff80550f83821205d485e6c3e44ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab14ff80550f83821205d485e6c3e44ce">&#9670;&nbsp;</a></span>GV_ADAPT_P0_F</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GV_ADAPT_P0_F&#160;&#160;&#160;0.1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="guidance__v__adapt_8c_source.html#l00115">115</a> of file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>

</div>
</div>
<a id="a8009c4c8d2bf9ea4150743b0ee52d75a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8009c4c8d2bf9ea4150743b0ee52d75a">&#9670;&nbsp;</a></span>GV_ADAPT_SYS_NOISE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GV_ADAPT_SYS_NOISE&#160;&#160;&#160;<a class="el" href="group__math__algebra__int.html#gaa6bb9343d0a10947a0824bc67cf4a47d">BFP_OF_REAL</a>(<a class="el" href="guidance__v__adapt_8c.html#a5ae8bdb9d24e48209cd4a6f9bd58b288">GV_ADAPT_SYS_NOISE_F</a>, <a class="el" href="guidance__v__adapt_8h.html#ae48506ef71b097cbc23c4a1eff14fc8d">GV_ADAPT_P_FRAC</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="guidance__v__adapt_8c_source.html#l00107">107</a> of file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>

</div>
</div>
<a id="a5ae8bdb9d24e48209cd4a6f9bd58b288"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ae8bdb9d24e48209cd4a6f9bd58b288">&#9670;&nbsp;</a></span>GV_ADAPT_SYS_NOISE_F</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GV_ADAPT_SYS_NOISE_F&#160;&#160;&#160;0.00005</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="guidance__v__adapt_8c_source.html#l00105">105</a> of file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>

</div>
</div>
<a id="a51fba05eb418475b476fbadc2534827c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51fba05eb418475b476fbadc2534827c">&#9670;&nbsp;</a></span>K_FRAC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define K_FRAC&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="guidance__v__adapt_8c_source.html#l00126">126</a> of file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a14968f81dc98fe21f0f996ceace5fb5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14968f81dc98fe21f0f996ceace5fb5d">&#9670;&nbsp;</a></span>gv_adapt_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gv_adapt_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="guidance__v__adapt_8c_source.html#l00120">120</a> of file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>

<p class="reference">References <a class="el" href="guidance__v__adapt_8c_source.html#l00100">gv_adapt_P</a>, <a class="el" href="guidance__v__adapt_8c_source.html#l00116">gv_adapt_P0</a>, <a class="el" href="guidance__v__adapt_8c_source.html#l00099">gv_adapt_X</a>, and <a class="el" href="guidance__v__adapt_8c_source.html#l00117">gv_adapt_X0</a>.</p>

<p class="reference">Referenced by <a class="el" href="rotorcraft_2guidance_2guidance__v_8c_source.html#l00178">guidance_v_init()</a>, <a class="el" href="rotorcraft_2guidance_2guidance__v_8c_source.html#l00271">guidance_v_notify_in_flight()</a>, and <a class="el" href="rotorcraft_2guidance_2guidance__v_8c_source.html#l00278">guidance_v_thrust_adapt()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="guidance__v__adapt_8c_a14968f81dc98fe21f0f996ceace5fb5d_icgraph.png" border="0" usemap="#guidance__v__adapt_8c_a14968f81dc98fe21f0f996ceace5fb5d_icgraph" alt=""/></div>
<map name="guidance__v__adapt_8c_a14968f81dc98fe21f0f996ceace5fb5d_icgraph" id="guidance__v__adapt_8c_a14968f81dc98fe21f0f996ceace5fb5d_icgraph">
<area shape="rect" title=" " alt="" coords="641,64,752,91"/>
<area shape="rect" href="rotorcraft_2guidance_2guidance__v_8h.html#ae1e43515cf186f69dfaac9a4543b3cf0" title=" " alt="" coords="439,5,563,32"/>
<area shape="rect" href="rotorcraft_2guidance_2guidance__v_8h.html#a331e736eaca82c6f4a2b5a0f6d92e8e2" title=" " alt="" coords="421,57,580,98"/>
<area shape="rect" href="rotorcraft_2guidance_2guidance__v_8h.html#a0f2c0608e9949e1d68952c3491a30a83" title=" " alt="" coords="408,123,593,149"/>
<area shape="rect" href="rotorcraft_2guidance_2guidance__v_8h.html#a5c03e8fc9dd9e84925081df8639d4001" title=" " alt="" coords="236,123,360,149"/>
<area shape="rect" href="rotorcraft_2autopilot__static_8c.html#a81ff7c3a0611cb76bfbd35fc817070d6" title=" " alt="" coords="5,123,188,149"/>
</map>
</div>

</div>
</div>
<a id="a108e823687eddd24bff053ea9a03943f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a108e823687eddd24bff053ea9a03943f">&#9670;&nbsp;</a></span>gv_adapt_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gv_adapt_run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vl53l1__types_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a>&#160;</td>
          <td class="paramname"><em>zdd_meas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vl53l1__types_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a>&#160;</td>
          <td class="paramname"><em>thrust_applied</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vl53l1__types_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a>&#160;</td>
          <td class="paramname"><em>zd_ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adaptation function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">zdd_meas</td><td>vert accel measurement in m/s^2 with <a class="el" href="group__math__algebra__int.html#ga871a3a4fc9d79e94f0f648483542f7fa">INT32_ACCEL_FRAC</a> </td></tr>
    <tr><td class="paramname">thrust_applied</td><td>controller input [0 : MAX_PPRZ] </td></tr>
    <tr><td class="paramname">zd_ref</td><td>vertical speed reference in m/s with <a class="el" href="group__math__algebra__int.html#ga78c97bb51a4486cff673bf9995b8fdb0">INT32_SPEED_FRAC</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="guidance__v__adapt_8c_source.html#l00133">133</a> of file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>

<p class="reference">References <a class="el" href="pprz__algebra__int_8h_source.html#l00220">ACCEL_BFP_OF_REAL</a>, <a class="el" href="pprz__algebra__int_8h_source.html#l00205">BFP_OF_REAL</a>, <a class="el" href="pprz__geodetic__utm_8h_source.html#l00040">E</a>, <a class="el" href="guidance__v__adapt_8c_source.html#l00084">GUIDANCE_V_ADAPT_MAX_ACCEL</a>, <a class="el" href="guidance__v__adapt_8c_source.html#l00091">GUIDANCE_V_ADAPT_MAX_CMD</a>, <a class="el" href="guidance__v__adapt_8c_source.html#l00066">GUIDANCE_V_ADAPT_MAX_HOVER_THROTTLE</a>, <a class="el" href="guidance__v__adapt_8c_source.html#l00094">GUIDANCE_V_ADAPT_MIN_CMD</a>, <a class="el" href="guidance__v__adapt_8c_source.html#l00057">GUIDANCE_V_ADAPT_MIN_HOVER_THROTTLE</a>, <a class="el" href="guidance__v__adapt_8c_source.html#l00111">GV_ADAPT_MEAS_NOISE_HOVER</a>, <a class="el" href="guidance__v__adapt_8c_source.html#l00112">GV_ADAPT_MEAS_NOISE_OF_ZD</a>, <a class="el" href="guidance__v__adapt_8c_source.html#l00100">gv_adapt_P</a>, <a class="el" href="guidance__v__adapt_8c_source.html#l00116">gv_adapt_P0</a>, <a class="el" href="guidance__v__adapt_8h_source.html#l00047">GV_ADAPT_P_FRAC</a>, <a class="el" href="guidance__v__adapt_8c_source.html#l00107">GV_ADAPT_SYS_NOISE</a>, <a class="el" href="guidance__v__adapt_8c_source.html#l00099">gv_adapt_X</a>, <a class="el" href="guidance__v__adapt_8h_source.html#l00040">GV_ADAPT_X_FRAC</a>, <a class="el" href="guidance__v__adapt_8c_source.html#l00101">gv_adapt_Xmeas</a>, <a class="el" href="pprz__algebra__int_8h_source.html#l00078">INT32_ACCEL_FRAC</a>, <a class="el" href="pprz__algebra__int_8h_source.html#l00073">INT32_SPEED_FRAC</a>, <a class="el" href="undistort__image_8c_source.html#l00041">K</a>, <a class="el" href="guidance__v__adapt_8c_source.html#l00126">K_FRAC</a>, <a class="el" href="paparazzi_8h_source.html#l00008">MAX_PPRZ</a>, and <a class="el" href="temp__tcouple__adc_8c_source.html#l00049">ref</a>.</p>

<p class="reference">Referenced by <a class="el" href="rotorcraft_2guidance_2guidance__v_8c_source.html#l00278">guidance_v_thrust_adapt()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="guidance__v__adapt_8c_a108e823687eddd24bff053ea9a03943f_icgraph.png" border="0" usemap="#guidance__v__adapt_8c_a108e823687eddd24bff053ea9a03943f_icgraph" alt=""/></div>
<map name="guidance__v__adapt_8c_a108e823687eddd24bff053ea9a03943f_icgraph" id="guidance__v__adapt_8c_a108e823687eddd24bff053ea9a03943f_icgraph">
<area shape="rect" title="Adaptation function." alt="" coords="641,5,752,32"/>
<area shape="rect" href="rotorcraft_2guidance_2guidance__v_8h.html#a0f2c0608e9949e1d68952c3491a30a83" title=" " alt="" coords="408,5,593,32"/>
<area shape="rect" href="rotorcraft_2guidance_2guidance__v_8h.html#a5c03e8fc9dd9e84925081df8639d4001" title=" " alt="" coords="236,5,360,32"/>
<area shape="rect" href="rotorcraft_2autopilot__static_8c.html#a81ff7c3a0611cb76bfbd35fc817070d6" title=" " alt="" coords="5,5,188,32"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a397e893a9ab16d6efe7637576c61dd00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a397e893a9ab16d6efe7637576c61dd00">&#9670;&nbsp;</a></span>gv_adapt_P</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vl53l1__types_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> gv_adapt_P</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Covariance. </p>
<p>fixed point representation with <a class="el" href="guidance__v__adapt_8h.html#ae48506ef71b097cbc23c4a1eff14fc8d">GV_ADAPT_P_FRAC</a> Q13.18 </p>

<p class="definition">Definition at line <a class="el" href="guidance__v__adapt_8c_source.html#l00100">100</a> of file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="guidance__v__adapt_8c_source.html#l00120">gv_adapt_init()</a>, <a class="el" href="guidance__v__adapt_8c_source.html#l00133">gv_adapt_run()</a>, and <a class="el" href="rotorcraft_2guidance_2guidance__v_8c_source.html#l00150">send_vert_loop()</a>.</p>

</div>
</div>
<a id="a606488180af5af850b60949fe7854398"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a606488180af5af850b60949fe7854398">&#9670;&nbsp;</a></span>gv_adapt_P0</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="vl53l1__types_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> gv_adapt_P0 = <a class="el" href="group__math__algebra__int.html#gaa6bb9343d0a10947a0824bc67cf4a47d">BFP_OF_REAL</a>(<a class="el" href="guidance__v__adapt_8c.html#ab14ff80550f83821205d485e6c3e44ce">GV_ADAPT_P0_F</a>, <a class="el" href="guidance__v__adapt_8h.html#ae48506ef71b097cbc23c4a1eff14fc8d">GV_ADAPT_P_FRAC</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="guidance__v__adapt_8c_source.html#l00116">116</a> of file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="guidance__v__adapt_8c_source.html#l00120">gv_adapt_init()</a>, and <a class="el" href="guidance__v__adapt_8c_source.html#l00133">gv_adapt_run()</a>.</p>

</div>
</div>
<a id="ab9714ec507d12d067e58b9498784e4b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9714ec507d12d067e58b9498784e4b3">&#9670;&nbsp;</a></span>gv_adapt_X</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vl53l1__types_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> gv_adapt_X</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="group__state__interface.html#structState" title="Structure holding vehicle state data.">State</a> of the estimator. </p>
<p>fixed point representation with <a class="el" href="guidance__v__adapt_8h.html#a039f31720ffa5d57ad37345eec2fb302">GV_ADAPT_X_FRAC</a> Q13.18 </p>

<p class="definition">Definition at line <a class="el" href="guidance__v__adapt_8c_source.html#l00099">99</a> of file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="guidance__v__adapt_8c_source.html#l00120">gv_adapt_init()</a>, <a class="el" href="guidance__v__adapt_8c_source.html#l00133">gv_adapt_run()</a>, <a class="el" href="rotorcraft_2guidance_2guidance__v_8c_source.html#l00412">run_hover_loop()</a>, and <a class="el" href="rotorcraft_2guidance_2guidance__v_8c_source.html#l00150">send_vert_loop()</a>.</p>

</div>
</div>
<a id="aa810b91c591c30594a11b3100b09f73c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa810b91c591c30594a11b3100b09f73c">&#9670;&nbsp;</a></span>gv_adapt_X0</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="vl53l1__types_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> gv_adapt_X0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <a class="code" href="group__math__algebra__int.html#gaa6bb9343d0a10947a0824bc67cf4a47d">BFP_OF_REAL</a>(9.81, <a class="code" href="guidance__v__adapt_8h.html#a039f31720ffa5d57ad37345eec2fb302">GV_ADAPT_X_FRAC</a>) /</div>
<div class="line">                                   (<a class="code" href="guidance__v__adapt_8c.html#a491f930739b79d2e901c22ff7bf6b255">GUIDANCE_V_ADAPT_INITIAL_HOVER_THROTTLE</a> *<a class="code" href="paparazzi_8h.html#a54d332726575cca5fb2774bfcfbe36a9">MAX_PPRZ</a>)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="guidance__v__adapt_8c_source.html#l00117">117</a> of file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="guidance__v__adapt_8c_source.html#l00120">gv_adapt_init()</a>.</p>

</div>
</div>
<a id="ac9e0f391f1a1e53a185ce28a45e31090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9e0f391f1a1e53a185ce28a45e31090">&#9670;&nbsp;</a></span>gv_adapt_Xmeas</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vl53l1__types_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> gv_adapt_Xmeas</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Measurement. </p>

<p class="definition">Definition at line <a class="el" href="guidance__v__adapt_8c_source.html#l00101">101</a> of file <a class="el" href="guidance__v__adapt_8c_source.html">guidance_v_adapt.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="guidance__v__adapt_8c_source.html#l00133">gv_adapt_run()</a>, and <a class="el" href="rotorcraft_2guidance_2guidance__v_8c_source.html#l00150">send_vert_loop()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="apaparazzi_8h_html_a54d332726575cca5fb2774bfcfbe36a9"><div class="ttname"><a href="paparazzi_8h.html#a54d332726575cca5fb2774bfcfbe36a9">MAX_PPRZ</a></div><div class="ttdeci">#define MAX_PPRZ</div><div class="ttdef"><b>Definition:</b> <a href="paparazzi_8h_source.html#l00008">paparazzi.h:8</a></div></div>
<div class="ttc" id="aguidance__v__adapt_8h_html_a039f31720ffa5d57ad37345eec2fb302"><div class="ttname"><a href="guidance__v__adapt_8h.html#a039f31720ffa5d57ad37345eec2fb302">GV_ADAPT_X_FRAC</a></div><div class="ttdeci">#define GV_ADAPT_X_FRAC</div><div class="ttdef"><b>Definition:</b> <a href="guidance__v__adapt_8h_source.html#l00040">guidance_v_adapt.h:40</a></div></div>
<div class="ttc" id="aguidance__v__adapt_8c_html_a491f930739b79d2e901c22ff7bf6b255"><div class="ttname"><a href="guidance__v__adapt_8c.html#a491f930739b79d2e901c22ff7bf6b255">GUIDANCE_V_ADAPT_INITIAL_HOVER_THROTTLE</a></div><div class="ttdeci">#define GUIDANCE_V_ADAPT_INITIAL_HOVER_THROTTLE</div><div class="ttdoc">Initial hover throttle as factor of MAX_PPRZ.</div><div class="ttdef"><b>Definition:</b> <a href="guidance__v__adapt_8c_source.html#l00047">guidance_v_adapt.c:47</a></div></div>
<div class="ttc" id="agroup__math__algebra__int_html_gaa6bb9343d0a10947a0824bc67cf4a47d"><div class="ttname"><a href="group__math__algebra__int.html#gaa6bb9343d0a10947a0824bc67cf4a47d">BFP_OF_REAL</a></div><div class="ttdeci">#define BFP_OF_REAL(_vr, _frac)</div><div class="ttdef"><b>Definition:</b> <a href="pprz__algebra__int_8h_source.html#l00205">pprz_algebra_int.h:205</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_01fcd3835fb4e7d9331b722d86291b65.html">sw</a></li><li class="navelem"><a class="el" href="dir_5e9153041680afc3c016fd52fa730b56.html">airborne</a></li><li class="navelem"><a class="el" href="dir_e7d2494544042a787a6ee70a779a5e07.html">firmwares</a></li><li class="navelem"><a class="el" href="dir_e37d355c72eb7c8e5b43c34bdea5a24b.html">rotorcraft</a></li><li class="navelem"><a class="el" href="dir_3d64810a495a8e63c02e8d4ee1418813.html">guidance</a></li><li class="navelem"><a class="el" href="guidance__v__adapt_8c.html">guidance_v_adapt.c</a></li>
    <li class="footer">Generated on Sat Mar 26 2022 09:18:17 for Paparazzi UAS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>

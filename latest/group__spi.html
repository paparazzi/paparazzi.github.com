<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Paparazzi UAS: SPI Interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="penguin_icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Paparazzi UAS
   &#160;<span id="projectnumber">v7.0_unstable</span>
   </div>
   <div id="projectbrief">Paparazzi is a free software Unmanned Aircraft System.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__spi.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">SPI Interface<div class="ingroups"><a class="el" href="group__mcu__periph.html">MCU Peripherals</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for SPI Interface:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi.png" border="0" usemap="#agroup____spi" alt=""/></div>
<map name="agroup____spi" id="agroup____spi">
<area shape="rect" title=" " alt="" coords="184,5,288,31"/>
<area shape="rect" href="group__mcu__periph.html" title=" " alt="" coords="5,5,136,31"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structspi__transaction"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#structspi__transaction">spi_transaction</a></td></tr>
<tr class="memdesc:structspi__transaction"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI transaction structure.  <a href="group__spi.html#structspi__transaction">More...</a><br /></td></tr>
<tr class="separator:structspi__transaction"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structspi__periph"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#structspi__periph">spi_periph</a></td></tr>
<tr class="memdesc:structspi__periph"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI peripheral structure.  <a href="group__spi.html#structspi__periph">More...</a><br /></td></tr>
<tr class="separator:structspi__periph"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga8ae4597a9e237b75a108cdde49c302a6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga8ae4597a9e237b75a108cdde49c302a6">SPI_TRANSACTION_QUEUE_LEN</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:ga8ae4597a9e237b75a108cdde49c302a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI transaction queue length.  <a href="group__spi.html#ga8ae4597a9e237b75a108cdde49c302a6">More...</a><br /></td></tr>
<tr class="separator:ga8ae4597a9e237b75a108cdde49c302a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0fa22f23eb96f7d513dfbe9802596a32"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga0fa22f23eb96f7d513dfbe9802596a32">SPI_SLAVE0</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga0fa22f23eb96f7d513dfbe9802596a32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga96cc97e73af8ec7cffa9e1d4526692fc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga96cc97e73af8ec7cffa9e1d4526692fc">SPI_SLAVE1</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ga96cc97e73af8ec7cffa9e1d4526692fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf58a9c9069d93bd0664d2197c87ce9ff"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gaf58a9c9069d93bd0664d2197c87ce9ff">SPI_SLAVE2</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:gaf58a9c9069d93bd0664d2197c87ce9ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b6e7752f4befcdab3201ef0136ab1ea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga1b6e7752f4befcdab3201ef0136ab1ea">SPI_SLAVE3</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:ga1b6e7752f4befcdab3201ef0136ab1ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga20816bc66e8bf5ca76796cb07066ec9f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga20816bc66e8bf5ca76796cb07066ec9f">SPI_SLAVE4</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:ga20816bc66e8bf5ca76796cb07066ec9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga71fb210f3a500d2eb1555ccd6d61c4d2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga71fb210f3a500d2eb1555ccd6d61c4d2">SPI_SLAVE5</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:ga71fb210f3a500d2eb1555ccd6d61c4d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadbddceb6a0fdd14592a2ffe9644a87a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gadbddceb6a0fdd14592a2ffe9644a87a9">SPI_SLAVE6</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:gadbddceb6a0fdd14592a2ffe9644a87a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf5b653936008438cdaad284e3aff2f22"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gaf5b653936008438cdaad284e3aff2f22">SPI_SLAVE7</a>&#160;&#160;&#160;7</td></tr>
<tr class="separator:gaf5b653936008438cdaad284e3aff2f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b44a4e9a414e9dffb9641ec9cc8fd23"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga3b44a4e9a414e9dffb9641ec9cc8fd23">SPI_SLAVE8</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:ga3b44a4e9a414e9dffb9641ec9cc8fd23"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga8a442d94700c057047ef99e718e68308"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga8a442d94700c057047ef99e718e68308">SPICallback</a>) (struct <a class="el" href="group__spi.html#structspi__transaction">spi_transaction</a> *trans)</td></tr>
<tr class="memdesc:ga8a442d94700c057047ef99e718e68308"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI Callback function.  <a href="group__spi.html#ga8a442d94700c057047ef99e718e68308">More...</a><br /></td></tr>
<tr class="separator:ga8a442d94700c057047ef99e718e68308"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga96e7e9bbfca8b326307e8b20ba4706e1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga96e7e9bbfca8b326307e8b20ba4706e1">SPIMode</a> { <a class="el" href="group__spi.html#gga96e7e9bbfca8b326307e8b20ba4706e1a42c50a3ec0aa45334136059636fcfc46">SPIMaster</a>
, <a class="el" href="group__spi.html#gga96e7e9bbfca8b326307e8b20ba4706e1aaacd1a7fa6337c467a920af720dc752b">SPISlave</a>
 }</td></tr>
<tr class="separator:ga96e7e9bbfca8b326307e8b20ba4706e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a54d65ebae5c91cb0b5f28cd7111ae3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga7a54d65ebae5c91cb0b5f28cd7111ae3">SPISlaveSelect</a> { <a class="el" href="group__spi.html#gga7a54d65ebae5c91cb0b5f28cd7111ae3aba395831c171e283b2479f63db99d00c">SPISelectUnselect</a>
, <a class="el" href="group__spi.html#gga7a54d65ebae5c91cb0b5f28cd7111ae3a0e6e45a45e7561f69cca8cfbe140758b">SPISelect</a>
, <a class="el" href="group__spi.html#gga7a54d65ebae5c91cb0b5f28cd7111ae3acfd3336d9cd80d7a1b9eb7582848def5">SPIUnselect</a>
, <a class="el" href="group__spi.html#gga7a54d65ebae5c91cb0b5f28cd7111ae3a7ff904f6a0c454d8b486537f343062f3">SPINoSelect</a>
 }</td></tr>
<tr class="memdesc:ga7a54d65ebae5c91cb0b5f28cd7111ae3"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI slave selection behavior options.  <a href="group__spi.html#ga7a54d65ebae5c91cb0b5f28cd7111ae3">More...</a><br /></td></tr>
<tr class="separator:ga7a54d65ebae5c91cb0b5f28cd7111ae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga133152bd9fd803ef729bdfb9dc488baa"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga133152bd9fd803ef729bdfb9dc488baa">SPIClockPhase</a> { <a class="el" href="group__spi.html#gga133152bd9fd803ef729bdfb9dc488baaaef9737139e9d1ed3ef30d2200acc629e">SPICphaEdge1</a>
, <a class="el" href="group__spi.html#gga133152bd9fd803ef729bdfb9dc488baaa0819b3eda26f2666ff69ced98db281ce">SPICphaEdge2</a>
 }</td></tr>
<tr class="memdesc:ga133152bd9fd803ef729bdfb9dc488baa"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI CPHA (clock phase) options.  <a href="group__spi.html#ga133152bd9fd803ef729bdfb9dc488baa">More...</a><br /></td></tr>
<tr class="separator:ga133152bd9fd803ef729bdfb9dc488baa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga585d188d86d5ad9a6fe2d3d11af58ca7"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga585d188d86d5ad9a6fe2d3d11af58ca7">SPIClockPolarity</a> { <a class="el" href="group__spi.html#gga585d188d86d5ad9a6fe2d3d11af58ca7a88d8aa68a47badab24e8237a333cc029">SPICpolIdleLow</a>
, <a class="el" href="group__spi.html#gga585d188d86d5ad9a6fe2d3d11af58ca7abb9d597cb05133176eac7d6a87b5f9af">SPICpolIdleHigh</a>
 }</td></tr>
<tr class="memdesc:ga585d188d86d5ad9a6fe2d3d11af58ca7"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI CPOL (clock polarity) options.  <a href="group__spi.html#ga585d188d86d5ad9a6fe2d3d11af58ca7">More...</a><br /></td></tr>
<tr class="separator:ga585d188d86d5ad9a6fe2d3d11af58ca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7f6befabf036cdd2fcc73e688d17f92"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gab7f6befabf036cdd2fcc73e688d17f92">SPIDataSizeSelect</a> { <a class="el" href="group__spi.html#ggab7f6befabf036cdd2fcc73e688d17f92a616ab1558f18f3b3c58f22e0f16fe40e">SPIDss8bit</a>
, <a class="el" href="group__spi.html#ggab7f6befabf036cdd2fcc73e688d17f92af211626475dc974e0c1a2256c7ff4de9">SPIDss16bit</a>
 }</td></tr>
<tr class="memdesc:gab7f6befabf036cdd2fcc73e688d17f92"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI data word size of transfer.  <a href="group__spi.html#gab7f6befabf036cdd2fcc73e688d17f92">More...</a><br /></td></tr>
<tr class="separator:gab7f6befabf036cdd2fcc73e688d17f92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga52e70c55efc6a9b04903157a0965baac"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga52e70c55efc6a9b04903157a0965baac">SPITransactionStatus</a> { <br />
&#160;&#160;<a class="el" href="group__spi.html#gga52e70c55efc6a9b04903157a0965baacadf5763363daaa43ebba32c0f56b85db9">SPITransPending</a>
, <a class="el" href="group__spi.html#gga52e70c55efc6a9b04903157a0965baacaa9502bb1de8d8491ceb5443ef51c4f4a">SPITransRunning</a>
, <a class="el" href="group__spi.html#gga52e70c55efc6a9b04903157a0965baacaa4021c68696337695cfdb356866f3b53">SPITransSuccess</a>
, <a class="el" href="group__spi.html#gga52e70c55efc6a9b04903157a0965baaca3f30804ee098adcaa3b21455346c3707">SPITransFailed</a>
, <br />
&#160;&#160;<a class="el" href="group__spi.html#gga52e70c55efc6a9b04903157a0965baacaf68ce6dfcd0fd5b2210ce03c86bb4580">SPITransDone</a>
<br />
 }</td></tr>
<tr class="memdesc:ga52e70c55efc6a9b04903157a0965baac"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI transaction status.  <a href="group__spi.html#ga52e70c55efc6a9b04903157a0965baac">More...</a><br /></td></tr>
<tr class="separator:ga52e70c55efc6a9b04903157a0965baac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga495f0019475966e28264aaf8e37c6529"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga495f0019475966e28264aaf8e37c6529">SPIStatus</a> { <a class="el" href="group__spi.html#gga495f0019475966e28264aaf8e37c6529a043fd5f30e831835768732e5f373dada">SPIIdle</a>
, <a class="el" href="group__spi.html#gga495f0019475966e28264aaf8e37c6529a55c7e2679f705c1f9e501a69908f7f28">SPIRunning</a>
 }</td></tr>
<tr class="memdesc:ga495f0019475966e28264aaf8e37c6529"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI peripheral status.  <a href="group__spi.html#ga495f0019475966e28264aaf8e37c6529">More...</a><br /></td></tr>
<tr class="separator:ga495f0019475966e28264aaf8e37c6529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa97b351a297dda534c3f9cee0d5b4647"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gaa97b351a297dda534c3f9cee0d5b4647">SPIBitOrder</a> { <a class="el" href="group__spi.html#ggaa97b351a297dda534c3f9cee0d5b4647ab95f234ab8475459a286da0c132240e9">SPIMSBFirst</a>
, <a class="el" href="group__spi.html#ggaa97b351a297dda534c3f9cee0d5b4647aacaa28dc2358c67ffb8f7dea18311863">SPILSBFirst</a>
 }</td></tr>
<tr class="separator:gaa97b351a297dda534c3f9cee0d5b4647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaabe4f085d398b1dabe6526437d0069b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gaaabe4f085d398b1dabe6526437d0069b">SPIClockDiv</a> { <br />
&#160;&#160;<a class="el" href="group__spi.html#ggaaabe4f085d398b1dabe6526437d0069ba32d98a42e45177c17732d3388c7db470">SPIDiv2</a>
, <a class="el" href="group__spi.html#ggaaabe4f085d398b1dabe6526437d0069ba02d4312b29bafe6c8cebac74e7160f6c">SPIDiv4</a>
, <a class="el" href="group__spi.html#ggaaabe4f085d398b1dabe6526437d0069ba069c09961b2c5687f6b657659d891074">SPIDiv8</a>
, <a class="el" href="group__spi.html#ggaaabe4f085d398b1dabe6526437d0069baf3bcf0017ccafa26ed467d7a4474b167">SPIDiv16</a>
, <br />
&#160;&#160;<a class="el" href="group__spi.html#ggaaabe4f085d398b1dabe6526437d0069baa2b44a4b5e42910ff3ac1243d150ef8f">SPIDiv32</a>
, <a class="el" href="group__spi.html#ggaaabe4f085d398b1dabe6526437d0069baedf1306791ecf55a11a2a37dbbd6b1b1">SPIDiv64</a>
, <a class="el" href="group__spi.html#ggaaabe4f085d398b1dabe6526437d0069ba82c78797afbfbba58ef1f977ef52691f">SPIDiv128</a>
, <a class="el" href="group__spi.html#ggaaabe4f085d398b1dabe6526437d0069ba5d633b4ee4d696627a0c4b437a20e2a9">SPIDiv256</a>
<br />
 }</td></tr>
<tr class="memdesc:gaaabe4f085d398b1dabe6526437d0069b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Peripheral clock divider.  <a href="group__spi.html#gaaabe4f085d398b1dabe6526437d0069b">More...</a><br /></td></tr>
<tr class="separator:gaaabe4f085d398b1dabe6526437d0069b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2437939c4fca0a4a5a4f79460ed3f731"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga2437939c4fca0a4a5a4f79460ed3f731">spi0_init</a> (void)</td></tr>
<tr class="separator:ga2437939c4fca0a4a5a4f79460ed3f731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8cb9f918fae47c201bf233a0b3b282f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gab8cb9f918fae47c201bf233a0b3b282f">spi0_arch_init</a> (void)</td></tr>
<tr class="memdesc:gab8cb9f918fae47c201bf233a0b3b282f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Architecture dependent SPI0 initialization.  <a href="group__spi.html#gab8cb9f918fae47c201bf233a0b3b282f">More...</a><br /></td></tr>
<tr class="separator:gab8cb9f918fae47c201bf233a0b3b282f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7da3469436debceb731ecb76c920efda"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga7da3469436debceb731ecb76c920efda">spi1_init</a> (void)</td></tr>
<tr class="separator:ga7da3469436debceb731ecb76c920efda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaba00866ddaf960c0c761e61f81e5216"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gaaba00866ddaf960c0c761e61f81e5216">spi1_arch_init</a> (void)</td></tr>
<tr class="memdesc:gaaba00866ddaf960c0c761e61f81e5216"><td class="mdescLeft">&#160;</td><td class="mdescRight">Architecture dependent SPI1 initialization.  <a href="group__spi.html#gaaba00866ddaf960c0c761e61f81e5216">More...</a><br /></td></tr>
<tr class="separator:gaaba00866ddaf960c0c761e61f81e5216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c8c4e89459606c70f6749714abd4a86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga1c8c4e89459606c70f6749714abd4a86">spi2_init</a> (void)</td></tr>
<tr class="separator:ga1c8c4e89459606c70f6749714abd4a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae6c7e2bb3fb354f3b98282386b41bf70"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gae6c7e2bb3fb354f3b98282386b41bf70">spi2_arch_init</a> (void)</td></tr>
<tr class="memdesc:gae6c7e2bb3fb354f3b98282386b41bf70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Architecture dependent SPI2 initialization.  <a href="group__spi.html#gae6c7e2bb3fb354f3b98282386b41bf70">More...</a><br /></td></tr>
<tr class="separator:gae6c7e2bb3fb354f3b98282386b41bf70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c0861f0c2184cab82f883ca29312011"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga6c0861f0c2184cab82f883ca29312011">spi_init</a> (struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a> *<a class="el" href="ins__alt__float_8c.html#a9d3f100c4375da4d957dbe599d494905">p</a>)</td></tr>
<tr class="memdesc:ga6c0861f0c2184cab82f883ca29312011"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a spi peripheral.  <a href="group__spi.html#ga6c0861f0c2184cab82f883ca29312011">More...</a><br /></td></tr>
<tr class="separator:ga6c0861f0c2184cab82f883ca29312011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc9125c5764a6749703ae4f1303a16f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gafc9125c5764a6749703ae4f1303a16f3">spi_init_slaves</a> (void)</td></tr>
<tr class="memdesc:gafc9125c5764a6749703ae4f1303a16f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize all used slaves and unselect them.  <a href="group__spi.html#gafc9125c5764a6749703ae4f1303a16f3">More...</a><br /></td></tr>
<tr class="separator:gafc9125c5764a6749703ae4f1303a16f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d383931766cb373ebad0b8bc26d439d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga5d383931766cb373ebad0b8bc26d439d">spi_submit</a> (struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a> *<a class="el" href="ins__alt__float_8c.html#a9d3f100c4375da4d957dbe599d494905">p</a>, struct <a class="el" href="group__spi.html#structspi__transaction">spi_transaction</a> *t)</td></tr>
<tr class="memdesc:ga5d383931766cb373ebad0b8bc26d439d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Submit a spi transaction.  <a href="group__spi.html#ga5d383931766cb373ebad0b8bc26d439d">More...</a><br /></td></tr>
<tr class="separator:ga5d383931766cb373ebad0b8bc26d439d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66e55e817c63768ac9910dc6f7cc9447"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga66e55e817c63768ac9910dc6f7cc9447">spi_blocking_transceive</a> (struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a> *<a class="el" href="ins__alt__float_8c.html#a9d3f100c4375da4d957dbe599d494905">p</a>, struct <a class="el" href="group__spi.html#structspi__transaction">spi_transaction</a> *t)</td></tr>
<tr class="memdesc:ga66e55e817c63768ac9910dc6f7cc9447"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a spi transaction (blocking).  <a href="group__spi.html#ga66e55e817c63768ac9910dc6f7cc9447">More...</a><br /></td></tr>
<tr class="separator:ga66e55e817c63768ac9910dc6f7cc9447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad43916477f5d87b42eaa7d2099771568"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gad43916477f5d87b42eaa7d2099771568">spi_slave_select</a> (<a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> slave)</td></tr>
<tr class="memdesc:gad43916477f5d87b42eaa7d2099771568"><td class="mdescLeft">&#160;</td><td class="mdescRight">Select a slave.  <a href="group__spi.html#gad43916477f5d87b42eaa7d2099771568">More...</a><br /></td></tr>
<tr class="separator:gad43916477f5d87b42eaa7d2099771568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga99507da72932c02e5d8daf9a7170ed69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga99507da72932c02e5d8daf9a7170ed69">spi_slave_unselect</a> (<a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> slave)</td></tr>
<tr class="memdesc:ga99507da72932c02e5d8daf9a7170ed69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unselect a slave.  <a href="group__spi.html#ga99507da72932c02e5d8daf9a7170ed69">More...</a><br /></td></tr>
<tr class="separator:ga99507da72932c02e5d8daf9a7170ed69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga747ed5cb8c8252f0101fb60a04fa886d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga747ed5cb8c8252f0101fb60a04fa886d">spi_lock</a> (struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a> *<a class="el" href="ins__alt__float_8c.html#a9d3f100c4375da4d957dbe599d494905">p</a>, <a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> slave)</td></tr>
<tr class="memdesc:ga747ed5cb8c8252f0101fb60a04fa886d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock the SPI fifo.  <a href="group__spi.html#ga747ed5cb8c8252f0101fb60a04fa886d">More...</a><br /></td></tr>
<tr class="separator:ga747ed5cb8c8252f0101fb60a04fa886d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf5ff5a9f93b73caf6532b7e25dd917b9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gaf5ff5a9f93b73caf6532b7e25dd917b9">spi_resume</a> (struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a> *<a class="el" href="ins__alt__float_8c.html#a9d3f100c4375da4d957dbe599d494905">p</a>, <a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> slave)</td></tr>
<tr class="memdesc:gaf5ff5a9f93b73caf6532b7e25dd917b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume the SPI fifo.  <a href="group__spi.html#gaf5ff5a9f93b73caf6532b7e25dd917b9">More...</a><br /></td></tr>
<tr class="separator:gaf5ff5a9f93b73caf6532b7e25dd917b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7321d472bfa9548243ea6f22cf3ff8a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga7321d472bfa9548243ea6f22cf3ff8a4">spi_slave_init</a> (struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a> *<a class="el" href="ins__alt__float_8c.html#a9d3f100c4375da4d957dbe599d494905">p</a>)</td></tr>
<tr class="memdesc:ga7321d472bfa9548243ea6f22cf3ff8a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a spi peripheral in slave mode.  <a href="group__spi.html#ga7321d472bfa9548243ea6f22cf3ff8a4">More...</a><br /></td></tr>
<tr class="separator:ga7321d472bfa9548243ea6f22cf3ff8a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2b96673b774298d3bd908e84ceb37c8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gad2b96673b774298d3bd908e84ceb37c8">spi_slave_register</a> (struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a> *<a class="el" href="ins__alt__float_8c.html#a9d3f100c4375da4d957dbe599d494905">p</a>, struct <a class="el" href="group__spi.html#structspi__transaction">spi_transaction</a> *t)</td></tr>
<tr class="memdesc:gad2b96673b774298d3bd908e84ceb37c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a spi transaction in slave mode (only one transaction can be registered).  <a href="group__spi.html#gad2b96673b774298d3bd908e84ceb37c8">More...</a><br /></td></tr>
<tr class="separator:gad2b96673b774298d3bd908e84ceb37c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6654c5e4a8dd36724bef153d376476b8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga6654c5e4a8dd36724bef153d376476b8">spi_slave_wait</a> (struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a> *<a class="el" href="ins__alt__float_8c.html#a9d3f100c4375da4d957dbe599d494905">p</a>)</td></tr>
<tr class="memdesc:ga6654c5e4a8dd36724bef153d376476b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialized and wait for the next transaction.  <a href="group__spi.html#ga6654c5e4a8dd36724bef153d376476b8">More...</a><br /></td></tr>
<tr class="separator:ga6654c5e4a8dd36724bef153d376476b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gae920399b05f855df64dd584fe647eab3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gae920399b05f855df64dd584fe647eab3">spi0</a></td></tr>
<tr class="separator:gae920399b05f855df64dd584fe647eab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaedccba8390a9d630d522a0b282c4f9b9"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gaedccba8390a9d630d522a0b282c4f9b9">spi1</a></td></tr>
<tr class="memdesc:gaedccba8390a9d630d522a0b282c4f9b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">receive transferred over DMA  <a href="group__spi.html#gaedccba8390a9d630d522a0b282c4f9b9">More...</a><br /></td></tr>
<tr class="separator:gaedccba8390a9d630d522a0b282c4f9b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabc3004247e95c09c15cfdf7d3e6402b7"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gabc3004247e95c09c15cfdf7d3e6402b7">spi2</a></td></tr>
<tr class="memdesc:gabc3004247e95c09c15cfdf7d3e6402b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">receive transferred over DMA  <a href="group__spi.html#gabc3004247e95c09c15cfdf7d3e6402b7">More...</a><br /></td></tr>
<tr class="separator:gabc3004247e95c09c15cfdf7d3e6402b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structspi__transaction" id="structspi__transaction"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structspi__transaction">&#9670;&nbsp;</a></span>spi_transaction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct spi_transaction</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>SPI transaction structure. </p>
<ul>
<li>Use this structure to store a request of SPI transaction and submit it using <a class="el" href="group__spi.html#ga5d383931766cb373ebad0b8bc26d439d" title="Submit a spi transaction.">spi_submit</a> function</li>
<li>The input/output buffers needs to be created separately</li>
<li>Take care of pointing input_buf/ouput_buf correctly</li>
<li>input_length and output_length can be different, the larger number of the two specifies the total number of exchanged words,</li>
<li>if input_length is larger than output length, 0 is sent for the remaining words </li>
</ul>

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00148">148</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>
</div><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for spi_transaction:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structspi__transaction__coll__graph.png" border="0" usemap="#aspi__transaction_coll__map" alt="Collaboration graph"/></div>
<map name="aspi__transaction_coll__map" id="aspi__transaction_coll__map">
<area shape="rect" title="SPI transaction structure." alt="" coords="5,109,127,136"/>
<area shape="rect" title=" " alt="" coords="37,5,95,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a42f7b32b71120469bf60af28f5880177"></a><a class="el" href="group__spi.html#ga8a442d94700c057047ef99e718e68308">SPICallback</a></td>
<td class="fieldname">
after_cb</td>
<td class="fielddoc">
NULL or function called after the transaction. </td></tr>
<tr><td class="fieldtype">
<a id="a34d366d59c97ab1993da279ec6c19658"></a><a class="el" href="group__spi.html#ga8a442d94700c057047ef99e718e68308">SPICallback</a></td>
<td class="fieldname">
before_cb</td>
<td class="fielddoc">
NULL or function called before the transaction. </td></tr>
<tr><td class="fieldtype">
<a id="af804a20f8372631a24aad61be1383307"></a>enum <a class="el" href="group__spi.html#gaa97b351a297dda534c3f9cee0d5b4647">SPIBitOrder</a></td>
<td class="fieldname">
bitorder</td>
<td class="fielddoc">
MSB/LSB order. </td></tr>
<tr><td class="fieldtype">
<a id="a8d8c70f4ac840678b944e410e93f779e"></a>enum <a class="el" href="group__spi.html#gaaabe4f085d398b1dabe6526437d0069b">SPIClockDiv</a></td>
<td class="fieldname">
cdiv</td>
<td class="fielddoc">
prescaler of main clock to use as SPI clock </td></tr>
<tr><td class="fieldtype">
<a id="a1ffecb70c8f221ab1296d06e61448485"></a>enum <a class="el" href="group__spi.html#ga133152bd9fd803ef729bdfb9dc488baa">SPIClockPhase</a></td>
<td class="fieldname">
cpha</td>
<td class="fielddoc">
clock phase control </td></tr>
<tr><td class="fieldtype">
<a id="a1c63fdf45b423a121cf0666a8aaa2539"></a>enum <a class="el" href="group__spi.html#ga585d188d86d5ad9a6fe2d3d11af58ca7">SPIClockPolarity</a></td>
<td class="fieldname">
cpol</td>
<td class="fielddoc">
clock polarity control </td></tr>
<tr><td class="fieldtype">
<a id="a815b95697425c9e24fb81e83f4a13385"></a>enum <a class="el" href="group__spi.html#gab7f6befabf036cdd2fcc73e688d17f92">SPIDataSizeSelect</a></td>
<td class="fieldname">
dss</td>
<td class="fielddoc">
data transfer word size </td></tr>
<tr><td class="fieldtype">
<a id="ab7151a300fa12304ed1f32fbe135c143"></a>volatile <a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *</td>
<td class="fieldname">
input_buf</td>
<td class="fielddoc">
pointer to receive buffer for DMA </td></tr>
<tr><td class="fieldtype">
<a id="a826bfe3ef31eee73f45cfb9d1aba2f83"></a><a class="el" href="vl53l1__types_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a></td>
<td class="fieldname">
input_length</td>
<td class="fielddoc">
number of data words to read </td></tr>
<tr><td class="fieldtype">
<a id="a81b75a5eca2a775f4dcf89e8f1c519eb"></a>volatile <a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *</td>
<td class="fieldname">
output_buf</td>
<td class="fielddoc">
pointer to transmit buffer for DMA </td></tr>
<tr><td class="fieldtype">
<a id="afb1b752d52e128cbc20348ef79c5f131"></a><a class="el" href="vl53l1__types_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a></td>
<td class="fieldname">
output_length</td>
<td class="fielddoc">
number of data words to write </td></tr>
<tr><td class="fieldtype">
<a id="a2716d9d8e12e4b02d9093bfbe01346ba"></a>enum <a class="el" href="group__spi.html#ga7a54d65ebae5c91cb0b5f28cd7111ae3">SPISlaveSelect</a></td>
<td class="fieldname">
select</td>
<td class="fielddoc">
slave selection behavior </td></tr>
<tr><td class="fieldtype">
<a id="ad172d82768bb46939cb4e6ffbd230e77"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
slave_idx</td>
<td class="fielddoc">
slave id: <a class="el" href="group__spi.html#ga0fa22f23eb96f7d513dfbe9802596a32">SPI_SLAVE0</a> to <a class="el" href="group__spi.html#ga20816bc66e8bf5ca76796cb07066ec9f">SPI_SLAVE4</a> </td></tr>
<tr><td class="fieldtype">
<a id="afcc49de6913e59398111a070be5aeda2"></a>enum <a class="el" href="group__spi.html#ga52e70c55efc6a9b04903157a0965baac">SPITransactionStatus</a></td>
<td class="fieldname">
status</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="structspi__periph" id="structspi__periph"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structspi__periph">&#9670;&nbsp;</a></span>spi_periph</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct spi_periph</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>SPI peripheral structure. </p>

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00174">174</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>
</div><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Collaboration diagram for spi_periph:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structspi__periph__coll__graph.png" border="0" usemap="#aspi__periph_coll__map" alt="Collaboration graph"/></div>
<map name="aspi__periph_coll__map" id="aspi__periph_coll__map">
<area shape="rect" title="SPI peripheral structure." alt="" coords="5,95,95,121"/>
<area shape="rect" title=" " alt="" coords="21,5,79,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a8b32489ec5498094c97fd4d31209ab47"></a>void *</td>
<td class="fieldname">
init_struct</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ae01a3c5cd0e42a84335722c8d6b3fce2"></a>enum <a class="el" href="group__spi.html#ga96e7e9bbfca8b326307e8b20ba4706e1">SPIMode</a></td>
<td class="fieldname">
mode</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a655488ef6fbcef7c997285db2ac03b4d"></a>void *</td>
<td class="fieldname">
reg_addr</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="afcfe0aec04a43703058ea02491970336"></a>volatile <a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
rx_idx_buf</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a413be255346b4fefbb01e9a55ee8a286"></a>enum <a class="el" href="group__spi.html#ga495f0019475966e28264aaf8e37c6529">SPIStatus</a></td>
<td class="fieldname">
status</td>
<td class="fielddoc">
internal state of the peripheral </td></tr>
<tr><td class="fieldtype">
<a id="acd3194574f680b35ece651e784c4327a"></a>volatile <a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
suspend</td>
<td class="fielddoc">
control for stop/resume of the fifo </td></tr>
<tr><td class="fieldtype">
<a id="a5f319ec82695509b414649937a379da6"></a>struct <a class="el" href="group__spi.html#structspi__transaction">spi_transaction</a> *</td>
<td class="fieldname">
trans[<a class="el" href="group__spi.html#ga8ae4597a9e237b75a108cdde49c302a6">SPI_TRANSACTION_QUEUE_LEN</a>]</td>
<td class="fielddoc">
circular buffer holding transactions </td></tr>
<tr><td class="fieldtype">
<a id="af1cd87f1e6b8cf0bfad3ba646224601f"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
trans_extract_idx</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ab96104b648a016e934752e01ec4f2b59"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
trans_insert_idx</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="abc8a928c600b119ddffed3496001a84e"></a>volatile <a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
tx_idx_buf</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga0fa22f23eb96f7d513dfbe9802596a32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0fa22f23eb96f7d513dfbe9802596a32">&#9670;&nbsp;</a></span>SPI_SLAVE0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_SLAVE0&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00192">192</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a id="ga96cc97e73af8ec7cffa9e1d4526692fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga96cc97e73af8ec7cffa9e1d4526692fc">&#9670;&nbsp;</a></span>SPI_SLAVE1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_SLAVE1&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00193">193</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a id="gaf58a9c9069d93bd0664d2197c87ce9ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf58a9c9069d93bd0664d2197c87ce9ff">&#9670;&nbsp;</a></span>SPI_SLAVE2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_SLAVE2&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00194">194</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a id="ga1b6e7752f4befcdab3201ef0136ab1ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b6e7752f4befcdab3201ef0136ab1ea">&#9670;&nbsp;</a></span>SPI_SLAVE3</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_SLAVE3&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00195">195</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a id="ga20816bc66e8bf5ca76796cb07066ec9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga20816bc66e8bf5ca76796cb07066ec9f">&#9670;&nbsp;</a></span>SPI_SLAVE4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_SLAVE4&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00196">196</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a id="ga71fb210f3a500d2eb1555ccd6d61c4d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga71fb210f3a500d2eb1555ccd6d61c4d2">&#9670;&nbsp;</a></span>SPI_SLAVE5</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_SLAVE5&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00197">197</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a id="gadbddceb6a0fdd14592a2ffe9644a87a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadbddceb6a0fdd14592a2ffe9644a87a9">&#9670;&nbsp;</a></span>SPI_SLAVE6</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_SLAVE6&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00198">198</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a id="gaf5b653936008438cdaad284e3aff2f22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf5b653936008438cdaad284e3aff2f22">&#9670;&nbsp;</a></span>SPI_SLAVE7</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_SLAVE7&#160;&#160;&#160;7</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00199">199</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a id="ga3b44a4e9a414e9dffb9641ec9cc8fd23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3b44a4e9a414e9dffb9641ec9cc8fd23">&#9670;&nbsp;</a></span>SPI_SLAVE8</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_SLAVE8&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00200">200</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a id="ga8ae4597a9e237b75a108cdde49c302a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8ae4597a9e237b75a108cdde49c302a6">&#9670;&nbsp;</a></span>SPI_TRANSACTION_QUEUE_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_TRANSACTION_QUEUE_LEN&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SPI transaction queue length. </p>
<p>Number of transactions that can be queued. </p>

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00169">169</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga8a442d94700c057047ef99e718e68308"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8a442d94700c057047ef99e718e68308">&#9670;&nbsp;</a></span>SPICallback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* SPICallback) (struct <a class="el" href="group__spi.html#structspi__transaction">spi_transaction</a> *trans)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SPI Callback function. </p>
<p>If not NULL (or 0), call function (with transaction as parameter) before or after transaction, e.g to allow execution of hardware specific actions </p>

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00136">136</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gaa97b351a297dda534c3f9cee0d5b4647"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa97b351a297dda534c3f9cee0d5b4647">&#9670;&nbsp;</a></span>SPIBitOrder</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__spi.html#gaa97b351a297dda534c3f9cee0d5b4647">SPIBitOrder</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaa97b351a297dda534c3f9cee0d5b4647ab95f234ab8475459a286da0c132240e9"></a>SPIMSBFirst&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggaa97b351a297dda534c3f9cee0d5b4647aacaa28dc2358c67ffb8f7dea18311863"></a>SPILSBFirst&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00111">111</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a id="gaaabe4f085d398b1dabe6526437d0069b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaabe4f085d398b1dabe6526437d0069b">&#9670;&nbsp;</a></span>SPIClockDiv</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__spi.html#gaaabe4f085d398b1dabe6526437d0069b">SPIClockDiv</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Peripheral clock divider. </p>
<p>Defines the SPI baudrate </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaaabe4f085d398b1dabe6526437d0069ba32d98a42e45177c17732d3388c7db470"></a>SPIDiv2&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggaaabe4f085d398b1dabe6526437d0069ba02d4312b29bafe6c8cebac74e7160f6c"></a>SPIDiv4&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggaaabe4f085d398b1dabe6526437d0069ba069c09961b2c5687f6b657659d891074"></a>SPIDiv8&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggaaabe4f085d398b1dabe6526437d0069baf3bcf0017ccafa26ed467d7a4474b167"></a>SPIDiv16&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggaaabe4f085d398b1dabe6526437d0069baa2b44a4b5e42910ff3ac1243d150ef8f"></a>SPIDiv32&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggaaabe4f085d398b1dabe6526437d0069baedf1306791ecf55a11a2a37dbbd6b1b1"></a>SPIDiv64&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggaaabe4f085d398b1dabe6526437d0069ba82c78797afbfbba58ef1f977ef52691f"></a>SPIDiv128&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggaaabe4f085d398b1dabe6526437d0069ba5d633b4ee4d696627a0c4b437a20e2a9"></a>SPIDiv256&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00119">119</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a id="ga133152bd9fd803ef729bdfb9dc488baa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga133152bd9fd803ef729bdfb9dc488baa">&#9670;&nbsp;</a></span>SPIClockPhase</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__spi.html#ga133152bd9fd803ef729bdfb9dc488baa">SPIClockPhase</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SPI CPHA (clock phase) options. </p>
<p>Control whether data line is sampled at first or second edge of clock signal. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga133152bd9fd803ef729bdfb9dc488baaaef9737139e9d1ed3ef30d2200acc629e"></a>SPICphaEdge1&#160;</td><td class="fielddoc"><p>CPHA = 0. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga133152bd9fd803ef729bdfb9dc488baaa0819b3eda26f2666ff69ced98db281ce"></a>SPICphaEdge2&#160;</td><td class="fielddoc"><p>CPHA = 1. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00073">73</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a id="ga585d188d86d5ad9a6fe2d3d11af58ca7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga585d188d86d5ad9a6fe2d3d11af58ca7">&#9670;&nbsp;</a></span>SPIClockPolarity</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__spi.html#ga585d188d86d5ad9a6fe2d3d11af58ca7">SPIClockPolarity</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SPI CPOL (clock polarity) options. </p>
<p>Control whether clock line is held low or high in idle state. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga585d188d86d5ad9a6fe2d3d11af58ca7a88d8aa68a47badab24e8237a333cc029"></a>SPICpolIdleLow&#160;</td><td class="fielddoc"><p>CPOL = 0. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga585d188d86d5ad9a6fe2d3d11af58ca7abb9d597cb05133176eac7d6a87b5f9af"></a>SPICpolIdleHigh&#160;</td><td class="fielddoc"><p>CPOL = 1. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00082">82</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a id="gab7f6befabf036cdd2fcc73e688d17f92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab7f6befabf036cdd2fcc73e688d17f92">&#9670;&nbsp;</a></span>SPIDataSizeSelect</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__spi.html#gab7f6befabf036cdd2fcc73e688d17f92">SPIDataSizeSelect</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SPI data word size of transfer. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggab7f6befabf036cdd2fcc73e688d17f92a616ab1558f18f3b3c58f22e0f16fe40e"></a>SPIDss8bit&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggab7f6befabf036cdd2fcc73e688d17f92af211626475dc974e0c1a2256c7ff4de9"></a>SPIDss16bit&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00089">89</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a id="ga96e7e9bbfca8b326307e8b20ba4706e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga96e7e9bbfca8b326307e8b20ba4706e1">&#9670;&nbsp;</a></span>SPIMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__spi.html#ga96e7e9bbfca8b326307e8b20ba4706e1">SPIMode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga96e7e9bbfca8b326307e8b20ba4706e1a42c50a3ec0aa45334136059636fcfc46"></a>SPIMaster&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga96e7e9bbfca8b326307e8b20ba4706e1aaacd1a7fa6337c467a920af720dc752b"></a>SPISlave&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00052">52</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a id="ga7a54d65ebae5c91cb0b5f28cd7111ae3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7a54d65ebae5c91cb0b5f28cd7111ae3">&#9670;&nbsp;</a></span>SPISlaveSelect</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__spi.html#ga7a54d65ebae5c91cb0b5f28cd7111ae3">SPISlaveSelect</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SPI slave selection behavior options. </p>
<p>Default operation should be SelectUnselected, but some peripherals might need some special control. Use non-default control only if you know what you're doing. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga7a54d65ebae5c91cb0b5f28cd7111ae3aba395831c171e283b2479f63db99d00c"></a>SPISelectUnselect&#160;</td><td class="fielddoc"><p>slave is selected before transaction and unselected after </p>
</td></tr>
<tr><td class="fieldname"><a id="gga7a54d65ebae5c91cb0b5f28cd7111ae3a0e6e45a45e7561f69cca8cfbe140758b"></a>SPISelect&#160;</td><td class="fielddoc"><p>slave is selected before transaction but not unselected </p>
</td></tr>
<tr><td class="fieldname"><a id="gga7a54d65ebae5c91cb0b5f28cd7111ae3acfd3336d9cd80d7a1b9eb7582848def5"></a>SPIUnselect&#160;</td><td class="fielddoc"><p>slave is not selected but unselected after transaction </p>
</td></tr>
<tr><td class="fieldname"><a id="gga7a54d65ebae5c91cb0b5f28cd7111ae3a7ff904f6a0c454d8b486537f343062f3"></a>SPINoSelect&#160;</td><td class="fielddoc"><p>slave is not selected nor unselected </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00062">62</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a id="ga495f0019475966e28264aaf8e37c6529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga495f0019475966e28264aaf8e37c6529">&#9670;&nbsp;</a></span>SPIStatus</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__spi.html#ga495f0019475966e28264aaf8e37c6529">SPIStatus</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SPI peripheral status. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga495f0019475966e28264aaf8e37c6529a043fd5f30e831835768732e5f373dada"></a>SPIIdle&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga495f0019475966e28264aaf8e37c6529a55c7e2679f705c1f9e501a69908f7f28"></a>SPIRunning&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00106">106</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a id="ga52e70c55efc6a9b04903157a0965baac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga52e70c55efc6a9b04903157a0965baac">&#9670;&nbsp;</a></span>SPITransactionStatus</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__spi.html#ga52e70c55efc6a9b04903157a0965baac">SPITransactionStatus</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SPI transaction status. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga52e70c55efc6a9b04903157a0965baacadf5763363daaa43ebba32c0f56b85db9"></a>SPITransPending&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga52e70c55efc6a9b04903157a0965baacaa9502bb1de8d8491ceb5443ef51c4f4a"></a>SPITransRunning&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga52e70c55efc6a9b04903157a0965baacaa4021c68696337695cfdb356866f3b53"></a>SPITransSuccess&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga52e70c55efc6a9b04903157a0965baaca3f30804ee098adcaa3b21455346c3707"></a>SPITransFailed&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga52e70c55efc6a9b04903157a0965baacaf68ce6dfcd0fd5b2210ce03c86bb4580"></a>SPITransDone&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00096">96</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab8cb9f918fae47c201bf233a0b3b282f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab8cb9f918fae47c201bf233a0b3b282f">&#9670;&nbsp;</a></span>spi0_arch_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi0_arch_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Architecture dependent SPI0 initialization. </p>
<p>Must be implemented by underlying architecture </p>

<p class="definition">Definition at line <a class="el" href="linux_2mcu__periph_2spi__arch_8c_source.html#l00137">137</a> of file <a class="el" href="linux_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

<p class="reference">References <a class="el" href="serial_8c_source.html#l00026">fd</a>, <a class="el" href="spi_8h_source.html#l00184">spi_periph::init_struct</a>, <a class="el" href="spi_8h_source.html#l00183">spi_periph::reg_addr</a>, <a class="el" href="spi_8c_source.html#l00035">spi0</a>, <a class="el" href="linux_2mcu__periph_2spi__arch_8c_source.html#l00130">SPI0_BITS_PER_WORD</a>, <a class="el" href="linux_2mcu__periph_2spi__arch_8c_source.html#l00126">SPI0_LSB_FIRST</a>, <a class="el" href="linux_2mcu__periph_2spi__arch_8c_source.html#l00134">SPI0_MAX_SPEED_HZ</a>, and <a class="el" href="linux_2mcu__periph_2spi__arch_8c_source.html#l00122">SPI0_MODE</a>.</p>

<p class="reference">Referenced by <a class="el" href="spi_8c_source.html#l00037">spi0_init()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_gab8cb9f918fae47c201bf233a0b3b282f_icgraph.png" border="0" usemap="#agroup__spi_gab8cb9f918fae47c201bf233a0b3b282f_icgraph" alt=""/></div>
<map name="agroup__spi_gab8cb9f918fae47c201bf233a0b3b282f_icgraph" id="agroup__spi_gab8cb9f918fae47c201bf233a0b3b282f_icgraph">
<area shape="rect" title="Architecture dependent SPI0 initialization." alt="" coords="491,31,603,57"/>
<area shape="rect" href="group__spi.html#ga2437939c4fca0a4a5a4f79460ed3f731" title=" " alt="" coords="365,31,443,57"/>
<area shape="rect" href="group__mcu__periph.html#ga9af744358ff4b1e3e33d7dd170862f9b" title="Microcontroller peripherals initialization." alt="" coords="239,31,317,57"/>
<area shape="rect" href="uart__tunnel_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="122,5,177,32"/>
<area shape="rect" href="demo__ahrs__actuators_8c.html#afaa8374e20b79aaf7cfcea5ad9467ab1" title=" " alt="" coords="108,56,191,83"/>
<area shape="rect" href="demo__ahrs__actuators_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,56,60,83"/>
</map>
</div>

</div>
</div>
<a id="ga2437939c4fca0a4a5a4f79460ed3f731"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2437939c4fca0a4a5a4f79460ed3f731">&#9670;&nbsp;</a></span>spi0_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi0_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="spi_8c_source.html#l00037">37</a> of file <a class="el" href="spi_8c_source.html">spi.c</a>.</p>

<p class="reference">References <a class="el" href="spi_8c_source.html#l00035">spi0</a>, <a class="el" href="linux_2mcu__periph_2spi__arch_8c_source.html#l00137">spi0_arch_init()</a>, and <a class="el" href="spi_8c_source.html#l00098">spi_init()</a>.</p>

<p class="reference">Referenced by <a class="el" href="mcu_8c_source.html#l00098">mcu_init()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_ga2437939c4fca0a4a5a4f79460ed3f731_cgraph.png" border="0" usemap="#agroup__spi_ga2437939c4fca0a4a5a4f79460ed3f731_cgraph" alt=""/></div>
<map name="agroup__spi_ga2437939c4fca0a4a5a4f79460ed3f731_cgraph" id="agroup__spi_ga2437939c4fca0a4a5a4f79460ed3f731_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,83,57"/>
<area shape="rect" href="group__spi.html#gab8cb9f918fae47c201bf233a0b3b282f" title="Architecture dependent SPI0 initialization." alt="" coords="131,5,243,32"/>
<area shape="rect" href="group__spi.html#ga6c0861f0c2184cab82f883ca29312011" title="Initialize a spi peripheral." alt="" coords="152,56,221,83"/>
</map>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_ga2437939c4fca0a4a5a4f79460ed3f731_icgraph.png" border="0" usemap="#agroup__spi_ga2437939c4fca0a4a5a4f79460ed3f731_icgraph" alt=""/></div>
<map name="agroup__spi_ga2437939c4fca0a4a5a4f79460ed3f731_icgraph" id="agroup__spi_ga2437939c4fca0a4a5a4f79460ed3f731_icgraph">
<area shape="rect" title=" " alt="" coords="365,31,443,57"/>
<area shape="rect" href="group__mcu__periph.html#ga9af744358ff4b1e3e33d7dd170862f9b" title="Microcontroller peripherals initialization." alt="" coords="239,31,317,57"/>
<area shape="rect" href="uart__tunnel_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="122,5,177,32"/>
<area shape="rect" href="demo__ahrs__actuators_8c.html#afaa8374e20b79aaf7cfcea5ad9467ab1" title=" " alt="" coords="108,56,191,83"/>
<area shape="rect" href="demo__ahrs__actuators_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,56,60,83"/>
</map>
</div>

</div>
</div>
<a id="gaaba00866ddaf960c0c761e61f81e5216"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaba00866ddaf960c0c761e61f81e5216">&#9670;&nbsp;</a></span>spi1_arch_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi1_arch_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Architecture dependent SPI1 initialization. </p>
<p>Must be implemented by underlying architecture </p>

<p class="definition">Definition at line <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html#l00423">423</a> of file <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

<p class="reference">References <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00077">locm3_spi_comm::br</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00103">spi_periph_dma::comm</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00104">spi_periph_dma::comm_sig</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00079">locm3_spi_comm::cpha</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00078">locm3_spi_comm::cpol</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00080">locm3_spi_comm::dff</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00091">spi_periph_dma::dma</a>, <a class="el" href="std_8h_source.html#l00005">FALSE</a>, <a class="el" href="serial_8c_source.html#l00026">fd</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00342">get_comm_signature()</a>, <a class="el" href="chibios_2mcu__periph_2gpio__arch_8c_source.html#l00061">gpio_setup_pin_af()</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00081">locm3_spi_comm::lsbfirst</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00092">spi_periph_dma::rcc_dma</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00093">spi_periph_dma::rx_chan</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00095">spi_periph_dma::rx_chan_sel</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00101">spi_periph_dma::rx_dummy_buf</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00102">spi_periph_dma::rx_extra_dummy_dma</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00097">spi_periph_dma::rx_nvic_irq</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00327">set_default_comm_config()</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00967">spi1</a>, <a class="el" href="linux_2mcu__periph_2spi__arch_8c_source.html#l00186">SPI1_BITS_PER_WORD</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00112">spi1_dma</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00472">SPI1_GPIO_AF</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00474">SPI1_GPIO_MISO</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00476">SPI1_GPIO_MOSI</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00473">SPI1_GPIO_PORT_MISO</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00475">SPI1_GPIO_PORT_MOSI</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00477">SPI1_GPIO_PORT_SCK</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00478">SPI1_GPIO_SCK</a>, <a class="el" href="linux_2mcu__periph_2spi__arch_8c_source.html#l00182">SPI1_LSB_FIRST</a>, <a class="el" href="linux_2mcu__periph_2spi__arch_8c_source.html#l00190">SPI1_MAX_SPEED_HZ</a>, <a class="el" href="linux_2mcu__periph_2spi__arch_8c_source.html#l00178">SPI1_MODE</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00498">spi_arch_int_enable()</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00090">spi_periph_dma::spidr</a>, <a class="el" href="spi_8h_source.html#l00107">SPIIdle</a>, <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html#l00399">thd_spi()</a>, <a class="el" href="std_8h_source.html#l00004">TRUE</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00094">spi_periph_dma::tx_chan</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00096">spi_periph_dma::tx_chan_sel</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00099">spi_periph_dma::tx_dummy_buf</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00100">spi_periph_dma::tx_extra_dummy_dma</a>, and <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00098">spi_periph_dma::tx_nvic_irq</a>.</p>

<p class="reference">Referenced by <a class="el" href="spi_8c_source.html#l00048">spi1_init()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_gaaba00866ddaf960c0c761e61f81e5216_cgraph.png" border="0" usemap="#agroup__spi_gaaba00866ddaf960c0c761e61f81e5216_cgraph" alt=""/></div>
<map name="agroup__spi_gaaba00866ddaf960c0c761e61f81e5216_cgraph" id="agroup__spi_gaaba00866ddaf960c0c761e61f81e5216_cgraph">
<area shape="rect" title="Architecture dependent SPI1 initialization." alt="" coords="5,107,117,133"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a1b67d6591f383aeac5cadbcc070af2d3" title=" " alt="" coords="181,5,339,32"/>
<area shape="rect" href="chibios_2mcu__periph_2gpio__arch_8c.html#a528b4b25ff5b01c8fc531698281f80f1" title="Setup a gpio for input or output with alternate function." alt="" coords="190,56,330,83"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#ac13da083b304f2ec1892ca8dcf98442f" title=" " alt="" coords="165,107,355,133"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a92d285e5b860130426aa3ce1369df0c9" title="Enable DMA channel interrupts." alt="" coords="185,157,335,184"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a1524dc1d1f9e729e7bb1831fa3f0b57d" title="Default spi thread." alt="" coords="225,208,295,235"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a3b31c9dcdd9d40b30a43ef7f6f58e5f2" title="main thread function" alt="" coords="403,208,523,235"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a365dbba94676b37ad550f337626425f7" title="Resolve CR1 (or CFG1)" alt="" coords="591,132,721,159"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a60353627415384b3800fd15b42115231" title="Resolve CR2 (or CFG2)" alt="" coords="591,183,721,209"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a816ec882637a52c36a69d511115014b1" title="Resolve slave pin." alt="" coords="573,233,739,260"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a6516ee2e5f4bb05db961183e1ed3c6ce" title="Resolve slave port." alt="" coords="571,284,741,311"/>
</map>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_gaaba00866ddaf960c0c761e61f81e5216_icgraph.png" border="0" usemap="#agroup__spi_gaaba00866ddaf960c0c761e61f81e5216_icgraph" alt=""/></div>
<map name="agroup__spi_gaaba00866ddaf960c0c761e61f81e5216_icgraph" id="agroup__spi_gaaba00866ddaf960c0c761e61f81e5216_icgraph">
<area shape="rect" title="Architecture dependent SPI1 initialization." alt="" coords="491,31,603,57"/>
<area shape="rect" href="group__spi.html#ga7da3469436debceb731ecb76c920efda" title=" " alt="" coords="365,31,443,57"/>
<area shape="rect" href="group__mcu__periph.html#ga9af744358ff4b1e3e33d7dd170862f9b" title="Microcontroller peripherals initialization." alt="" coords="239,31,317,57"/>
<area shape="rect" href="uart__tunnel_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="122,5,177,32"/>
<area shape="rect" href="demo__ahrs__actuators_8c.html#afaa8374e20b79aaf7cfcea5ad9467ab1" title=" " alt="" coords="108,56,191,83"/>
<area shape="rect" href="demo__ahrs__actuators_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,56,60,83"/>
</map>
</div>

</div>
</div>
<a id="ga7da3469436debceb731ecb76c920efda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7da3469436debceb731ecb76c920efda">&#9670;&nbsp;</a></span>spi1_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi1_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="spi_8c_source.html#l00048">48</a> of file <a class="el" href="spi_8c_source.html">spi.c</a>.</p>

<p class="reference">References <a class="el" href="spi_8c_source.html#l00046">spi1</a>, <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html#l00423">spi1_arch_init()</a>, and <a class="el" href="spi_8c_source.html#l00098">spi_init()</a>.</p>

<p class="reference">Referenced by <a class="el" href="mcu_8c_source.html#l00098">mcu_init()</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_ga7da3469436debceb731ecb76c920efda_cgraph.png" border="0" usemap="#agroup__spi_ga7da3469436debceb731ecb76c920efda_cgraph" alt=""/></div>
<map name="agroup__spi_ga7da3469436debceb731ecb76c920efda_cgraph" id="agroup__spi_ga7da3469436debceb731ecb76c920efda_cgraph">
<area shape="rect" title=" " alt="" coords="5,107,83,133"/>
<area shape="rect" href="group__spi.html#gaaba00866ddaf960c0c761e61f81e5216" title="Architecture dependent SPI1 initialization." alt="" coords="131,81,243,108"/>
<area shape="rect" href="group__spi.html#ga6c0861f0c2184cab82f883ca29312011" title="Initialize a spi peripheral." alt="" coords="152,132,221,159"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a1524dc1d1f9e729e7bb1831fa3f0b57d" title="Default spi thread." alt="" coords="291,81,360,108"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a3b31c9dcdd9d40b30a43ef7f6f58e5f2" title="main thread function" alt="" coords="408,81,528,108"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a365dbba94676b37ad550f337626425f7" title="Resolve CR1 (or CFG1)" alt="" coords="597,5,726,32"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a60353627415384b3800fd15b42115231" title="Resolve CR2 (or CFG2)" alt="" coords="597,56,726,83"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a816ec882637a52c36a69d511115014b1" title="Resolve slave pin." alt="" coords="579,107,744,133"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a6516ee2e5f4bb05db961183e1ed3c6ce" title="Resolve slave port." alt="" coords="576,157,747,184"/>
</map>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_ga7da3469436debceb731ecb76c920efda_icgraph.png" border="0" usemap="#agroup__spi_ga7da3469436debceb731ecb76c920efda_icgraph" alt=""/></div>
<map name="agroup__spi_ga7da3469436debceb731ecb76c920efda_icgraph" id="agroup__spi_ga7da3469436debceb731ecb76c920efda_icgraph">
<area shape="rect" title=" " alt="" coords="365,31,443,57"/>
<area shape="rect" href="group__mcu__periph.html#ga9af744358ff4b1e3e33d7dd170862f9b" title="Microcontroller peripherals initialization." alt="" coords="239,31,317,57"/>
<area shape="rect" href="uart__tunnel_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="122,5,177,32"/>
<area shape="rect" href="demo__ahrs__actuators_8c.html#afaa8374e20b79aaf7cfcea5ad9467ab1" title=" " alt="" coords="108,56,191,83"/>
<area shape="rect" href="demo__ahrs__actuators_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,56,60,83"/>
</map>
</div>

</div>
</div>
<a id="gae6c7e2bb3fb354f3b98282386b41bf70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae6c7e2bb3fb354f3b98282386b41bf70">&#9670;&nbsp;</a></span>spi2_arch_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi2_arch_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Architecture dependent SPI2 initialization. </p>
<p>Must be implemented by underlying architecture </p>

<p class="definition">Definition at line <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html#l00442">442</a> of file <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

<p class="reference">References <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00077">locm3_spi_comm::br</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00103">spi_periph_dma::comm</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00104">spi_periph_dma::comm_sig</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00079">locm3_spi_comm::cpha</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00078">locm3_spi_comm::cpol</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00080">locm3_spi_comm::dff</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00091">spi_periph_dma::dma</a>, <a class="el" href="std_8h_source.html#l00005">FALSE</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00342">get_comm_signature()</a>, <a class="el" href="chibios_2mcu__periph_2gpio__arch_8c_source.html#l00061">gpio_setup_pin_af()</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00081">locm3_spi_comm::lsbfirst</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00092">spi_periph_dma::rcc_dma</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00093">spi_periph_dma::rx_chan</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00095">spi_periph_dma::rx_chan_sel</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00101">spi_periph_dma::rx_dummy_buf</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00102">spi_periph_dma::rx_extra_dummy_dma</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00097">spi_periph_dma::rx_nvic_irq</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00327">set_default_comm_config()</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l01004">spi2</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00115">spi2_dma</a>, <a class="el" href="crazybee__f4__1_80_8h_source.html#l00154">SPI2_GPIO_AF</a>, <a class="el" href="crazybee__f4__1_80_8h_source.html#l00158">SPI2_GPIO_MISO</a>, <a class="el" href="crazybee__f4__1_80_8h_source.html#l00160">SPI2_GPIO_MOSI</a>, <a class="el" href="crazybee__f4__1_80_8h_source.html#l00157">SPI2_GPIO_PORT_MISO</a>, <a class="el" href="crazybee__f4__1_80_8h_source.html#l00159">SPI2_GPIO_PORT_MOSI</a>, <a class="el" href="crazybee__f4__1_80_8h_source.html#l00155">SPI2_GPIO_PORT_SCK</a>, <a class="el" href="crazybee__f4__1_80_8h_source.html#l00156">SPI2_GPIO_SCK</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00498">spi_arch_int_enable()</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00090">spi_periph_dma::spidr</a>, <a class="el" href="spi_8h_source.html#l00107">SPIIdle</a>, <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html#l00399">thd_spi()</a>, <a class="el" href="std_8h_source.html#l00004">TRUE</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00094">spi_periph_dma::tx_chan</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00096">spi_periph_dma::tx_chan_sel</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00099">spi_periph_dma::tx_dummy_buf</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00100">spi_periph_dma::tx_extra_dummy_dma</a>, and <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00098">spi_periph_dma::tx_nvic_irq</a>.</p>

<p class="reference">Referenced by <a class="el" href="spi_8c_source.html#l00059">spi2_init()</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_gae6c7e2bb3fb354f3b98282386b41bf70_cgraph.png" border="0" usemap="#agroup__spi_gae6c7e2bb3fb354f3b98282386b41bf70_cgraph" alt=""/></div>
<map name="agroup__spi_gae6c7e2bb3fb354f3b98282386b41bf70_cgraph" id="agroup__spi_gae6c7e2bb3fb354f3b98282386b41bf70_cgraph">
<area shape="rect" title="Architecture dependent SPI2 initialization." alt="" coords="5,107,117,133"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a1b67d6591f383aeac5cadbcc070af2d3" title=" " alt="" coords="181,5,339,32"/>
<area shape="rect" href="chibios_2mcu__periph_2gpio__arch_8c.html#a528b4b25ff5b01c8fc531698281f80f1" title="Setup a gpio for input or output with alternate function." alt="" coords="190,56,330,83"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#ac13da083b304f2ec1892ca8dcf98442f" title=" " alt="" coords="165,107,355,133"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a92d285e5b860130426aa3ce1369df0c9" title="Enable DMA channel interrupts." alt="" coords="185,157,335,184"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a1524dc1d1f9e729e7bb1831fa3f0b57d" title="Default spi thread." alt="" coords="225,208,295,235"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a3b31c9dcdd9d40b30a43ef7f6f58e5f2" title="main thread function" alt="" coords="403,208,523,235"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a365dbba94676b37ad550f337626425f7" title="Resolve CR1 (or CFG1)" alt="" coords="591,132,721,159"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a60353627415384b3800fd15b42115231" title="Resolve CR2 (or CFG2)" alt="" coords="591,183,721,209"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a816ec882637a52c36a69d511115014b1" title="Resolve slave pin." alt="" coords="573,233,739,260"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a6516ee2e5f4bb05db961183e1ed3c6ce" title="Resolve slave port." alt="" coords="571,284,741,311"/>
</map>
</div>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_gae6c7e2bb3fb354f3b98282386b41bf70_icgraph.png" border="0" usemap="#agroup__spi_gae6c7e2bb3fb354f3b98282386b41bf70_icgraph" alt=""/></div>
<map name="agroup__spi_gae6c7e2bb3fb354f3b98282386b41bf70_icgraph" id="agroup__spi_gae6c7e2bb3fb354f3b98282386b41bf70_icgraph">
<area shape="rect" title="Architecture dependent SPI2 initialization." alt="" coords="491,31,603,57"/>
<area shape="rect" href="group__spi.html#ga1c8c4e89459606c70f6749714abd4a86" title=" " alt="" coords="365,31,443,57"/>
<area shape="rect" href="group__mcu__periph.html#ga9af744358ff4b1e3e33d7dd170862f9b" title="Microcontroller peripherals initialization." alt="" coords="239,31,317,57"/>
<area shape="rect" href="uart__tunnel_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="122,5,177,32"/>
<area shape="rect" href="demo__ahrs__actuators_8c.html#afaa8374e20b79aaf7cfcea5ad9467ab1" title=" " alt="" coords="108,56,191,83"/>
<area shape="rect" href="demo__ahrs__actuators_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,56,60,83"/>
</map>
</div>

</div>
</div>
<a id="ga1c8c4e89459606c70f6749714abd4a86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1c8c4e89459606c70f6749714abd4a86">&#9670;&nbsp;</a></span>spi2_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi2_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="spi_8c_source.html#l00059">59</a> of file <a class="el" href="spi_8c_source.html">spi.c</a>.</p>

<p class="reference">References <a class="el" href="spi_8c_source.html#l00057">spi2</a>, <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html#l00442">spi2_arch_init()</a>, and <a class="el" href="spi_8c_source.html#l00098">spi_init()</a>.</p>

<p class="reference">Referenced by <a class="el" href="mcu_8c_source.html#l00098">mcu_init()</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_ga1c8c4e89459606c70f6749714abd4a86_cgraph.png" border="0" usemap="#agroup__spi_ga1c8c4e89459606c70f6749714abd4a86_cgraph" alt=""/></div>
<map name="agroup__spi_ga1c8c4e89459606c70f6749714abd4a86_cgraph" id="agroup__spi_ga1c8c4e89459606c70f6749714abd4a86_cgraph">
<area shape="rect" title=" " alt="" coords="5,107,83,133"/>
<area shape="rect" href="group__spi.html#gae6c7e2bb3fb354f3b98282386b41bf70" title="Architecture dependent SPI2 initialization." alt="" coords="131,81,243,108"/>
<area shape="rect" href="group__spi.html#ga6c0861f0c2184cab82f883ca29312011" title="Initialize a spi peripheral." alt="" coords="152,132,221,159"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a1524dc1d1f9e729e7bb1831fa3f0b57d" title="Default spi thread." alt="" coords="291,81,360,108"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a3b31c9dcdd9d40b30a43ef7f6f58e5f2" title="main thread function" alt="" coords="408,81,528,108"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a365dbba94676b37ad550f337626425f7" title="Resolve CR1 (or CFG1)" alt="" coords="597,5,726,32"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a60353627415384b3800fd15b42115231" title="Resolve CR2 (or CFG2)" alt="" coords="597,56,726,83"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a816ec882637a52c36a69d511115014b1" title="Resolve slave pin." alt="" coords="579,107,744,133"/>
<area shape="rect" href="chibios_2mcu__periph_2spi__arch_8c.html#a6516ee2e5f4bb05db961183e1ed3c6ce" title="Resolve slave port." alt="" coords="576,157,747,184"/>
</map>
</div>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_ga1c8c4e89459606c70f6749714abd4a86_icgraph.png" border="0" usemap="#agroup__spi_ga1c8c4e89459606c70f6749714abd4a86_icgraph" alt=""/></div>
<map name="agroup__spi_ga1c8c4e89459606c70f6749714abd4a86_icgraph" id="agroup__spi_ga1c8c4e89459606c70f6749714abd4a86_icgraph">
<area shape="rect" title=" " alt="" coords="365,31,443,57"/>
<area shape="rect" href="group__mcu__periph.html#ga9af744358ff4b1e3e33d7dd170862f9b" title="Microcontroller peripherals initialization." alt="" coords="239,31,317,57"/>
<area shape="rect" href="uart__tunnel_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="122,5,177,32"/>
<area shape="rect" href="demo__ahrs__actuators_8c.html#afaa8374e20b79aaf7cfcea5ad9467ab1" title=" " alt="" coords="108,56,191,83"/>
<area shape="rect" href="demo__ahrs__actuators_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,56,60,83"/>
</map>
</div>

</div>
</div>
<a id="ga66e55e817c63768ac9910dc6f7cc9447"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga66e55e817c63768ac9910dc6f7cc9447">&#9670;&nbsp;</a></span>spi_blocking_transceive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool spi_blocking_transceive </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="group__spi.html#structspi__transaction">spi_transaction</a> *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform a spi transaction (blocking). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>spi peripheral to be used </td></tr>
    <tr><td class="paramname">t</td><td>spi transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if transaction completed (success or failure) </dd></dl>

<p class="definition">Definition at line <a class="el" href="spi_8h_source.html#l00299">299</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

<p class="reference">References <a class="el" href="sys__time_8h_source.html#l00138">get_sys_time_float()</a>, <a class="el" href="ins__alt__float_8c_source.html#l00257">p</a>, <a class="el" href="spi_8h_source.html#l00040">SPI_BLOCKING_TIMEOUT</a>, <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html#l00533">spi_submit()</a>, <a class="el" href="spi_8h_source.html#l00097">SPITransPending</a>, <a class="el" href="spi_8h_source.html#l00098">SPITransRunning</a>, and <a class="el" href="spi_8h_source.html#l00162">spi_transaction::status</a>.</p>

<p class="reference">Referenced by <a class="el" href="pmw3901_8c_source.html#l00095">readRegister_blocking()</a>, and <a class="el" href="pmw3901_8c_source.html#l00110">writeRegister_blocking()</a>.</p>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_ga66e55e817c63768ac9910dc6f7cc9447_cgraph.png" border="0" usemap="#agroup__spi_ga66e55e817c63768ac9910dc6f7cc9447_cgraph" alt=""/></div>
<map name="agroup__spi_ga66e55e817c63768ac9910dc6f7cc9447_cgraph" id="agroup__spi_ga66e55e817c63768ac9910dc6f7cc9447_cgraph">
<area shape="rect" title="Perform a spi transaction (blocking)." alt="" coords="5,266,184,293"/>
<area shape="rect" href="sys__time_8h.html#af486c2fb33d8d33645256a9970eb056e" title="Get the time in seconds since startup." alt="" coords="232,241,377,267"/>
<area shape="rect" href="group__spi.html#ga5d383931766cb373ebad0b8bc26d439d" title="Submit a spi transaction." alt="" coords="258,291,351,318"/>
<area shape="rect" href="e__identification__fr_8c.html#ae42fb17fa70ad0cb94e7ebee1f24073c" title=" " alt="" coords="503,190,542,217"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a42f17f52b327c1192801fc39493f43c5" title="Disable DMA channel interrupts." alt="" coords="445,266,600,293"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a92d285e5b860130426aa3ce1369df0c9" title="Enable DMA channel interrupts." alt="" coords="447,317,598,343"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a87e230295cb1339876faa6f6986a44e9" title="Start a new transaction with DMA." alt="" coords="425,418,620,445"/>
<area shape="rect" href="e__identification__fr_8c.html#af46aee3f4ea5943261ce0a748645d5ab" title=" " alt="" coords="739,63,805,90"/>
<area shape="rect" href="e__identification__fr_8c.html#ad38b113b8c749a0ad70f3226ce4be6c8" title=" " alt="" coords="691,165,853,191"/>
<area shape="rect" href="e__identification__fr_8c.html#abe4d49e345383266eb45de2d01dc9998" title=" " alt="" coords="739,215,805,242"/>
<area shape="rect" href="e__identification__fr_8c.html#ab86f66c5c2a551aabe930fff3a5120d3" title=" " alt="" coords="703,317,841,343"/>
<area shape="rect" href="e__identification__fr_8c.html#a58d75f9f286ae788eb5a93131c69b9cf" title=" " alt="" coords="737,266,807,293"/>
<area shape="rect" href="e__identification__fr_8c.html#ad697ac22d1fafd997a6033c81aac40c9" title=" " alt="" coords="730,13,814,39"/>
<area shape="rect" href="uart_8c.html#a70569087d789605493bce97141e1664f" title=" " alt="" coords="711,114,833,141"/>
<area shape="rect" href="group__state__velocity.html#ga1396b84069296dc0353f25281a472c08" title="Get norm of horizontal ground speed (float)." alt="" coords="924,165,1157,191"/>
<area shape="rect" href="group__state__velocity.html#ga990849172b82f2e3bc1ab9da2395c9c4" title=" " alt="" coords="1205,149,1396,191"/>
<area shape="rect" href="group__state__position.html#ga99473409b740a26c0e2b9a5bd8e9defb" title="Get position in LLA coordinates (int)." alt="" coords="961,266,1121,293"/>
<area shape="rect" href="group__state__position.html#gad0fedf046f198eace06305e56fc7a0f8" title="Calculate LLA (int) from any other available representation." alt="" coords="1218,266,1383,293"/>
<area shape="rect" href="group__math__geodetic__int.html#gaaeff7441301129ca712e828b9b4f474e" title="Convert a local ENU position to ECEF." alt="" coords="1667,266,1809,293"/>
<area shape="rect" href="group__math__geodetic__int.html#gaf92579b72a2adb1aaac73fae89553fca" title="Convert a local NED position to ECEF." alt="" coords="1444,317,1587,343"/>
<area shape="rect" href="group__math__geodetic__int.html#gaea47a32071c2427f895fcb1df32c4e23" title="Convert a ECEF to LLA." alt="" coords="1463,165,1567,191"/>
<area shape="rect" href="pprz__geodetic__float_8c.html#a30c2e47ec9a898079c04e8b08496b455" title=" " alt="" coords="1464,367,1567,394"/>
<area shape="rect" href="group__math__geodetic__int.html#gaabe6e63048c95afdffdd4a581dc5f2b8" title="Rotate a vector from ENU to ECEF." alt="" coords="1889,266,2036,293"/>
<area shape="rect" href="group__math__geodetic__double.html#ga9d3464ccabcd97db9fb4e1c7d25dfe16" title=" " alt="" coords="1684,190,1792,217"/>
<area shape="rect" href="pprz__geodetic__float_8c.html#adecd186d51b41b09f0cad928c0d2f68e" title=" " alt="" coords="1685,139,1791,166"/>
<area shape="rect" href="pprz__geodetic__float_8c.html#a28b6e05c87f50f1e5290e36407095fb6" title=" " alt="" coords="1635,405,1841,431"/>
<area shape="rect" href="pprz__geodetic__float_8c.html#a21ea1b369f7d4abd984fb89c488dde24" title=" " alt="" coords="1668,339,1808,380"/>
<area shape="rect" href="nav_2waypoints_8c.html#a2ed9112b04893275873729d03176f490" title="Get LLA coordinates of waypoint." alt="" coords="974,317,1107,343"/>
<area shape="rect" href="nav_2waypoints_8c.html#a10acece8582506367e9e9df3694bf31b" title="update global LLA coordinates from its ENU coordinates" alt="" coords="1227,215,1375,242"/>
<area shape="rect" href="nav_2waypoints_8c.html#a4f584367219ec09db0e1df24c85e7a1b" title=" " alt="" coords="1227,317,1374,343"/>
<area shape="rect" href="group__state__velocity.html#ga6f8b83126a235daea584aa9ce97f7fac" title="Get dir of horizontal ground speed (float)." alt="" coords="933,13,1149,39"/>
<area shape="rect" href="group__state__velocity.html#gad9b7b6ea39d5a4ee3e824f97204c4bb5" title=" " alt="" coords="1205,5,1396,47"/>
<area shape="rect" href="linux_2mcu__periph_2uart__arch_8c.html#a33e2bacaecae6e2adcd64c2cc6bb73a0" title=" " alt="" coords="985,114,1097,141"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a0c1bcbefaf569036eb191e18ea849a7a" title=" " alt="" coords="677,469,867,495"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#af29aa7d9b5af1ef2b42450937767535f" title="Update SPI communication conf from generic paparazzi SPI transaction." alt="" coords="668,519,876,546"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a9678da2cc27199851a80fcf27a2761a3" title=" " alt="" coords="700,367,844,394"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#ab639bd461acc9159f2a8566bfe1ebdd0" title=" " alt="" coords="713,418,831,445"/>
<area shape="rect" href="chibios_2mcu__periph_2gpio__arch_8h.html#a302a5c9e7203669d0b9db8a2952fe009" title="Clear a gpio output to low level." alt="" coords="996,418,1085,445"/>
</map>
</div>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_ga66e55e817c63768ac9910dc6f7cc9447_icgraph.png" border="0" usemap="#agroup__spi_ga66e55e817c63768ac9910dc6f7cc9447_icgraph" alt=""/></div>
<map name="agroup__spi_ga66e55e817c63768ac9910dc6f7cc9447_icgraph" id="agroup__spi_ga66e55e817c63768ac9910dc6f7cc9447_icgraph">
<area shape="rect" title="Perform a spi transaction (blocking)." alt="" coords="224,31,403,57"/>
<area shape="rect" href="pmw3901_8c.html#a00ba06d3e6407dfaf867e6097462d617" title=" " alt="" coords="7,5,174,32"/>
<area shape="rect" href="pmw3901_8c.html#a8265440e872d2a53abf19f0caeb3ec9e" title=" " alt="" coords="5,56,176,83"/>
</map>
</div>

</div>
</div>
<a id="ga6c0861f0c2184cab82f883ca29312011"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c0861f0c2184cab82f883ca29312011">&#9670;&nbsp;</a></span>spi_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="chibios_2mcu__periph_2spi__arch_8c.html#structspi__init">spi_init</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a spi peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>spi peripheral to be configured </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="spi_8c_source.html#l00098">98</a> of file <a class="el" href="spi_8c_source.html">spi.c</a>.</p>

<p class="reference">References <a class="el" href="ins__alt__float_8c_source.html#l00257">p</a>, <a class="el" href="spi_8h_source.html#l00107">SPIIdle</a>, and <a class="el" href="spi_8h_source.html#l00053">SPIMaster</a>.</p>

<p class="reference">Referenced by <a class="el" href="spi_8c_source.html#l00037">spi0_init()</a>, <a class="el" href="spi_8c_source.html#l00048">spi1_init()</a>, and <a class="el" href="spi_8c_source.html#l00059">spi2_init()</a>.</p>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_ga6c0861f0c2184cab82f883ca29312011_icgraph.png" border="0" usemap="#agroup__spi_ga6c0861f0c2184cab82f883ca29312011_icgraph" alt=""/></div>
<map name="agroup__spi_ga6c0861f0c2184cab82f883ca29312011_icgraph" id="agroup__spi_ga6c0861f0c2184cab82f883ca29312011_icgraph">
<area shape="rect" title="Initialize a spi peripheral." alt="" coords="491,56,560,83"/>
<area shape="rect" href="group__spi.html#ga2437939c4fca0a4a5a4f79460ed3f731" title=" " alt="" coords="365,5,443,32"/>
<area shape="rect" href="group__spi.html#ga7da3469436debceb731ecb76c920efda" title=" " alt="" coords="365,56,443,83"/>
<area shape="rect" href="group__spi.html#ga1c8c4e89459606c70f6749714abd4a86" title=" " alt="" coords="365,107,443,133"/>
<area shape="rect" href="group__mcu__periph.html#ga9af744358ff4b1e3e33d7dd170862f9b" title="Microcontroller peripherals initialization." alt="" coords="239,56,317,83"/>
<area shape="rect" href="uart__tunnel_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="122,31,177,57"/>
<area shape="rect" href="demo__ahrs__actuators_8c.html#afaa8374e20b79aaf7cfcea5ad9467ab1" title=" " alt="" coords="108,81,191,108"/>
<area shape="rect" href="demo__ahrs__actuators_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,81,60,108"/>
</map>
</div>

</div>
</div>
<a id="gafc9125c5764a6749703ae4f1303a16f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafc9125c5764a6749703ae4f1303a16f3">&#9670;&nbsp;</a></span>spi_init_slaves()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_init_slaves </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize all used slaves and unselect them. </p>
<p>Initialize all used slaves and unselect them. </p>

<p class="definition">Definition at line <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html#l00709">709</a> of file <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

<p class="reference">References <a class="el" href="chibios_2mcu__periph_2gpio__arch_8c_source.html#l00033">gpio_setup_output()</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00482">SPI_SELECT_SLAVE0_PIN</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00481">SPI_SELECT_SLAVE0_PORT</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00485">SPI_SELECT_SLAVE1_PIN</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00484">SPI_SELECT_SLAVE1_PORT</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00488">SPI_SELECT_SLAVE2_PIN</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00487">SPI_SELECT_SLAVE2_PORT</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00491">SPI_SELECT_SLAVE3_PIN</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00490">SPI_SELECT_SLAVE3_PORT</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00494">SPI_SELECT_SLAVE4_PIN</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00493">SPI_SELECT_SLAVE4_PORT</a>, <a class="el" href="chimera_8h_source.html#l00541">SPI_SELECT_SLAVE5_PIN</a>, <a class="el" href="chimera_8h_source.html#l00540">SPI_SELECT_SLAVE5_PORT</a>, <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html#l00623">spi_slave_unselect()</a>, and <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00137">SpiSlaveUnselect()</a>.</p>

<p class="reference">Referenced by <a class="el" href="mcu_8c_source.html#l00098">mcu_init()</a>.</p>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_gafc9125c5764a6749703ae4f1303a16f3_cgraph.png" border="0" usemap="#agroup__spi_gafc9125c5764a6749703ae4f1303a16f3_cgraph" alt=""/></div>
<map name="agroup__spi_gafc9125c5764a6749703ae4f1303a16f3_cgraph" id="agroup__spi_gafc9125c5764a6749703ae4f1303a16f3_cgraph">
<area shape="rect" title="Initialize all used slaves and unselect them." alt="" coords="5,56,124,83"/>
<area shape="rect" href="chibios_2mcu__periph_2gpio__arch_8c.html#a614c4a447f1e43381d92c682ac3b953f" title="Setup one or more pins of the given GPIO port as outputs." alt="" coords="173,5,316,32"/>
<area shape="rect" href="group__spi.html#ga99507da72932c02e5d8daf9a7170ed69" title="spi_slave_unselect() function" alt="" coords="172,56,317,83"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#af3a0a783f898c0211f2c0e5498c746a0" title=" " alt="" coords="177,107,312,133"/>
<area shape="rect" href="chibios_2mcu__periph_2gpio__arch_8h.html#a0da8ef247730680b4ffa595d11069051" title="Set a gpio output to high level." alt="" coords="365,81,443,108"/>
</map>
</div>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_gafc9125c5764a6749703ae4f1303a16f3_icgraph.png" border="0" usemap="#agroup__spi_gafc9125c5764a6749703ae4f1303a16f3_icgraph" alt=""/></div>
<map name="agroup__spi_gafc9125c5764a6749703ae4f1303a16f3_icgraph" id="agroup__spi_gafc9125c5764a6749703ae4f1303a16f3_icgraph">
<area shape="rect" title="Initialize all used slaves and unselect them." alt="" coords="365,31,484,57"/>
<area shape="rect" href="group__mcu__periph.html#ga9af744358ff4b1e3e33d7dd170862f9b" title="Microcontroller peripherals initialization." alt="" coords="239,31,317,57"/>
<area shape="rect" href="uart__tunnel_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="122,5,177,32"/>
<area shape="rect" href="demo__ahrs__actuators_8c.html#afaa8374e20b79aaf7cfcea5ad9467ab1" title=" " alt="" coords="108,56,191,83"/>
<area shape="rect" href="demo__ahrs__actuators_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,56,60,83"/>
</map>
</div>

</div>
</div>
<a id="ga747ed5cb8c8252f0101fb60a04fa886d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga747ed5cb8c8252f0101fb60a04fa886d">&#9670;&nbsp;</a></span>spi_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool spi_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>slave</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lock the SPI fifo. </p>
<p>This will stop the SPI fifo after the current transaction if any, or before the next one if none are pending. Only the slave that locks the fifo can unlock it. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>spi peripheral to be used </td></tr>
    <tr><td class="paramname">slave</td><td>slave id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if correctly locked</dd></dl>
<p>Lock the SPI fifo.</p>
<p>Empty, for paparazzi compatibility only </p>

<p class="definition">Definition at line <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html#l00681">681</a> of file <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

<p class="reference">References <a class="el" href="std_8h_source.html#l00005">FALSE</a>, <a class="el" href="ins__alt__float_8c_source.html#l00257">p</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00510">spi_arch_int_disable()</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00498">spi_arch_int_enable()</a>, and <a class="el" href="std_8h_source.html#l00004">TRUE</a>.</p>

<p class="reference">Referenced by <a class="el" href="max1168_8c_source.html#l00134">max1168_lock_cb()</a>.</p>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_ga747ed5cb8c8252f0101fb60a04fa886d_cgraph.png" border="0" usemap="#agroup__spi_ga747ed5cb8c8252f0101fb60a04fa886d_cgraph" alt=""/></div>
<map name="agroup__spi_ga747ed5cb8c8252f0101fb60a04fa886d_cgraph" id="agroup__spi_ga747ed5cb8c8252f0101fb60a04fa886d_cgraph">
<area shape="rect" title="Lock the SPI fifo." alt="" coords="5,31,80,57"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a42f17f52b327c1192801fc39493f43c5" title="Disable DMA channel interrupts." alt="" coords="128,5,283,32"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a92d285e5b860130426aa3ce1369df0c9" title="Enable DMA channel interrupts." alt="" coords="130,56,281,83"/>
</map>
</div>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_ga747ed5cb8c8252f0101fb60a04fa886d_icgraph.png" border="0" usemap="#agroup__spi_ga747ed5cb8c8252f0101fb60a04fa886d_icgraph" alt=""/></div>
<map name="agroup__spi_ga747ed5cb8c8252f0101fb60a04fa886d_icgraph" id="agroup__spi_ga747ed5cb8c8252f0101fb60a04fa886d_icgraph">
<area shape="rect" title="Lock the SPI fifo." alt="" coords="351,5,425,32"/>
<area shape="rect" href="max1168_8c.html#a65bdce5cdf607ff4f87fd590f20d16c3" title=" " alt="" coords="164,5,303,32"/>
<area shape="rect" href="max1168_8c.html#a6130e20b7ea3c56aa94a9e449b773b4a" title=" " alt="" coords="5,5,116,32"/>
</map>
</div>

</div>
</div>
<a id="gaf5ff5a9f93b73caf6532b7e25dd917b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf5ff5a9f93b73caf6532b7e25dd917b9">&#9670;&nbsp;</a></span>spi_resume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool spi_resume </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>slave</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resume the SPI fifo. </p>
<p>Only the slave that locks the fifo can unlock it. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>spi peripheral to be used </td></tr>
    <tr><td class="paramname">slave</td><td>slave id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if correctly unlocked</dd></dl>
<p>Resume the SPI fifo.</p>
<p>Empty, for paparazzi compatibility only </p>

<p class="definition">Definition at line <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html#l00695">695</a> of file <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

<p class="reference">References <a class="el" href="std_8h_source.html#l00005">FALSE</a>, <a class="el" href="ins__alt__float_8c_source.html#l00257">p</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00510">spi_arch_int_disable()</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00498">spi_arch_int_enable()</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00539">spi_start_dma_transaction()</a>, <a class="el" href="spi_8h_source.html#l00107">SPIIdle</a>, and <a class="el" href="std_8h_source.html#l00004">TRUE</a>.</p>

<p class="reference">Referenced by <a class="el" href="max1168_8c_source.html#l00101">max1168_event()</a>.</p>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_gaf5ff5a9f93b73caf6532b7e25dd917b9_cgraph.png" border="0" usemap="#agroup__spi_gaf5ff5a9f93b73caf6532b7e25dd917b9_cgraph" alt=""/></div>
<map name="agroup__spi_gaf5ff5a9f93b73caf6532b7e25dd917b9_cgraph" id="agroup__spi_gaf5ff5a9f93b73caf6532b7e25dd917b9_cgraph">
<area shape="rect" title="Resume the SPI fifo." alt="" coords="5,56,103,83"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a42f17f52b327c1192801fc39493f43c5" title="Disable DMA channel interrupts." alt="" coords="171,5,325,32"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a92d285e5b860130426aa3ce1369df0c9" title="Enable DMA channel interrupts." alt="" coords="173,56,323,83"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a87e230295cb1339876faa6f6986a44e9" title="Start a new transaction with DMA." alt="" coords="151,107,345,133"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a0c1bcbefaf569036eb191e18ea849a7a" title=" " alt="" coords="402,31,593,57"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#af29aa7d9b5af1ef2b42450937767535f" title="Update SPI communication conf from generic paparazzi SPI transaction." alt="" coords="393,81,601,108"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a9678da2cc27199851a80fcf27a2761a3" title=" " alt="" coords="425,132,569,159"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#ab639bd461acc9159f2a8566bfe1ebdd0" title=" " alt="" coords="438,183,557,209"/>
<area shape="rect" href="chibios_2mcu__periph_2gpio__arch_8h.html#a302a5c9e7203669d0b9db8a2952fe009" title="Clear a gpio output to low level." alt="" coords="649,183,739,209"/>
</map>
</div>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_gaf5ff5a9f93b73caf6532b7e25dd917b9_icgraph.png" border="0" usemap="#agroup__spi_gaf5ff5a9f93b73caf6532b7e25dd917b9_icgraph" alt=""/></div>
<map name="agroup__spi_gaf5ff5a9f93b73caf6532b7e25dd917b9_icgraph" id="agroup__spi_gaf5ff5a9f93b73caf6532b7e25dd917b9_icgraph">
<area shape="rect" title="Resume the SPI fifo." alt="" coords="180,5,277,32"/>
<area shape="rect" href="max1168_8c.html#a957376acfc8fbd7b917f20a18e6c5a6c" title=" " alt="" coords="5,5,132,32"/>
</map>
</div>

</div>
</div>
<a id="ga7321d472bfa9548243ea6f22cf3ff8a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7321d472bfa9548243ea6f22cf3ff8a4">&#9670;&nbsp;</a></span>spi_slave_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_slave_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a spi peripheral in slave mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>spi peripheral to be configured </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="spi_8c_source.html#l00156">156</a> of file <a class="el" href="spi_8c_source.html">spi.c</a>.</p>

<p class="reference">References <a class="el" href="ins__alt__float_8c_source.html#l00257">p</a>, <a class="el" href="spi_8h_source.html#l00107">SPIIdle</a>, and <a class="el" href="spi_8h_source.html#l00054">SPISlave</a>.</p>

</div>
</div>
<a id="gad2b96673b774298d3bd908e84ceb37c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2b96673b774298d3bd908e84ceb37c8">&#9670;&nbsp;</a></span>spi_slave_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool spi_slave_register </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="group__spi.html#structspi__transaction">spi_transaction</a> *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a spi transaction in slave mode (only one transaction can be registered). </p>
<p>Must be implemented by the underlying architecture </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>spi peripheral to be used </td></tr>
    <tr><td class="paramname">t</td><td>spi transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return true if registered with success </dd></dl>

<p class="definition">Definition at line <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l01624">1624</a> of file <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

<p class="reference">References <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00091">spi_periph_dma::dma</a>, <a class="el" href="spi_8h_source.html#l00157">spi_transaction::dss</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00336">get_transaction_signature()</a>, <a class="el" href="spi_8h_source.html#l00184">spi_periph::init_struct</a>, <a class="el" href="spi_8h_source.html#l00149">spi_transaction::input_buf</a>, <a class="el" href="spi_8h_source.html#l00151">spi_transaction::input_length</a>, <a class="el" href="spi_8h_source.html#l00150">spi_transaction::output_buf</a>, <a class="el" href="spi_8h_source.html#l00152">spi_transaction::output_length</a>, <a class="el" href="spi_8h_source.html#l00183">spi_periph::reg_addr</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00498">spi_arch_int_enable()</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00458">spi_configure_dma()</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l01591">spi_slave_set_config()</a>, <a class="el" href="spi_8h_source.html#l00108">SPIRunning</a>, <a class="el" href="spi_8h_source.html#l00098">SPITransRunning</a>, <a class="el" href="spi_8h_source.html#l00162">spi_transaction::status</a>, <a class="el" href="spi_8h_source.html#l00180">spi_periph::status</a>, <a class="el" href="spi_8h_source.html#l00176">spi_periph::trans</a>, <a class="el" href="spi_8h_source.html#l00177">spi_periph::trans_insert_idx</a>, and <a class="el" href="std_8h_source.html#l00004">TRUE</a>.</p>

<p class="reference">Referenced by <a class="el" href="bluegiga_8c_source.html#l00148">bluegiga_init()</a>, <a class="el" href="bluegiga_8c_source.html#l00250">bluegiga_receive()</a>, <a class="el" href="qr__code__spi__link_8c_source.html#l00042">qr_code_spi_link_init()</a>, and <a class="el" href="qr__code__spi__link_8c_source.html#l00058">qr_code_spi_link_periodic()</a>.</p>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_gad2b96673b774298d3bd908e84ceb37c8_cgraph.png" border="0" usemap="#agroup__spi_gad2b96673b774298d3bd908e84ceb37c8_cgraph" alt=""/></div>
<map name="agroup__spi_gad2b96673b774298d3bd908e84ceb37c8_cgraph" id="agroup__spi_gad2b96673b774298d3bd908e84ceb37c8_cgraph">
<area shape="rect" title="Register a spi transaction in slave mode (only one transaction can be registered)." alt="" coords="5,51,145,78"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a0c1bcbefaf569036eb191e18ea849a7a" title=" " alt="" coords="406,26,597,53"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a92d285e5b860130426aa3ce1369df0c9" title="Enable DMA channel interrupts." alt="" coords="196,26,347,53"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a9678da2cc27199851a80fcf27a2761a3" title=" " alt="" coords="199,77,343,103"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#ab59a690d8b69d3b2f0b4bf022dc2decf" title=" " alt="" coords="193,127,349,154"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#af29aa7d9b5af1ef2b42450937767535f" title="Update SPI communication conf from generic paparazzi SPI transaction." alt="" coords="397,127,605,154"/>
</map>
</div>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_gad2b96673b774298d3bd908e84ceb37c8_icgraph.png" border="0" usemap="#agroup__spi_gad2b96673b774298d3bd908e84ceb37c8_icgraph" alt=""/></div>
<map name="agroup__spi_gad2b96673b774298d3bd908e84ceb37c8_icgraph" id="agroup__spi_gad2b96673b774298d3bd908e84ceb37c8_icgraph">
<area shape="rect" title="Register a spi transaction in slave mode (only one transaction can be registered)." alt="" coords="696,60,836,86"/>
<area shape="rect" href="bluegiga_8c.html#ac8a60ccee96fbe718a27b6194f3f14e0" title=" " alt="" coords="179,9,285,36"/>
<area shape="rect" href="bluegiga_8c.html#a50a0f979fdb5e8cb70090c6de5f203ac" title=" " alt="" coords="487,34,620,61"/>
<area shape="rect" href="qr__code__spi__link_8c.html#afe718e5de23ff690fa62b35bb69553f0" title=" " alt="" coords="474,85,633,112"/>
<area shape="rect" href="qr__code__spi__link_8c.html#ae9d12bd06ade748707f69958324c82f3" title=" " alt="" coords="459,136,648,162"/>
<area shape="rect" href="bluegiga__dl_8c.html#aeb085a7388c7ffe56ac4834ff104fb33" title="Init function." alt="" coords="5,9,131,36"/>
<area shape="rect" href="bluegiga_8c.html#a81dec5456e47bf1870486a85600c7e1c" title=" " alt="" coords="333,34,411,61"/>
</map>
</div>

</div>
</div>
<a id="gad43916477f5d87b42eaa7d2099771568"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad43916477f5d87b42eaa7d2099771568">&#9670;&nbsp;</a></span>spi_slave_select()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_slave_select </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>slave</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Select a slave. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>slave id</td></tr>
  </table>
  </dd>
</dl>
<p>Select a slave. </p>

<p class="definition">Definition at line <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html#l00566">566</a> of file <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

<p class="reference">References <a class="el" href="chibios_2mcu__periph_2gpio__arch_8h_source.html#l00108">gpio_clear()</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00482">SPI_SELECT_SLAVE0_PIN</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00481">SPI_SELECT_SLAVE0_PORT</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00485">SPI_SELECT_SLAVE1_PIN</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00484">SPI_SELECT_SLAVE1_PORT</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00488">SPI_SELECT_SLAVE2_PIN</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00487">SPI_SELECT_SLAVE2_PORT</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00491">SPI_SELECT_SLAVE3_PIN</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00490">SPI_SELECT_SLAVE3_PORT</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00494">SPI_SELECT_SLAVE4_PIN</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00493">SPI_SELECT_SLAVE4_PORT</a>, <a class="el" href="chimera_8h_source.html#l00541">SPI_SELECT_SLAVE5_PIN</a>, <a class="el" href="chimera_8h_source.html#l00540">SPI_SELECT_SLAVE5_PORT</a>, and <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00175">SpiSlaveSelect()</a>.</p>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_gad43916477f5d87b42eaa7d2099771568_cgraph.png" border="0" usemap="#agroup__spi_gad43916477f5d87b42eaa7d2099771568_cgraph" alt=""/></div>
<map name="agroup__spi_gad43916477f5d87b42eaa7d2099771568_cgraph" id="agroup__spi_gad43916477f5d87b42eaa7d2099771568_cgraph">
<area shape="rect" title="Select a slave." alt="" coords="5,5,135,32"/>
<area shape="rect" href="chibios_2mcu__periph_2gpio__arch_8h.html#a302a5c9e7203669d0b9db8a2952fe009" title="Clear a gpio output to low level." alt="" coords="349,5,439,32"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#ab639bd461acc9159f2a8566bfe1ebdd0" title=" " alt="" coords="183,31,301,57"/>
</map>
</div>

</div>
</div>
<a id="ga99507da72932c02e5d8daf9a7170ed69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga99507da72932c02e5d8daf9a7170ed69">&#9670;&nbsp;</a></span>spi_slave_unselect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_slave_unselect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>slave</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unselect a slave. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>slave id</td></tr>
  </table>
  </dd>
</dl>
<p>Unselect a slave. </p>

<p class="definition">Definition at line <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html#l00623">623</a> of file <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

<p class="reference">References <a class="el" href="chibios_2mcu__periph_2gpio__arch_8h_source.html#l00098">gpio_set()</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00482">SPI_SELECT_SLAVE0_PIN</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00481">SPI_SELECT_SLAVE0_PORT</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00485">SPI_SELECT_SLAVE1_PIN</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00484">SPI_SELECT_SLAVE1_PORT</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00488">SPI_SELECT_SLAVE2_PIN</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00487">SPI_SELECT_SLAVE2_PORT</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00491">SPI_SELECT_SLAVE3_PIN</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00490">SPI_SELECT_SLAVE3_PORT</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00494">SPI_SELECT_SLAVE4_PIN</a>, <a class="el" href="apogee_2chibios_2v1_80_2board_8h_source.html#l00493">SPI_SELECT_SLAVE4_PORT</a>, <a class="el" href="chimera_8h_source.html#l00541">SPI_SELECT_SLAVE5_PIN</a>, <a class="el" href="chimera_8h_source.html#l00540">SPI_SELECT_SLAVE5_PORT</a>, and <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00137">SpiSlaveUnselect()</a>.</p>

<p class="reference">Referenced by <a class="el" href="max1168_8c_source.html#l00101">max1168_event()</a>, and <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html#l00709">spi_init_slaves()</a>.</p>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_ga99507da72932c02e5d8daf9a7170ed69_cgraph.png" border="0" usemap="#agroup__spi_ga99507da72932c02e5d8daf9a7170ed69_cgraph" alt=""/></div>
<map name="agroup__spi_ga99507da72932c02e5d8daf9a7170ed69_cgraph" id="agroup__spi_ga99507da72932c02e5d8daf9a7170ed69_cgraph">
<area shape="rect" title="Unselect a slave." alt="" coords="5,5,151,32"/>
<area shape="rect" href="chibios_2mcu__periph_2gpio__arch_8h.html#a0da8ef247730680b4ffa595d11069051" title="Set a gpio output to high level." alt="" coords="381,5,459,32"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#af3a0a783f898c0211f2c0e5498c746a0" title=" " alt="" coords="199,31,333,57"/>
</map>
</div>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_ga99507da72932c02e5d8daf9a7170ed69_icgraph.png" border="0" usemap="#agroup__spi_ga99507da72932c02e5d8daf9a7170ed69_icgraph" alt=""/></div>
<map name="agroup__spi_ga99507da72932c02e5d8daf9a7170ed69_icgraph" id="agroup__spi_ga99507da72932c02e5d8daf9a7170ed69_icgraph">
<area shape="rect" title="Unselect a slave." alt="" coords="540,31,685,57"/>
<area shape="rect" href="max1168_8c.html#a957376acfc8fbd7b917f20a18e6c5a6c" title=" " alt="" coords="365,5,492,32"/>
<area shape="rect" href="group__spi.html#gafc9125c5764a6749703ae4f1303a16f3" title="spi_init_slaves() function" alt="" coords="369,56,488,83"/>
<area shape="rect" href="group__mcu__periph.html#ga9af744358ff4b1e3e33d7dd170862f9b" title="Microcontroller peripherals initialization." alt="" coords="239,56,317,83"/>
<area shape="rect" href="uart__tunnel_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="122,31,177,57"/>
<area shape="rect" href="demo__ahrs__actuators_8c.html#afaa8374e20b79aaf7cfcea5ad9467ab1" title=" " alt="" coords="108,81,191,108"/>
<area shape="rect" href="demo__ahrs__actuators_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,81,60,108"/>
</map>
</div>

</div>
</div>
<a id="ga6654c5e4a8dd36724bef153d376476b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6654c5e4a8dd36724bef153d376476b8">&#9670;&nbsp;</a></span>spi_slave_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool spi_slave_wait </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialized and wait for the next transaction. </p>
<p>If a transaction is registered for this peripheral, the spi will be waiting for a communication from the master </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>spi peripheral to be used </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return true if a transaction was register for this peripheral </dd></dl>

</div>
</div>
<a id="ga5d383931766cb373ebad0b8bc26d439d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5d383931766cb373ebad0b8bc26d439d">&#9670;&nbsp;</a></span>spi_submit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool spi_submit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="group__spi.html#structspi__transaction">spi_transaction</a> *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Submit a spi transaction. </p>
<p>Must be implemented by the underlying architecture </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>spi peripheral to be used </td></tr>
    <tr><td class="paramname">t</td><td>spi transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if insertion to the transaction queue succeeded</dd></dl>
<p>Submit a spi transaction.</p>
<p>Interafces Paparazzi SPI code with ChibiOS SPI driver. The transaction length is max(rx,tx), before and after callbacks are called accordingly.</p>
<p>ChibiOS doesn't provide error checking for the SPI transactions, since all spi functions are return void. The SPI transaction is synchronous, so we always assume success if the transaction finishes.</p>
<p>There is no explicit timeout on SPI transaction. TODO: Timeout on SPI trans and error detection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>pointer to a <code><a class="el" href="group__spi.html#structspi__periph" title="SPI peripheral structure.">spi_periph</a></code> struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>pointer to a <code><a class="el" href="group__spi.html#structspi__transaction" title="SPI transaction structure.">spi_transaction</a></code> struct </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html#l00533">533</a> of file <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

<p class="reference">References <a class="el" href="spi_8h_source.html#l00157">spi_transaction::dss</a>, <a class="el" href="std_8h_source.html#l00005">FALSE</a>, <a class="el" href="serial_8c_source.html#l00026">fd</a>, <a class="el" href="nps__radio__control__spektrum_8c_source.html#l00105">idx</a>, <a class="el" href="e__identification__fr_8c_source.html#l00159">if()</a>, <a class="el" href="spi_8h_source.html#l00149">spi_transaction::input_buf</a>, <a class="el" href="spi_8h_source.html#l00151">spi_transaction::input_length</a>, <a class="el" href="spi_8h_source.html#l00150">spi_transaction::output_buf</a>, <a class="el" href="spi_8h_source.html#l00152">spi_transaction::output_length</a>, <a class="el" href="ins__alt__float_8c_source.html#l00257">p</a>, <a class="el" href="spi_8h_source.html#l00154">spi_transaction::select</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00510">spi_arch_int_disable()</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00498">spi_arch_int_enable()</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00539">spi_start_dma_transaction()</a>, <a class="el" href="spi_8h_source.html#l00169">SPI_TRANSACTION_QUEUE_LEN</a>, <a class="el" href="spi_8h_source.html#l00091">SPIDss16bit</a>, <a class="el" href="spi_8h_source.html#l00107">SPIIdle</a>, <a class="el" href="spi_8h_source.html#l00063">SPISelectUnselect</a>, <a class="el" href="spi_8h_source.html#l00100">SPITransFailed</a>, <a class="el" href="spi_8h_source.html#l00097">SPITransPending</a>, <a class="el" href="spi_8h_source.html#l00099">SPITransSuccess</a>, <a class="el" href="spi_8h_source.html#l00065">SPIUnselect</a>, <a class="el" href="spi_8h_source.html#l00162">spi_transaction::status</a>, and <a class="el" href="std_8h_source.html#l00004">TRUE</a>.</p>

<p class="reference">Referenced by <a class="el" href="ads1220_8c_source.html#l00102">ads1220_configure()</a>, <a class="el" href="ads1220_8c_source.html#l00120">ads1220_read()</a>, <a class="el" href="ads1220_8c_source.html#l00080">ads1220_send_config()</a>, <a class="el" href="adxl345__spi_8c_source.html#l00118">adxl345_spi_read()</a>, <a class="el" href="adxl345__spi_8c_source.html#l00069">adxl345_spi_write_to_reg()</a>, <a class="el" href="cyrf6936_8c_source.html#l00312">cyrf6936_read_block()</a>, <a class="el" href="cyrf6936_8c_source.html#l00278">cyrf6936_write_block()</a>, <a class="el" href="eeprom25AA256_8c_source.html#l00072">eeprom25AA256_read()</a>, <a class="el" href="high__speed__logger__direct__memory_8c_source.html#l01095">high_speed_logger_direct_memory_init()</a>, <a class="el" href="high__speed__logger__spi__link_8c_source.html#l00059">high_speed_logger_spi_link_periodic()</a>, <a class="el" href="ins__vn100_8c_source.html#l00109">ins_configure()</a>, <a class="el" href="invensense2_8c_source.html#l00392">invensense2_register_read()</a>, <a class="el" href="invensense2_8c_source.html#l00355">invensense2_register_write()</a>, <a class="el" href="invensense2_8c_source.html#l00427">invensense2_select_bank()</a>, <a class="el" href="invensense3_8c_source.html#l00763">invensense3_register_read()</a>, <a class="el" href="invensense3_8c_source.html#l00727">invensense3_register_write()</a>, <a class="el" href="invensense3_8c_source.html#l00797">invensense3_select_bank()</a>, <a class="el" href="l3gd20__spi_8c_source.html#l00122">l3gd20_spi_read()</a>, <a class="el" href="l3gd20__spi_8c_source.html#l00074">l3gd20_spi_send_config()</a>, <a class="el" href="l3gd20__spi_8c_source.html#l00064">l3gd20_spi_write_to_reg()</a>, <a class="el" href="lis302dl__spi_8c_source.html#l00128">lis302dl_spi_read()</a>, <a class="el" href="lis302dl__spi_8c_source.html#l00074">lis302dl_spi_send_config()</a>, <a class="el" href="lis302dl__spi_8c_source.html#l00064">lis302dl_spi_write_to_reg()</a>, <a class="el" href="lsm303d__spi_8c_source.html#l00151">lsm303d_spi_read()</a>, <a class="el" href="lsm303d__spi_8c_source.html#l00080">lsm303d_spi_send_config()</a>, <a class="el" href="lsm303d__spi_8c_source.html#l00070">lsm303d_spi_tx_reg()</a>, <a class="el" href="max1168_8c_source.html#l00087">max1168_read()</a>, <a class="el" href="max7456_8c_source.html#l00996">max7456_event()</a>, <a class="el" href="max7456_8c_source.html#l00955">max7456_periodic()</a>, <a class="el" href="mcp355x_8c_source.html#l00055">mcp355x_read()</a>, <a class="el" href="high__speed__logger__direct__memory_8c_source.html#l00319">memory_completly_erase()</a>, <a class="el" href="high__speed__logger__direct__memory_8c_source.html#l00293">memory_erase_4k()</a>, <a class="el" href="high__speed__logger__direct__memory_8c_source.html#l00200">memory_read_id()</a>, <a class="el" href="high__speed__logger__direct__memory_8c_source.html#l00258">memory_read_status_1()</a>, <a class="el" href="high__speed__logger__direct__memory_8c_source.html#l00377">memory_read_values()</a>, <a class="el" href="high__speed__logger__direct__memory_8c_source.html#l00239">memory_send_wrdi()</a>, <a class="el" href="high__speed__logger__direct__memory_8c_source.html#l00220">memory_send_wren()</a>, <a class="el" href="high__speed__logger__direct__memory_8c_source.html#l00343">memory_write_values()</a>, <a class="el" href="mpu60x0__spi_8c_source.html#l00115">mpu60x0_spi_read()</a>, <a class="el" href="mpu60x0__spi_8c_source.html#l00077">mpu60x0_spi_start_configure()</a>, <a class="el" href="mpu60x0__spi_8c_source.html#l00066">mpu60x0_spi_write_to_reg()</a>, <a class="el" href="mpu9250__spi_8c_source.html#l00096">mpu9250_spi_read()</a>, <a class="el" href="mpu9250__spi_8c_source.html#l00077">mpu9250_spi_start_configure()</a>, <a class="el" href="mpu9250__spi_8c_source.html#l00066">mpu9250_spi_write_to_reg()</a>, <a class="el" href="imu__aspirin__2__spi_8c_source.html#l00296">mpu_wait_slave4_ready()</a>, <a class="el" href="ms2100_8c_source.html#l00105">ms2100_event()</a>, <a class="el" href="ms2100_8c_source.html#l00096">ms2100_read()</a>, <a class="el" href="ms5611__spi_8c_source.html#l00133">ms5611_spi_event()</a>, <a class="el" href="ms5611__spi_8c_source.html#l00092">ms5611_spi_periodic_check()</a>, <a class="el" href="ms5611__spi_8c_source.html#l00065">ms5611_spi_start_configure()</a>, <a class="el" href="ms5611__spi_8c_source.html#l00076">ms5611_spi_start_conversion()</a>, <a class="el" href="max7456_8c_source.html#l00474">osd_put_s()</a>, <a class="el" href="pmw3901_8c_source.html#l00055">readRegister_nonblocking()</a>, <a class="el" href="cc2500_8c_source.html#l00073">rxSpiReadCommandMulti()</a>, <a class="el" href="cc2500_8c_source.html#l00099">rxSpiWriteCommandMulti()</a>, <a class="el" href="sdcard__spi_8c_source.html#l00638">sdcard_spi_multiwrite_next()</a>, <a class="el" href="sdcard__spi_8c_source.html#l00666">sdcard_spi_multiwrite_stop()</a>, <a class="el" href="sdcard__spi_8c_source.html#l00099">sdcard_spi_periodic()</a>, <a class="el" href="sdcard__spi_8c_source.html#l00543">sdcard_spi_request_bytes()</a>, <a class="el" href="sdcard__spi_8c_source.html#l00502">sdcard_spi_send_app_cmd()</a>, <a class="el" href="sdcard__spi_8c_source.html#l00467">sdcard_spi_send_cmd()</a>, <a class="el" href="sdcard__spi_8c_source.html#l00156">sdcard_spi_spicallback()</a>, <a class="el" href="sonar__bebop_8c_source.html#l00150">sonar_bebop_read()</a>, <a class="el" href="spi_8h_source.html#l00299">spi_blocking_transceive()</a>, <a class="el" href="sst25vfxxxx_8c_source.html#l00064">sst25vfxxxx_after_cb()</a>, <a class="el" href="sst25vfxxxx_8c_source.html#l00240">sst25vfxxxx_block_write_en()</a>, <a class="el" href="sst25vfxxxx_8c_source.html#l00258">sst25vfxxxx_chip_erase()</a>, <a class="el" href="sst25vfxxxx_8c_source.html#l00300">sst25vfxxxx_read()</a>, <a class="el" href="sst25vfxxxx_8c_source.html#l00220">sst25vfxxxx_read_id()</a>, <a class="el" href="sst25vfxxxx_8c_source.html#l00276">sst25vfxxxx_write()</a>, <a class="el" href="ins__vn100_8c_source.html#l00140">vn100_periodic_task()</a>, <a class="el" href="w5100_8c_source.html#l00130">w5100_get()</a>, and <a class="el" href="w5100_8c_source.html#l00117">w5100_set()</a>.</p>
<div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_ga5d383931766cb373ebad0b8bc26d439d_cgraph.png" border="0" usemap="#agroup__spi_ga5d383931766cb373ebad0b8bc26d439d_cgraph" alt=""/></div>
<map name="agroup__spi_ga5d383931766cb373ebad0b8bc26d439d_cgraph" id="agroup__spi_ga5d383931766cb373ebad0b8bc26d439d_cgraph">
<area shape="rect" title="Submit a spi transaction." alt="" coords="5,291,99,318"/>
<area shape="rect" href="e__identification__fr_8c.html#ae42fb17fa70ad0cb94e7ebee1f24073c" title=" " alt="" coords="225,190,263,217"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a42f17f52b327c1192801fc39493f43c5" title="Disable DMA channel interrupts." alt="" coords="167,266,321,293"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a92d285e5b860130426aa3ce1369df0c9" title="Enable DMA channel interrupts." alt="" coords="169,317,319,343"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a87e230295cb1339876faa6f6986a44e9" title="Start a new transaction with DMA." alt="" coords="147,418,341,445"/>
<area shape="rect" href="e__identification__fr_8c.html#af46aee3f4ea5943261ce0a748645d5ab" title=" " alt="" coords="460,63,527,90"/>
<area shape="rect" href="e__identification__fr_8c.html#ad38b113b8c749a0ad70f3226ce4be6c8" title=" " alt="" coords="413,165,574,191"/>
<area shape="rect" href="e__identification__fr_8c.html#abe4d49e345383266eb45de2d01dc9998" title=" " alt="" coords="460,215,527,242"/>
<area shape="rect" href="e__identification__fr_8c.html#ab86f66c5c2a551aabe930fff3a5120d3" title=" " alt="" coords="424,317,563,343"/>
<area shape="rect" href="e__identification__fr_8c.html#a58d75f9f286ae788eb5a93131c69b9cf" title=" " alt="" coords="458,266,529,293"/>
<area shape="rect" href="e__identification__fr_8c.html#ad697ac22d1fafd997a6033c81aac40c9" title=" " alt="" coords="451,13,535,39"/>
<area shape="rect" href="uart_8c.html#a70569087d789605493bce97141e1664f" title=" " alt="" coords="433,114,554,141"/>
<area shape="rect" href="group__state__velocity.html#ga1396b84069296dc0353f25281a472c08" title="Get norm of horizontal ground speed (float)." alt="" coords="645,165,879,191"/>
<area shape="rect" href="group__state__velocity.html#ga990849172b82f2e3bc1ab9da2395c9c4" title=" " alt="" coords="927,149,1117,191"/>
<area shape="rect" href="group__state__position.html#ga99473409b740a26c0e2b9a5bd8e9defb" title="Get position in LLA coordinates (int)." alt="" coords="682,266,842,293"/>
<area shape="rect" href="group__state__position.html#gad0fedf046f198eace06305e56fc7a0f8" title="Calculate LLA (int) from any other available representation." alt="" coords="939,266,1105,293"/>
<area shape="rect" href="group__math__geodetic__int.html#gaaeff7441301129ca712e828b9b4f474e" title="Convert a local ENU position to ECEF." alt="" coords="1388,266,1531,293"/>
<area shape="rect" href="group__math__geodetic__int.html#gaf92579b72a2adb1aaac73fae89553fca" title="Convert a local NED position to ECEF." alt="" coords="1165,317,1308,343"/>
<area shape="rect" href="group__math__geodetic__int.html#gaea47a32071c2427f895fcb1df32c4e23" title="Convert a ECEF to LLA." alt="" coords="1185,165,1289,191"/>
<area shape="rect" href="pprz__geodetic__float_8c.html#a30c2e47ec9a898079c04e8b08496b455" title=" " alt="" coords="1185,367,1288,394"/>
<area shape="rect" href="group__math__geodetic__int.html#gaabe6e63048c95afdffdd4a581dc5f2b8" title="Rotate a vector from ENU to ECEF." alt="" coords="1611,266,1757,293"/>
<area shape="rect" href="group__math__geodetic__double.html#ga9d3464ccabcd97db9fb4e1c7d25dfe16" title=" " alt="" coords="1405,190,1513,217"/>
<area shape="rect" href="pprz__geodetic__float_8c.html#adecd186d51b41b09f0cad928c0d2f68e" title=" " alt="" coords="1407,139,1512,166"/>
<area shape="rect" href="pprz__geodetic__float_8c.html#a28b6e05c87f50f1e5290e36407095fb6" title=" " alt="" coords="1356,405,1563,431"/>
<area shape="rect" href="pprz__geodetic__float_8c.html#a21ea1b369f7d4abd984fb89c488dde24" title=" " alt="" coords="1389,339,1529,380"/>
<area shape="rect" href="nav_2waypoints_8c.html#a2ed9112b04893275873729d03176f490" title="Get LLA coordinates of waypoint." alt="" coords="695,317,829,343"/>
<area shape="rect" href="nav_2waypoints_8c.html#a10acece8582506367e9e9df3694bf31b" title="update global LLA coordinates from its ENU coordinates" alt="" coords="948,215,1096,242"/>
<area shape="rect" href="nav_2waypoints_8c.html#a4f584367219ec09db0e1df24c85e7a1b" title=" " alt="" coords="949,317,1095,343"/>
<area shape="rect" href="group__state__velocity.html#ga6f8b83126a235daea584aa9ce97f7fac" title="Get dir of horizontal ground speed (float)." alt="" coords="654,13,870,39"/>
<area shape="rect" href="group__state__velocity.html#gad9b7b6ea39d5a4ee3e824f97204c4bb5" title=" " alt="" coords="927,5,1117,47"/>
<area shape="rect" href="linux_2mcu__periph_2uart__arch_8c.html#a33e2bacaecae6e2adcd64c2cc6bb73a0" title=" " alt="" coords="706,114,818,141"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a0c1bcbefaf569036eb191e18ea849a7a" title=" " alt="" coords="398,469,589,495"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#af29aa7d9b5af1ef2b42450937767535f" title="Update SPI communication conf from generic paparazzi SPI transaction." alt="" coords="389,519,597,546"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#a9678da2cc27199851a80fcf27a2761a3" title=" " alt="" coords="421,367,565,394"/>
<area shape="rect" href="stm32_2mcu__periph_2spi__arch_8c.html#ab639bd461acc9159f2a8566bfe1ebdd0" title=" " alt="" coords="434,418,553,445"/>
<area shape="rect" href="chibios_2mcu__periph_2gpio__arch_8h.html#a302a5c9e7203669d0b9db8a2952fe009" title="Clear a gpio output to low level." alt="" coords="717,418,807,445"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="gae920399b05f855df64dd584fe647eab3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae920399b05f855df64dd584fe647eab3">&#9670;&nbsp;</a></span>spi0</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a> spi0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000011">Todo:</a></b></dt><dd>SPI error struct </dd></dl>

<p class="definition">Definition at line <a class="el" href="spi_8c_source.html#l00001">1</a> of file <a class="el" href="spi_8c_source.html">spi.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="sonar__bebop_8c_source.html#l00150">sonar_bebop_read()</a>, <a class="el" href="linux_2mcu__periph_2spi__arch_8c_source.html#l00137">spi0_arch_init()</a>, and <a class="el" href="spi_8c_source.html#l00037">spi0_init()</a>.</p>

</div>
</div>
<a id="gaedccba8390a9d630d522a0b282c4f9b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaedccba8390a9d630d522a0b282c4f9b9">&#9670;&nbsp;</a></span>spi1</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a> spi1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>receive transferred over DMA </p>
<p>transmit transferred over DMA </p>

<p class="definition">Definition at line <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00967">967</a> of file <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="imu__px4fmu_8c_source.html#l00063">imu_px4fmu_init()</a>, <a class="el" href="mcp355x_8c_source.html#l00055">mcp355x_read()</a>, <a class="el" href="qr__code__spi__link_8c_source.html#l00042">qr_code_spi_link_init()</a>, <a class="el" href="qr__code__spi__link_8c_source.html#l00058">qr_code_spi_link_periodic()</a>, <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html#l00423">spi1_arch_init()</a>, and <a class="el" href="spi_8c_source.html#l00048">spi1_init()</a>.</p>

</div>
</div>
<a id="gabc3004247e95c09c15cfdf7d3e6402b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabc3004247e95c09c15cfdf7d3e6402b7">&#9670;&nbsp;</a></span>spi2</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="group__spi.html#structspi__periph">spi_periph</a> spi2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>receive transferred over DMA </p>
<p>transmit transferred over DMA </p>

<p class="definition">Definition at line <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l01004">1004</a> of file <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="chibios_2mcu__periph_2spi__arch_8c_source.html#l00442">spi2_arch_init()</a>, and <a class="el" href="spi_8c_source.html#l00059">spi2_init()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Jan 9 2024 09:50:33 for Paparazzi UAS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Paparazzi UAS: sw/airborne/modules/sonar/sonar_i2c.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="penguin_icon.png"/></td>
  <td id="projectalign">
   <div id="projectname">Paparazzi UAS<span id="projectnumber">&#160;v7.0_unstable</span>
   </div>
   <div id="projectbrief">Paparazzi is a free software Unmanned Aircraft System.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('sonar__i2c_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">sonar_i2c.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;generated/airframe.h&quot;</code><br />
<code>#include &quot;<a class="el" href="sonar__i2c_8h_source.html">modules/sonar/sonar_i2c.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="abi_8h_source.html">modules/core/abi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="telemetry_8h_source.html">modules/datalink/telemetry.h</a>&quot;</code><br />
<code>#include &quot;pprzlink/messages.h&quot;</code><br />
<code>#include &quot;<a class="el" href="median__filter_8h_source.html">filters/median_filter.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for sonar_i2c.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="sonar__i2c_8c__incl.png" border="0" usemap="#asw_2airborne_2modules_2sonar_2sonar__i2c_8c" alt=""/></div>
<map name="asw_2airborne_2modules_2sonar_2sonar__i2c_8c" id="asw_2airborne_2modules_2sonar_2sonar__i2c_8c">
<area shape="rect" title=" " alt="" coords="917,5,1075,45"/>
<area shape="rect" title=" " alt="" coords="5,269,165,295"/>
<area shape="poly" title=" " alt="" coords="916,31,824,37,710,48,588,67,467,96,363,134,263,181,178,228,116,264,113,260,175,223,261,176,361,129,466,91,587,62,710,43,823,31,916,26"/>
<area shape="rect" href="sonar__i2c_8h.html" title="Driver for an sonar rangfinder sensor when used via I2C bus." alt="" coords="1814,93,1973,133"/>
<area shape="poly" title=" " alt="" coords="1076,32,1801,101,1800,106,1075,37"/>
<area shape="rect" href="abi_8h.html" title="Main include for ABI (AirBorneInterface)." alt="" coords="2117,101,2264,126"/>
<area shape="poly" title=" " alt="" coords="1076,29,1467,53,1986,91,2104,101,2103,106,1985,96,1467,59,1075,34"/>
<area shape="rect" href="telemetry_8h.html" title="Periodic telemetry system header (includes downlink utility and generated code)." alt="" coords="588,101,801,126"/>
<area shape="poly" title=" " alt="" coords="931,48,748,100,747,94,929,43"/>
<area shape="rect" title=" " alt="" coords="190,269,346,295"/>
<area shape="poly" title=" " alt="" coords="917,35,758,55,666,73,577,96,521,114,479,131,389,184,335,223,292,262,288,258,332,219,387,179,477,127,519,109,575,91,665,67,757,50,916,30"/>
<area shape="rect" href="median__filter_8h.html" title=" " alt="" coords="1217,189,1377,214"/>
<area shape="poly" title=" " alt="" coords="1030,43,1267,180,1265,184,1027,48"/>
<area shape="rect" title=" " alt="" coords="2204,350,2287,375"/>
<area shape="poly" title=" " alt="" coords="1948,131,2002,153,2064,184,2128,222,2187,267,2216,302,2236,336,2232,339,2212,305,2183,271,2125,226,2061,188,1999,158,1946,136"/>
<area shape="rect" href="i2c_8h.html" title="Architecture independent I2C (Inter&#45;Integrated Circuit Bus) API." alt="" coords="1827,189,1960,214"/>
<area shape="poly" title=" " alt="" coords="1896,134,1896,175,1891,175,1891,134"/>
<area shape="rect" title=" " alt="" coords="1261,431,1315,456"/>
<area shape="poly" title=" " alt="" coords="1873,216,1552,385,1492,404,1432,419,1329,439,1328,434,1430,414,1491,399,1550,380,1871,212"/>
<area shape="rect" title=" " alt="" coords="2005,269,2173,295"/>
<area shape="poly" title=" " alt="" coords="1923,212,2049,262,2047,267,1921,216"/>
<area shape="rect" href="threads_8h.html" title=" " alt="" coords="1806,269,1981,295"/>
<area shape="poly" title=" " alt="" coords="1896,214,1896,255,1891,255,1891,214"/>
<area shape="poly" title=" " alt="" coords="1966,292,2073,312,2193,340,2203,343,2201,348,2191,345,2072,317,1965,297"/>
<area shape="rect" title=" " alt="" coords="2017,343,2180,383"/>
<area shape="poly" title=" " alt="" coords="1924,292,2037,335,2035,340,1922,297"/>
<area shape="rect" title=" " alt="" coords="1823,350,1894,375"/>
<area shape="poly" title=" " alt="" coords="1891,296,1872,339,1867,336,1886,294"/>
<area shape="rect" title=" " alt="" coords="1919,350,1993,375"/>
<area shape="poly" title=" " alt="" coords="1905,293,1940,338,1936,341,1901,297"/>
<area shape="rect" title=" " alt="" coords="2249,189,2375,214"/>
<area shape="poly" title=" " alt="" coords="2209,124,2286,178,2283,183,2205,128"/>
<area shape="poly" title=" " alt="" coords="770,123,854,141,954,170,1059,211,1109,237,1156,267,1209,330,1274,418,1270,421,1205,333,1153,271,1107,242,1057,216,953,175,853,146,769,129"/>
<area shape="rect" href="uart_8h.html" title="arch independent UART (Universal Asynchronous Receiver/Transmitter) API" alt="" coords="358,350,498,375"/>
<area shape="poly" title=" " alt="" coords="588,129,481,149,438,165,411,183,401,201,395,220,395,262,405,303,418,337,413,339,400,304,390,263,390,219,396,198,407,180,435,160,480,144,587,123"/>
<area shape="rect" title=" " alt="" coords="421,181,565,221"/>
<area shape="poly" title=" " alt="" coords="669,129,551,178,549,173,666,124"/>
<area shape="rect" href="downlink_8h.html" title="Common code for AP and FBW telemetry." alt="" coords="589,189,800,214"/>
<area shape="poly" title=" " alt="" coords="697,126,697,174,692,174,692,126"/>
<area shape="poly" title=" " alt="" coords="473,373,511,380,728,406,940,424,1247,438,1247,444,940,429,727,412,510,385,472,378"/>
<area shape="rect" title=" " alt="" coords="237,431,411,456"/>
<area shape="poly" title=" " alt="" coords="414,378,352,425,349,420,411,373"/>
<area shape="rect" title=" " alt="" coords="436,431,628,456"/>
<area shape="poly" title=" " alt="" coords="445,373,507,420,504,425,442,378"/>
<area shape="poly" title=" " alt="" coords="626,217,578,224,381,249,180,272,179,266,380,244,577,219,625,211"/>
<area shape="rect" title=" " alt="" coords="643,269,730,295"/>
<area shape="poly" title=" " alt="" coords="696,214,692,256,687,255,691,214"/>
<area shape="poly" title=" " alt="" coords="633,217,344,270,343,264,632,211"/>
<area shape="rect" href="datalink_8h.html" title="Handling of messages coming from ground and other A/Cs." alt="" coords="754,269,958,295"/>
<area shape="poly" title=" " alt="" coords="719,212,822,261,819,266,717,216"/>
<area shape="rect" href="pprz__dl_8h.html" title="Datalink using PPRZ protocol." alt="" coords="421,269,619,295"/>
<area shape="poly" title=" " alt="" coords="670,216,559,266,557,261,668,212"/>
<area shape="rect" title=" " alt="" coords="983,269,1143,295"/>
<area shape="poly" title=" " alt="" coords="749,211,996,264,995,269,748,217"/>
<area shape="poly" title=" " alt="" coords="888,292,1249,425,1247,430,886,297"/>
<area shape="rect" title=" " alt="" coords="775,350,937,375"/>
<area shape="poly" title=" " alt="" coords="859,295,859,336,853,336,853,295"/>
<area shape="poly" title=" " alt="" coords="508,297,454,343,450,339,505,293"/>
<area shape="rect" title=" " alt="" coords="523,350,707,375"/>
<area shape="poly" title=" " alt="" coords="536,293,592,339,588,343,532,297"/>
<area shape="poly" title=" " alt="" coords="1293,215,1279,245,1264,286,1255,334,1255,358,1259,382,1275,418,1270,420,1253,383,1250,359,1250,333,1259,285,1274,243,1289,213"/>
<area shape="rect" href="pprz__algebra__int_8h.html" title="Paparazzi fixed point algebra." alt="" coords="1387,269,1567,295"/>
<area shape="poly" title=" " alt="" coords="1325,212,1440,261,1438,266,1322,216"/>
<area shape="poly" title=" " alt="" coords="1493,293,1511,311,1529,334,1537,359,1536,372,1530,384,1516,396,1496,406,1443,422,1329,441,1328,435,1442,417,1494,401,1514,391,1526,381,1531,371,1532,360,1524,337,1507,315,1489,297"/>
<area shape="rect" href="pprz__algebra_8h.html" title="Paparazzi generic algebra macros." alt="" coords="1643,350,1799,375"/>
<area shape="poly" title=" " alt="" coords="1514,292,1673,343,1672,348,1512,297"/>
<area shape="rect" href="pprz__trig__int_8h.html" title="Paparazzi fixed point trig functions." alt="" coords="1269,350,1422,375"/>
<area shape="poly" title=" " alt="" coords="1459,297,1378,345,1375,341,1456,293"/>
<area shape="rect" title=" " alt="" coords="1446,350,1517,375"/>
<area shape="poly" title=" " alt="" coords="1481,295,1483,336,1477,336,1475,295"/>
<area shape="poly" title=" " alt="" coords="1663,378,1624,385,1329,438,1328,432,1624,380,1662,373"/>
<area shape="rect" title=" " alt="" coords="1599,431,1662,456"/>
<area shape="poly" title=" " alt="" coords="1710,378,1656,424,1653,420,1706,373"/>
<area shape="rect" title=" " alt="" coords="1686,431,1757,456"/>
<area shape="poly" title=" " alt="" coords="1724,376,1724,417,1719,417,1719,376"/>
<area shape="rect" title=" " alt="" coords="1781,431,1849,456"/>
<area shape="poly" title=" " alt="" coords="1737,373,1792,420,1789,424,1733,378"/>
<area shape="poly" title=" " alt="" coords="1339,377,1307,421,1302,418,1335,374"/>
</map>
</div>
</div>
<p><a href="sonar__i2c_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:afa662bc553c21ace9c17a8de6d4d00ef" id="r_afa662bc553c21ace9c17a8de6d4d00ef"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar__i2c_8c.html#afa662bc553c21ace9c17a8de6d4d00ef">SONAR_I2C_ADDR</a>&#160;&#160;&#160;0xE0</td></tr>
<tr class="separator:afa662bc553c21ace9c17a8de6d4d00ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6303ceb01d9174a498fe8b2fc9eeb73" id="r_af6303ceb01d9174a498fe8b2fc9eeb73"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar__i2c_8c.html#af6303ceb01d9174a498fe8b2fc9eeb73">READ_MODE_SINGLE</a>&#160;&#160;&#160;0x51</td></tr>
<tr class="separator:af6303ceb01d9174a498fe8b2fc9eeb73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae93545285e4ee9c03be92fc9610b0dc6" id="r_ae93545285e4ee9c03be92fc9610b0dc6"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar__i2c_8c.html#ae93545285e4ee9c03be92fc9610b0dc6">SONAR_I2C_MIN_RANGE</a>&#160;&#160;&#160;0.24<a class="el" href="wedgebug_8c.html#a05fd2dba3354a98f1a00b7c7ffc12b13">f</a></td></tr>
<tr class="memdesc:ae93545285e4ee9c03be92fc9610b0dc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The minimum chosen distance for the device to be give readings.  <br /></td></tr>
<tr class="separator:ae93545285e4ee9c03be92fc9610b0dc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72d61fc6abccc5cbf840aff60e5dd7fa" id="r_a72d61fc6abccc5cbf840aff60e5dd7fa"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar__i2c_8c.html#a72d61fc6abccc5cbf840aff60e5dd7fa">SONAR_I2C_MAX_RANGE</a>&#160;&#160;&#160;4.0f</td></tr>
<tr class="memdesc:a72d61fc6abccc5cbf840aff60e5dd7fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum chosen distance for the device to be give readings.  <br /></td></tr>
<tr class="separator:a72d61fc6abccc5cbf840aff60e5dd7fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19657b64f13708b4be6f88ed9eccb45f" id="r_a19657b64f13708b4be6f88ed9eccb45f"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar__i2c_8c.html#a19657b64f13708b4be6f88ed9eccb45f">SONAR_I2C_OFFSET</a>&#160;&#160;&#160;0.0f</td></tr>
<tr class="memdesc:a19657b64f13708b4be6f88ed9eccb45f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rangefinder distance offset value for what should be considered zero distance, e.g. high landing gear of 1.1m to tarmac still could be considered zero.  <br /></td></tr>
<tr class="separator:a19657b64f13708b4be6f88ed9eccb45f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cd21f975d0b0ac6abe41b02c7896717" id="r_a7cd21f975d0b0ac6abe41b02c7896717"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar__i2c_8c.html#a7cd21f975d0b0ac6abe41b02c7896717">USE_SONAR_I2C_AGL</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a7cd21f975d0b0ac6abe41b02c7896717"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send AGL data over ABI.  <br /></td></tr>
<tr class="separator:a7cd21f975d0b0ac6abe41b02c7896717"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add5978d0455c867c58fd92a9278612ed" id="r_add5978d0455c867c58fd92a9278612ed"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar__i2c_8c.html#add5978d0455c867c58fd92a9278612ed">SONAR_I2C_USE_FILTER</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:add5978d0455c867c58fd92a9278612ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filter the raw measuread sonar data.  <br /></td></tr>
<tr class="separator:add5978d0455c867c58fd92a9278612ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95c0bfe26549ba6fa4f629c5506bf440" id="r_a95c0bfe26549ba6fa4f629c5506bf440"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar__i2c_8c.html#a95c0bfe26549ba6fa4f629c5506bf440">SONAR_I2C_MEDIAN_SIZE</a>&#160;&#160;&#160;7</td></tr>
<tr class="memdesc:a95c0bfe26549ba6fa4f629c5506bf440"><td class="mdescLeft">&#160;</td><td class="mdescRight">The amount of sensor samples to keep in the median filter buffer.  <br /></td></tr>
<tr class="separator:a95c0bfe26549ba6fa4f629c5506bf440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5df36199c4de226900f73c489f26f9b6" id="r_a5df36199c4de226900f73c489f26f9b6"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar__i2c_8c.html#a5df36199c4de226900f73c489f26f9b6">SONAR_I2C_COMPENSATE_ROTATION</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a5df36199c4de226900f73c489f26f9b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4609c56f385fa789c4754aa2252bdf3e" id="r_a4609c56f385fa789c4754aa2252bdf3e"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar__i2c_8c.html#a4609c56f385fa789c4754aa2252bdf3e">SONAR_I2C_SCALE</a>&#160;&#160;&#160;0.000044<a class="el" href="wedgebug_8c.html#a05fd2dba3354a98f1a00b7c7ffc12b13">f</a></td></tr>
<tr class="separator:a4609c56f385fa789c4754aa2252bdf3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac84b05ca749736a91563498b74776be8" id="r_ac84b05ca749736a91563498b74776be8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">static</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar__i2c_8c.html#ac84b05ca749736a91563498b74776be8">sonar_i2c_send_sonar</a> (struct <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">transport_tx</a> *trans, struct <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">link_device</a> *<a class="el" href="stm32_2usb__ser__hw_8c.html#af2dab4ea4560c93acc64b4418db49f84">dev</a>)</td></tr>
<tr class="memdesc:ac84b05ca749736a91563498b74776be8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send measured value and status information so it can be read back in e.g.  <br /></td></tr>
<tr class="separator:ac84b05ca749736a91563498b74776be8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acef6a387911dc98620af6de15905f5b8" id="r_acef6a387911dc98620af6de15905f5b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar__i2c_8c.html#acef6a387911dc98620af6de15905f5b8">sonar_i2c_init</a> (<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>)</td></tr>
<tr class="memdesc:acef6a387911dc98620af6de15905f5b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the default values at initialization.  <br /></td></tr>
<tr class="separator:acef6a387911dc98620af6de15905f5b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5883c674e401657a33d7b960685a0923" id="r_a5883c674e401657a33d7b960685a0923"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar__i2c_8c.html#a5883c674e401657a33d7b960685a0923">sonar_i2c_event</a> (<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>)</td></tr>
<tr class="memdesc:a5883c674e401657a33d7b960685a0923"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rangefinder event function Basically just check the progress of the transation to prevent overruns during high speed operation (ie.  <br /></td></tr>
<tr class="separator:a5883c674e401657a33d7b960685a0923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af564f6db6a7628373df1f6a8b361fdad" id="r_af564f6db6a7628373df1f6a8b361fdad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar__i2c_8c.html#af564f6db6a7628373df1f6a8b361fdad">sonar_i2c_periodic</a> (<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>)</td></tr>
<tr class="memdesc:af564f6db6a7628373df1f6a8b361fdad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ranger current distance value.  <br /></td></tr>
<tr class="separator:af564f6db6a7628373df1f6a8b361fdad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aba3804bce58d1b40cb211711f5004d" id="r_a8aba3804bce58d1b40cb211711f5004d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar__i2c_8c.html#a8aba3804bce58d1b40cb211711f5004d">sonar_i2c_report</a> (<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>)</td></tr>
<tr class="memdesc:a8aba3804bce58d1b40cb211711f5004d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Option to send debug informative values over telemetry if you do not want sonar message in telemetry.  <br /></td></tr>
<tr class="separator:a8aba3804bce58d1b40cb211711f5004d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:adc1d37158bde7565de70d7792aeb598b" id="r_adc1d37158bde7565de70d7792aeb598b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="median__filter_8h.html#structMedianFilterFloat">MedianFilterFloat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar__i2c_8c.html#adc1d37158bde7565de70d7792aeb598b">sonar_i2c_filter</a></td></tr>
<tr class="separator:adc1d37158bde7565de70d7792aeb598b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad68bd29e15fa3c9c0d214c0ef1390bfa" id="r_ad68bd29e15fa3c9c0d214c0ef1390bfa"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="sonar__i2c_8h.html#structSonarI2C">SonarI2C</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar__i2c_8c.html#ad68bd29e15fa3c9c0d214c0ef1390bfa">sonar_i2c</a></td></tr>
<tr class="separator:ad68bd29e15fa3c9c0d214c0ef1390bfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af6303ceb01d9174a498fe8b2fc9eeb73" name="af6303ceb01d9174a498fe8b2fc9eeb73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6303ceb01d9174a498fe8b2fc9eeb73">&#9670;&#160;</a></span>READ_MODE_SINGLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> READ_MODE_SINGLE&#160;&#160;&#160;0x51</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sonar__i2c_8c_source.html#l00054">54</a> of file <a class="el" href="sonar__i2c_8c_source.html">sonar_i2c.c</a>.</p>

</div>
</div>
<a id="afa662bc553c21ace9c17a8de6d4d00ef" name="afa662bc553c21ace9c17a8de6d4d00ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa662bc553c21ace9c17a8de6d4d00ef">&#9670;&#160;</a></span>SONAR_I2C_ADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> SONAR_I2C_ADDR&#160;&#160;&#160;0xE0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sonar__i2c_8c_source.html#l00051">51</a> of file <a class="el" href="sonar__i2c_8c_source.html">sonar_i2c.c</a>.</p>

</div>
</div>
<a id="a5df36199c4de226900f73c489f26f9b6" name="a5df36199c4de226900f73c489f26f9b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5df36199c4de226900f73c489f26f9b6">&#9670;&#160;</a></span>SONAR_I2C_COMPENSATE_ROTATION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> SONAR_I2C_COMPENSATE_ROTATION&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sonar__i2c_8c_source.html#l00093">93</a> of file <a class="el" href="sonar__i2c_8c_source.html">sonar_i2c.c</a>.</p>

</div>
</div>
<a id="a72d61fc6abccc5cbf840aff60e5dd7fa" name="a72d61fc6abccc5cbf840aff60e5dd7fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72d61fc6abccc5cbf840aff60e5dd7fa">&#9670;&#160;</a></span>SONAR_I2C_MAX_RANGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> SONAR_I2C_MAX_RANGE&#160;&#160;&#160;4.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The maximum chosen distance for the device to be give readings. </p>

<p class="definition">Definition at line <a class="el" href="sonar__i2c_8c_source.html#l00065">65</a> of file <a class="el" href="sonar__i2c_8c_source.html">sonar_i2c.c</a>.</p>

</div>
</div>
<a id="a95c0bfe26549ba6fa4f629c5506bf440" name="a95c0bfe26549ba6fa4f629c5506bf440"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95c0bfe26549ba6fa4f629c5506bf440">&#9670;&#160;</a></span>SONAR_I2C_MEDIAN_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> SONAR_I2C_MEDIAN_SIZE&#160;&#160;&#160;7</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The amount of sensor samples to keep in the median filter buffer. </p>

<p class="definition">Definition at line <a class="el" href="sonar__i2c_8c_source.html#l00087">87</a> of file <a class="el" href="sonar__i2c_8c_source.html">sonar_i2c.c</a>.</p>

</div>
</div>
<a id="ae93545285e4ee9c03be92fc9610b0dc6" name="ae93545285e4ee9c03be92fc9610b0dc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae93545285e4ee9c03be92fc9610b0dc6">&#9670;&#160;</a></span>SONAR_I2C_MIN_RANGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> SONAR_I2C_MIN_RANGE&#160;&#160;&#160;0.24<a class="el" href="wedgebug_8c.html#a05fd2dba3354a98f1a00b7c7ffc12b13">f</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The minimum chosen distance for the device to be give readings. </p>

<p class="definition">Definition at line <a class="el" href="sonar__i2c_8c_source.html#l00060">60</a> of file <a class="el" href="sonar__i2c_8c_source.html">sonar_i2c.c</a>.</p>

</div>
</div>
<a id="a19657b64f13708b4be6f88ed9eccb45f" name="a19657b64f13708b4be6f88ed9eccb45f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19657b64f13708b4be6f88ed9eccb45f">&#9670;&#160;</a></span>SONAR_I2C_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> SONAR_I2C_OFFSET&#160;&#160;&#160;0.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rangefinder distance offset value for what should be considered zero distance, e.g. high landing gear of 1.1m to tarmac still could be considered zero. </p>

<p class="definition">Definition at line <a class="el" href="sonar__i2c_8c_source.html#l00070">70</a> of file <a class="el" href="sonar__i2c_8c_source.html">sonar_i2c.c</a>.</p>

</div>
</div>
<a id="a4609c56f385fa789c4754aa2252bdf3e" name="a4609c56f385fa789c4754aa2252bdf3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4609c56f385fa789c4754aa2252bdf3e">&#9670;&#160;</a></span>SONAR_I2C_SCALE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> SONAR_I2C_SCALE&#160;&#160;&#160;0.000044<a class="el" href="wedgebug_8c.html#a05fd2dba3354a98f1a00b7c7ffc12b13">f</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sonar__i2c_8c_source.html#l00098">98</a> of file <a class="el" href="sonar__i2c_8c_source.html">sonar_i2c.c</a>.</p>

</div>
</div>
<a id="add5978d0455c867c58fd92a9278612ed" name="add5978d0455c867c58fd92a9278612ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add5978d0455c867c58fd92a9278612ed">&#9670;&#160;</a></span>SONAR_I2C_USE_FILTER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> SONAR_I2C_USE_FILTER&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Filter the raw measuread sonar data. </p>

<p class="definition">Definition at line <a class="el" href="sonar__i2c_8c_source.html#l00080">80</a> of file <a class="el" href="sonar__i2c_8c_source.html">sonar_i2c.c</a>.</p>

</div>
</div>
<a id="a7cd21f975d0b0ac6abe41b02c7896717" name="a7cd21f975d0b0ac6abe41b02c7896717"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cd21f975d0b0ac6abe41b02c7896717">&#9670;&#160;</a></span>USE_SONAR_I2C_AGL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> USE_SONAR_I2C_AGL&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send AGL data over ABI. </p>

<p class="definition">Definition at line <a class="el" href="sonar__i2c_8c_source.html#l00075">75</a> of file <a class="el" href="sonar__i2c_8c_source.html">sonar_i2c.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a5883c674e401657a33d7b960685a0923" name="a5883c674e401657a33d7b960685a0923"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5883c674e401657a33d7b960685a0923">&#9670;&#160;</a></span>sonar_i2c_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> sonar_i2c_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rangefinder event function Basically just check the progress of the transation to prevent overruns during high speed operation (ie. </p>
<p>polling the sensor at more than maximum, e.g. &gt; 10Hz) </p>

<p class="definition">Definition at line <a class="el" href="sonar__i2c_8c_source.html#l00142">142</a> of file <a class="el" href="sonar__i2c_8c_source.html">sonar_i2c.c</a>.</p>

<p class="reference">References <a class="el" href="i2c_8h_source.html#l00060">I2CTransDone</a>, <a class="el" href="i2c_8h_source.html#l00059">I2CTransFailed</a>, <a class="el" href="i2c_8h_source.html#l00056">I2CTransPending</a>, <a class="el" href="i2c_8h_source.html#l00057">I2CTransRunning</a>, <a class="el" href="i2c_8h_source.html#l00058">I2CTransSuccess</a>, <a class="el" href="sonar__i2c_8c_source.html#l00101">sonar_i2c</a>, <a class="el" href="sonar__i2c_8c_source.html#l00246">sonar_i2c_report()</a>, <a class="el" href="i2c_8h_source.html#l00127">i2c_transaction::status</a>, and <a class="el" href="sonar__i2c_8h_source.html#l00039">SonarI2C::trans</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="sonar__i2c_8c_a5883c674e401657a33d7b960685a0923_cgraph.png" border="0" usemap="#asonar__i2c_8c_a5883c674e401657a33d7b960685a0923_cgraph" alt=""/></div>
<map name="asonar__i2c_8c_a5883c674e401657a33d7b960685a0923_cgraph" id="asonar__i2c_8c_a5883c674e401657a33d7b960685a0923_cgraph">
<area shape="rect" title="Rangefinder event function Basically just check the progress of the transation to prevent overruns du..." alt="" coords="5,5,133,31"/>
<area shape="rect" href="sonar__i2c_8c.html#a8aba3804bce58d1b40cb211711f5004d" title="Option to send debug informative values over telemetry if you do not want sonar message in telemetry." alt="" coords="181,5,312,31"/>
<area shape="poly" title=" " alt="" coords="134,15,168,15,168,21,134,21"/>
</map>
</div>

</div>
</div>
<a id="acef6a387911dc98620af6de15905f5b8" name="acef6a387911dc98620af6de15905f5b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acef6a387911dc98620af6de15905f5b8">&#9670;&#160;</a></span>sonar_i2c_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> sonar_i2c_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the default values at initialization. </p>

<p class="definition">Definition at line <a class="el" href="sonar__i2c_8c_source.html#l00114">114</a> of file <a class="el" href="sonar__i2c_8c_source.html">sonar_i2c.c</a>.</p>

<p class="reference">References <a class="el" href="sonar__i2c_8h_source.html#l00040">SonarI2C::addr</a>, <a class="el" href="telemetry_8h_source.html#l00066">DefaultPeriodic</a>, <a class="el" href="sonar__i2c_8h_source.html#l00043">SonarI2C::distance</a>, <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>, <a class="el" href="i2c_8h_source.html#l00060">I2CTransDone</a>, <a class="el" href="median__filter_8h_source.html#l00148">init_median_filter_f()</a>, <a class="el" href="sonar__i2c_8h_source.html#l00042">SonarI2C::raw</a>, <a class="el" href="telemetry_8c_source.html#l00051">register_periodic_telemetry()</a>, <a class="el" href="sonar__i2c_8c_source.html#l00101">sonar_i2c</a>, <a class="el" href="sonar__i2c_8c_source.html#l00051">SONAR_I2C_ADDR</a>, <a class="el" href="sonar__i2c_8c_source.html#l00089">sonar_i2c_filter</a>, <a class="el" href="sonar__i2c_8c_source.html#l00087">SONAR_I2C_MEDIAN_SIZE</a>, <a class="el" href="sonar__i2c_8c_source.html#l00060">SONAR_I2C_MIN_RANGE</a>, <a class="el" href="sonar__i2c_8h_source.html#l00033">SONAR_I2C_REQ_DATA</a>, <a class="el" href="sonar__i2c_8c_source.html#l00098">SONAR_I2C_SCALE</a>, <a class="el" href="sonar__i2c_8c_source.html#l00106">sonar_i2c_send_sonar()</a>, <a class="el" href="i2c_8h_source.html#l00127">i2c_transaction::status</a>, <a class="el" href="sonar__i2c_8h_source.html#l00041">SonarI2C::status</a>, <a class="el" href="sonar__i2c_8h_source.html#l00039">SonarI2C::trans</a>, <a class="el" href="sonar__i2c_8h_source.html#l00044">SonarI2C::update_agl</a>, and <a class="el" href="sonar__i2c_8c_source.html#l00075">USE_SONAR_I2C_AGL</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="sonar__i2c_8c_acef6a387911dc98620af6de15905f5b8_cgraph.png" border="0" usemap="#asonar__i2c_8c_acef6a387911dc98620af6de15905f5b8_cgraph" alt=""/></div>
<map name="asonar__i2c_8c_acef6a387911dc98620af6de15905f5b8_cgraph" id="asonar__i2c_8c_acef6a387911dc98620af6de15905f5b8_cgraph">
<area shape="rect" title="Set the default values at initialization." alt="" coords="5,55,117,80"/>
<area shape="rect" href="median__filter_8h.html#a96f8e995febe47e892b65f0e6ea0bf3c" title=" " alt="" coords="193,5,341,31"/>
<area shape="poly" title=" " alt="" coords="113,52,165,39,198,31,199,37,166,45,114,57"/>
<area shape="rect" href="telemetry_8c.html#a7caab442e31bff660862d3372fd9737c" title="Register a telemetry callback function." alt="" coords="165,55,368,80"/>
<area shape="poly" title=" " alt="" coords="118,65,152,65,152,70,118,70"/>
<area shape="rect" href="sonar__i2c_8c.html#ac84b05ca749736a91563498b74776be8" title="Send measured value and status information so it can be read back in e.g." alt="" coords="184,104,349,129"/>
<area shape="poly" title=" " alt="" coords="115,77,200,98,199,103,114,83"/>
</map>
</div>

</div>
</div>
<a id="af564f6db6a7628373df1f6a8b361fdad" name="af564f6db6a7628373df1f6a8b361fdad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af564f6db6a7628373df1f6a8b361fdad">&#9670;&#160;</a></span>sonar_i2c_periodic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> sonar_i2c_periodic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the ranger current distance value. </p>

<p class="definition">Definition at line <a class="el" href="sonar__i2c_8c_source.html#l00169">169</a> of file <a class="el" href="sonar__i2c_8c_source.html">sonar_i2c.c</a>.</p>

<p class="reference">References <a class="el" href="sonar__i2c_8h_source.html#l00040">SonarI2C::addr</a>, <a class="el" href="abi__sender__ids_8h_source.html#l00205">AGL_SONAR_I2C_ID</a>, <a class="el" href="i2c_8h_source.html#l00123">i2c_transaction::buf</a>, <a class="el" href="sonar__i2c_8h_source.html#l00043">SonarI2C::distance</a>, <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>, <a class="el" href="chibios_2mcu__periph_2sys__time__arch_8c_source.html#l00071">get_sys_time_usec()</a>, <a class="el" href="i2c_8c_source.html#l00212">i2c_receive()</a>, <a class="el" href="i2c_8c_source.html#l00202">i2c_transmit()</a>, <a class="el" href="i2c_8h_source.html#l00060">I2CTransDone</a>, <a class="el" href="pprz__algebra__float_8h_source.html#l00085">FloatEulers::phi</a>, <a class="el" href="sonar__i2c_8h_source.html#l00042">SonarI2C::raw</a>, <a class="el" href="sonar__i2c_8c_source.html#l00054">READ_MODE_SINGLE</a>, <a class="el" href="sonar__i2c_8c_source.html#l00101">sonar_i2c</a>, <a class="el" href="sonar__i2c_8c_source.html#l00089">sonar_i2c_filter</a>, <a class="el" href="sonar__i2c_8c_source.html#l00065">SONAR_I2C_MAX_RANGE</a>, <a class="el" href="sonar__i2c_8c_source.html#l00060">SONAR_I2C_MIN_RANGE</a>, <a class="el" href="sonar__i2c_8c_source.html#l00070">SONAR_I2C_OFFSET</a>, <a class="el" href="sonar__i2c_8h_source.html#l00035">SONAR_I2C_PARSE_DATA</a>, <a class="el" href="sonar__i2c_8h_source.html#l00034">SONAR_I2C_READ_DATA</a>, <a class="el" href="sonar__i2c_8h_source.html#l00033">SONAR_I2C_REQ_DATA</a>, <a class="el" href="sonar__i2c_8c_source.html#l00098">SONAR_I2C_SCALE</a>, <a class="el" href="state_8h_source.html#l01306">stateGetNedToBodyEulers_f()</a>, <a class="el" href="state_8h_source.html#l00848">stateGetPositionEnu_f()</a>, <a class="el" href="i2c_8h_source.html#l00127">i2c_transaction::status</a>, <a class="el" href="sonar__i2c_8h_source.html#l00041">SonarI2C::status</a>, <a class="el" href="pprz__algebra__float_8h_source.html#l00086">FloatEulers::theta</a>, <a class="el" href="sonar__i2c_8h_source.html#l00039">SonarI2C::trans</a>, <a class="el" href="sonar__i2c_8h_source.html#l00044">SonarI2C::update_agl</a>, <a class="el" href="median__filter_8h_source.html#l00175">update_median_filter_f()</a>, and <a class="el" href="pprz__geodetic__float_8h_source.html#l00075">EnuCoor_f::z</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="sonar__i2c_8c_af564f6db6a7628373df1f6a8b361fdad_cgraph.png" border="0" usemap="#asonar__i2c_8c_af564f6db6a7628373df1f6a8b361fdad_cgraph" alt=""/></div>
<map name="asonar__i2c_8c_af564f6db6a7628373df1f6a8b361fdad_cgraph" id="asonar__i2c_8c_af564f6db6a7628373df1f6a8b361fdad_cgraph">
<area shape="rect" title="Get the ranger current distance value." alt="" coords="5,129,148,155"/>
<area shape="rect" href="chibios_2mcu__periph_2sys__time__arch_8c.html#a7ddfef1f78a56c6b4c4c536b5d670bfb" title="Get the time in microseconds since startup." alt="" coords="224,5,371,31"/>
<area shape="poly" title=" " alt="" coords="87,127,131,84,162,60,195,40,211,33,213,38,197,44,165,64,135,88,91,131"/>
<area shape="rect" href="group__i2c.html#ga9e7c3ccd9ba7415486bfb2e52eaa3964" title="Submit a read only transaction." alt="" coords="249,55,345,80"/>
<area shape="poly" title=" " alt="" coords="103,127,195,89,235,77,237,83,197,94,105,132"/>
<area shape="rect" href="group__i2c.html#ga54405aa058f14a143b8b1b5380015927" title="Submit a write only transaction." alt="" coords="246,104,349,129"/>
<area shape="poly" title=" " alt="" coords="148,131,232,121,233,127,148,136"/>
<area shape="rect" href="group__state__attitude.html#gaa4fb84e753baa3a8812b2bec33df4682" title="Get vehicle body attitude euler angles (float)." alt="" coords="196,153,399,179"/>
<area shape="poly" title=" " alt="" coords="148,147,182,151,182,156,148,152"/>
<area shape="rect" href="group__state__position.html#gada8de93d61e1bc0ed8f5e06f6bb54f6d" title="Get position in local ENU coordinates (float)." alt="" coords="214,203,381,228"/>
<area shape="poly" title=" " alt="" coords="107,152,197,187,228,197,226,202,195,193,105,157"/>
<area shape="rect" href="median__filter_8h.html#a299781c28e551a49077251f79ddf6487" title=" " alt="" coords="211,252,383,277"/>
<area shape="poly" title=" " alt="" coords="92,153,136,195,165,217,197,237,216,245,214,250,195,242,162,222,132,199,88,157"/>
<area shape="rect" href="group__i2c.html#ga4eed48e542a9c71b93372f5a38d7e367" title="Submit a I2C transaction." alt="" coords="485,80,579,105"/>
<area shape="poly" title=" " alt="" coords="346,70,472,84,471,89,345,75"/>
<area shape="poly" title=" " alt="" coords="349,109,471,96,472,101,349,114"/>
<area shape="rect" href="group__math__orientation__representation.html#gaf011b13c3151cd69abc70881cce5ce8c" title="Get vehicle body attitude euler angles (float)." alt="" coords="448,141,616,167"/>
<area shape="poly" title=" " alt="" coords="399,158,434,156,434,162,399,163"/>
<area shape="rect" href="group__math__orientation__representation.html#ga8b8bf1c74adb971f399f0dd4f84d9388" title=" " alt="" coords="665,79,839,104"/>
<area shape="poly" title=" " alt="" coords="576,139,665,113,691,105,693,110,666,118,577,144"/>
<area shape="rect" href="group__math__algebra__float.html#gacd48accfe6eaac320b0d651d894e1db8" title="euler rotation &#39;ZYX&#39;" alt="" coords="887,29,1042,55"/>
<area shape="poly" title=" " alt="" coords="807,76,895,55,896,60,808,81"/>
<area shape="rect" href="group__math__algebra__float.html#gac568e7074d2732d1237f80898c1dfb76" title=" " alt="" coords="887,79,1043,104"/>
<area shape="poly" title=" " alt="" coords="839,89,873,89,873,94,839,94"/>
<area shape="rect" href="group__state__position.html#ga718066acd9581365ca5c2aacb29130fd" title=" " alt="" coords="447,203,617,228"/>
<area shape="poly" title=" " alt="" coords="381,213,433,213,433,218,381,218"/>
<area shape="rect" href="group__math__geodetic__int.html#ga386f7bf340618bf1454ca2a3b5086100" title="Convert a LLA to ECEF." alt="" coords="700,128,804,153"/>
<area shape="poly" title=" " alt="" coords="563,200,664,162,689,155,691,160,666,167,565,205"/>
<area shape="rect" href="pprz__geodetic__float_8c.html#a2a82ebdce90a3e41d54f72c5e787fcd0" title=" " alt="" coords="888,227,1041,252"/>
<area shape="poly" title=" " alt="" coords="618,217,874,232,874,237,618,223"/>
<area shape="rect" href="group__math__geodetic__int.html#ga710a45725431766f0a003ba93cb58a11" title="Convert a ECEF position to local ENU." alt="" coords="681,279,823,304"/>
<area shape="poly" title=" " alt="" coords="582,226,618,237,666,257,704,271,702,276,664,262,616,242,581,231"/>
<area shape="rect" href="pprz__geodetic__float_8c.html#ab8d5cb7292ea74802e7a94e265c0703a" title=" " alt="" coords="681,177,823,203"/>
<area shape="poly" title=" " alt="" coords="617,203,667,197,668,202,618,208"/>
<area shape="rect" href="pprz__geodetic__float_8c.html#af99d4775df518f30b741b49c26eceedd" title=" " alt="" coords="701,328,803,353"/>
<area shape="poly" title=" " alt="" coords="599,226,619,237,636,257,644,277,651,296,667,315,689,326,686,331,664,319,646,299,639,279,632,260,616,241,596,230"/>
<area shape="rect" href="group__math__geodetic__double.html#gae6608c48696daebf3382f08e655028d9" title=" " alt="" coords="911,128,1019,153"/>
<area shape="poly" title=" " alt="" coords="804,138,897,138,897,143,804,143"/>
<area shape="rect" href="pprz__geodetic__float_8c.html#a65bc5ba8b61d014ca659035759cc001c" title=" " alt="" coords="912,177,1017,203"/>
<area shape="poly" title=" " alt="" coords="805,150,899,172,898,177,804,155"/>
<area shape="rect" href="group__math__geodetic__int.html#ga85bcbfc73a43b120465422ec55647573" title="Convert a point from ECEF to local ENU." alt="" coords="889,279,1041,304"/>
<area shape="poly" title=" " alt="" coords="824,289,875,289,875,294,824,294"/>
<area shape="poly" title=" " alt="" coords="823,187,898,187,898,193,823,193"/>
<area shape="poly" title=" " alt="" coords="808,200,896,221,895,226,807,205"/>
<area shape="rect" href="pprz__geodetic__float_8c.html#a25c5bd31de0ea0d0caf14a0d217ad3ea" title=" " alt="" coords="889,328,1041,353"/>
<area shape="poly" title=" " alt="" coords="804,338,875,338,875,343,804,343"/>
<area shape="rect" href="pprz__geodetic__float_8c.html#a21ea1b369f7d4abd984fb89c488dde24" title=" " alt="" coords="895,378,1035,418"/>
<area shape="poly" title=" " alt="" coords="801,351,882,373,881,378,799,356"/>
<area shape="rect" href="median__filter_8h.html#ac22bc67043369c2e3322fbcbbe6b7b3f" title=" " alt="" coords="458,252,606,277"/>
<area shape="poly" title=" " alt="" coords="384,262,444,262,444,267,384,267"/>
</map>
</div>

</div>
</div>
<a id="a8aba3804bce58d1b40cb211711f5004d" name="a8aba3804bce58d1b40cb211711f5004d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8aba3804bce58d1b40cb211711f5004d">&#9670;&#160;</a></span>sonar_i2c_report()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> sonar_i2c_report </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Option to send debug informative values over telemetry if you do not want sonar message in telemetry. </p>

<p class="definition">Definition at line <a class="el" href="sonar__i2c_8c_source.html#l00246">246</a> of file <a class="el" href="sonar__i2c_8c_source.html">sonar_i2c.c</a>.</p>

<p class="reference">References <a class="el" href="downlink_8h_source.html#l00041">DefaultChannel</a>, <a class="el" href="downlink_8h_source.html#l00045">DefaultDevice</a>, <a class="el" href="sonar__i2c_8h_source.html#l00043">SonarI2C::distance</a>, <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>, <a class="el" href="sonar__i2c_8h_source.html#l00042">SonarI2C::raw</a>, and <a class="el" href="sonar__i2c_8c_source.html#l00101">sonar_i2c</a>.</p>

<p class="reference">Referenced by <a class="el" href="sonar__i2c_8c_source.html#l00142">sonar_i2c_event()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="sonar__i2c_8c_a8aba3804bce58d1b40cb211711f5004d_icgraph.png" border="0" usemap="#asonar__i2c_8c_a8aba3804bce58d1b40cb211711f5004d_icgraph" alt=""/></div>
<map name="asonar__i2c_8c_a8aba3804bce58d1b40cb211711f5004d_icgraph" id="asonar__i2c_8c_a8aba3804bce58d1b40cb211711f5004d_icgraph">
<area shape="rect" title="Option to send debug informative values over telemetry if you do not want sonar message in telemetry." alt="" coords="181,5,312,31"/>
<area shape="rect" href="sonar__i2c_8c.html#a5883c674e401657a33d7b960685a0923" title="Rangefinder event function Basically just check the progress of the transation to prevent overruns du..." alt="" coords="5,5,133,31"/>
<area shape="poly" title=" " alt="" coords="168,21,134,21,134,15,168,15"/>
</map>
</div>

</div>
</div>
<a id="ac84b05ca749736a91563498b74776be8" name="ac84b05ca749736a91563498b74776be8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac84b05ca749736a91563498b74776be8">&#9670;&#160;</a></span>sonar_i2c_send_sonar()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">static</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> sonar_i2c_send_sonar </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">transport_tx</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">link_device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send measured value and status information so it can be read back in e.g. </p>
<p>log file for debugging </p>

<p class="definition">Definition at line <a class="el" href="sonar__i2c_8c_source.html#l00106">106</a> of file <a class="el" href="sonar__i2c_8c_source.html">sonar_i2c.c</a>.</p>

<p class="reference">References <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00074">dev</a>, <a class="el" href="sonar__i2c_8h_source.html#l00043">SonarI2C::distance</a>, <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>, <a class="el" href="sonar__i2c_8h_source.html#l00042">SonarI2C::raw</a>, <a class="el" href="sonar__i2c_8c_source.html#l00101">sonar_i2c</a>, and <a class="el" href="sonar__i2c_8h_source.html#l00039">SonarI2C::trans</a>.</p>

<p class="reference">Referenced by <a class="el" href="sonar__i2c_8c_source.html#l00114">sonar_i2c_init()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="sonar__i2c_8c_ac84b05ca749736a91563498b74776be8_icgraph.png" border="0" usemap="#asonar__i2c_8c_ac84b05ca749736a91563498b74776be8_icgraph" alt=""/></div>
<map name="asonar__i2c_8c_ac84b05ca749736a91563498b74776be8_icgraph" id="asonar__i2c_8c_ac84b05ca749736a91563498b74776be8_icgraph">
<area shape="rect" title="Send measured value and status information so it can be read back in e.g." alt="" coords="165,5,331,31"/>
<area shape="rect" href="sonar__i2c_8c.html#acef6a387911dc98620af6de15905f5b8" title="Set the default values at initialization." alt="" coords="5,5,117,31"/>
<area shape="poly" title=" " alt="" coords="151,21,118,21,118,15,151,15"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad68bd29e15fa3c9c0d214c0ef1390bfa" name="ad68bd29e15fa3c9c0d214c0ef1390bfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad68bd29e15fa3c9c0d214c0ef1390bfa">&#9670;&#160;</a></span>sonar_i2c</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="sonar__i2c_8h.html#structSonarI2C">SonarI2C</a> sonar_i2c</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sonar__i2c_8c_source.html#l00101">101</a> of file <a class="el" href="sonar__i2c_8c_source.html">sonar_i2c.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="sonar__i2c_8c_source.html#l00142">sonar_i2c_event()</a>, <a class="el" href="sonar__i2c_8c_source.html#l00114">sonar_i2c_init()</a>, <a class="el" href="sonar__i2c_8c_source.html#l00169">sonar_i2c_periodic()</a>, <a class="el" href="sonar__i2c_8c_source.html#l00246">sonar_i2c_report()</a>, and <a class="el" href="sonar__i2c_8c_source.html#l00106">sonar_i2c_send_sonar()</a>.</p>

</div>
</div>
<a id="adc1d37158bde7565de70d7792aeb598b" name="adc1d37158bde7565de70d7792aeb598b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc1d37158bde7565de70d7792aeb598b">&#9670;&#160;</a></span>sonar_i2c_filter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="median__filter_8h.html#structMedianFilterFloat">MedianFilterFloat</a> sonar_i2c_filter</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sonar__i2c_8c_source.html#l00089">89</a> of file <a class="el" href="sonar__i2c_8c_source.html">sonar_i2c.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="sonar__i2c_8c_source.html#l00114">sonar_i2c_init()</a>, and <a class="el" href="sonar__i2c_8c_source.html#l00169">sonar_i2c_periodic()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_01fcd3835fb4e7d9331b722d86291b65.html">sw</a></li><li class="navelem"><a class="el" href="dir_5e9153041680afc3c016fd52fa730b56.html">airborne</a></li><li class="navelem"><a class="el" href="dir_c2abcdd6ccb39c3582929c0e3f5651c2.html">modules</a></li><li class="navelem"><a class="el" href="dir_f794e7c055cca00c0de6f5564d477f09.html">sonar</a></li><li class="navelem"><a class="el" href="sonar__i2c_8c.html">sonar_i2c.c</a></li>
    <li class="footer">Generated on Mon Oct 6 2025 14:47:11 for Paparazzi UAS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>

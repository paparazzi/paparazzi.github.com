<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Paparazzi UAS: sw/airborne/modules/computer_vision/lib/vision/undistortion.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="penguin_icon.png"/></td>
  <td id="projectalign">
   <div id="projectname">Paparazzi UAS<span id="projectnumber">&#160;v7.0_unstable</span>
   </div>
   <div id="projectbrief">Paparazzi is a free software Unmanned Aircraft System.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('undistortion_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">undistortion.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Functions for undistorting camera images.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;std.h&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for undistortion.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="undistortion_8h__incl.png" border="0" usemap="#asw_2airborne_2modules_2computer__vision_2lib_2vision_2undistortion_8h" alt=""/></div>
<map name="asw_2airborne_2modules_2computer__vision_2lib_2vision_2undistortion_8h" id="asw_2airborne_2modules_2computer__vision_2lib_2vision_2undistortion_8h">
<area shape="rect" title="Functions for undistorting camera images." alt="" coords="5,5,164,60"/>
<area shape="rect" title=" " alt="" coords="57,108,112,133"/>
<area shape="poly" title=" " alt="" coords="87,60,87,94,82,94,82,60"/>
</map>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="undistortion_8h__dep__incl.png" border="0" usemap="#asw_2airborne_2modules_2computer__vision_2lib_2vision_2undistortion_8hdep" alt=""/></div>
<map name="asw_2airborne_2modules_2computer__vision_2lib_2vision_2undistortion_8hdep" id="asw_2airborne_2modules_2computer__vision_2lib_2vision_2undistortion_8hdep">
<area shape="rect" title="Functions for undistorting camera images." alt="" coords="395,5,554,60"/>
<area shape="rect" href="PnP__AHRS_8h.html" title="Functions for solving a perspective&#45;n&#45;point problem, using the AHRS to get the relevant angles." alt="" coords="111,108,270,163"/>
<area shape="poly" title=" " alt="" coords="389,67,266,110,264,105,387,62"/>
<area shape="rect" href="undistortion_8c.html" title="Functions for undistorting camera images." alt="" coords="294,108,453,163"/>
<area shape="poly" title=" " alt="" coords="440,72,402,110,398,106,436,68"/>
<area shape="rect" href="opticflow__calculator_8c.html" title="Estimate velocity from optic flow." alt="" coords="477,108,675,163"/>
<area shape="poly" title=" " alt="" coords="513,68,551,106,548,110,509,72"/>
<area shape="rect" href="undistort__image_8c.html" title=" " alt="" coords="699,108,895,163"/>
<area shape="poly" title=" " alt="" coords="568,60,714,105,712,110,566,65"/>
<area shape="rect" href="detect__gate_8c.html" title=" " alt="" coords="5,211,184,265"/>
<area shape="poly" title=" " alt="" coords="158,174,122,212,118,209,154,171"/>
<area shape="rect" href="PnP__AHRS_8c.html" title="Functions for solving a perspective&#45;n&#45;point problem, using the AHRS to get the relevant angles." alt="" coords="209,211,367,265"/>
<area shape="poly" title=" " alt="" coords="228,171,265,209,261,212,224,175"/>
</map>
</div>
</div>
<p><a href="undistortion_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8e2c52fb82e4e3ee37c424ce13d03c29" id="r_a8e2c52fb82e4e3ee37c424ce13d03c29"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="undistortion_8h.html#a8e2c52fb82e4e3ee37c424ce13d03c29">Dhane_distortion</a> (<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">x_n</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">y_n</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">x_nd</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">y_nd</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> k)</td></tr>
<tr class="memdesc:a8e2c52fb82e4e3ee37c424ce13d03c29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distort normalized image coordinates with the invertible Dhane method.  <br /></td></tr>
<tr class="separator:a8e2c52fb82e4e3ee37c424ce13d03c29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81ad256378b5df58e5c0e61f3bddcbe2" id="r_a81ad256378b5df58e5c0e61f3bddcbe2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="undistortion_8h.html#a81ad256378b5df58e5c0e61f3bddcbe2">Dhane_undistortion</a> (<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">x_nd</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">y_nd</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">x_n</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">y_n</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> k)</td></tr>
<tr class="memdesc:a81ad256378b5df58e5c0e61f3bddcbe2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Undistort distorted normalized image coordinates with the invertible Dhane method.  <br /></td></tr>
<tr class="separator:a81ad256378b5df58e5c0e61f3bddcbe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44a90a0656990482d07b3d8ac7928ea6" id="r_a44a90a0656990482d07b3d8ac7928ea6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="undistortion_8h.html#a44a90a0656990482d07b3d8ac7928ea6">normalized_to_pixels</a> (<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">x_n_</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">y_n_</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">x_p</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">y_p</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">const</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *<a class="el" href="undistort__image_8c.html#a29a532ec52354ee7571487245359a066">K</a>)</td></tr>
<tr class="memdesc:a44a90a0656990482d07b3d8ac7928ea6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform normalized coordinates to pixel coordinates.  <br /></td></tr>
<tr class="separator:a44a90a0656990482d07b3d8ac7928ea6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd20e3c24af3ed0e37744adcbcd6fbc2" id="r_abd20e3c24af3ed0e37744adcbcd6fbc2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="undistortion_8h.html#abd20e3c24af3ed0e37744adcbcd6fbc2">pixels_to_normalized</a> (<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">x_p</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">y_p</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">x_n_</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">y_n_</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">const</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *<a class="el" href="undistort__image_8c.html#a29a532ec52354ee7571487245359a066">K</a>)</td></tr>
<tr class="memdesc:abd20e3c24af3ed0e37744adcbcd6fbc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform pixel coordinates to normalized coordinates.  <br /></td></tr>
<tr class="separator:abd20e3c24af3ed0e37744adcbcd6fbc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c56172dffbf789b4b5c164c08395740" id="r_a2c56172dffbf789b4b5c164c08395740"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="undistortion_8h.html#a2c56172dffbf789b4b5c164c08395740">distorted_pixels_to_normalized_coords</a> (<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">x_pd</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">y_pd</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">x_n</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">y_n</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> k, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">const</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *<a class="el" href="undistort__image_8c.html#a29a532ec52354ee7571487245359a066">K</a>)</td></tr>
<tr class="memdesc:a2c56172dffbf789b4b5c164c08395740"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform distorted pixel coordinates to normalized coordinates.  <br /></td></tr>
<tr class="separator:a2c56172dffbf789b4b5c164c08395740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8de5dc518fd2c56789b57c9561b190e8" id="r_a8de5dc518fd2c56789b57c9561b190e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="undistortion_8h.html#a8de5dc518fd2c56789b57c9561b190e8">normalized_coords_to_distorted_pixels</a> (<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">x_n</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">y_n</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">x_pd</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">y_pd</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> k, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">const</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *<a class="el" href="undistort__image_8c.html#a29a532ec52354ee7571487245359a066">K</a>)</td></tr>
<tr class="memdesc:a8de5dc518fd2c56789b57c9561b190e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform normalized coordinates to distorted pixel coordinates.  <br /></td></tr>
<tr class="separator:a8de5dc518fd2c56789b57c9561b190e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions for undistorting camera images. </p>
<p>The lenses of most cameras distort the image, in the sense that it does not represent a linear projection of points in the world. Specifically, straight lines in the world get curved in the image, as the lens compresses the data more and more towards the edges of the image.</p>
<p>Reading:</p><ol type="1">
<li><a href="https://docs.opencv.org/2.4/doc/tutorials/calib3d/camera_calibration/camera_calibration.html">https://docs.opencv.org/2.4/doc/tutorials/calib3d/camera_calibration/camera_calibration.html</a> (for normal cameras)</li>
<li><a href="https://docs.opencv.org/trunk/db/d58/group__calib3d__fisheye.html">https://docs.opencv.org/trunk/db/d58/group__calib3d__fisheye.html</a> (for fisheye cameras)</li>
<li>Dhane, P., Kutty, K., &amp; Bangadkar, S. (2012). A generic non-linear method for fisheye correction. International Journal of Computer Applications, 51(10). (invertible fisheye model)</li>
</ol>
<p>Some definitions:</p><ul>
<li>x_n, y_n: Normalized coordinates, i.e., with no distortion, with (0,0) the center of the image, and x_n = X / Z</li>
<li>x_nd, y_nd: Distorted normalized coordinates, i.e., with (0,0) the center of the image, but x_nd and y_nd are a nonlinear function of X/Z</li>
<li>x_n_, y_n_: Normalized coordinates, whether distorted or undistorted.</li>
<li>x_p, y_p: Pixel coordinates, with (0,0) the start of the image, and x_pd, y_pd in the range [0,width] and [0,height], respectively.</li>
<li>k: distortion parameters</li>
<li>K: camera calibration matrix, as a single array in row-major form, so K00, K01, K02, K10, K11, ... </li>
</ul>

<p class="definition">Definition in file <a class="el" href="undistortion_8h_source.html">undistortion.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a8e2c52fb82e4e3ee37c424ce13d03c29" name="a8e2c52fb82e4e3ee37c424ce13d03c29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e2c52fb82e4e3ee37c424ce13d03c29">&#9670;&#160;</a></span>Dhane_distortion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">bool</a> Dhane_distortion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a>&#160;</td>
          <td class="paramname"><em>x_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a>&#160;</td>
          <td class="paramname"><em>y_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *&#160;</td>
          <td class="paramname"><em>x_nd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *&#160;</td>
          <td class="paramname"><em>y_nd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a>&#160;</td>
          <td class="paramname"><em>k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Distort normalized image coordinates with the invertible Dhane method. </p>
<p>This can be useful for undistorting an entire image. We assume f, the focal length, to be 1 here. That is why it is missing from the below formula. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x_n</td><td>The undistorted normalized x coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y_n</td><td>The undistorted normalized y coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">k</td><td>The single parameter of Dhane's model, typically found empirically by checking if straight lines in the world are straight in an undistorted image. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*x_nd</td><td>The distorted normalized x coordinate </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*y_nd</td><td>The distorted normalized y coordinate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the distortion was successful </dd></dl>

<p class="definition">Definition at line <a class="el" href="undistortion_8c_source.html#l00057">57</a> of file <a class="el" href="undistortion_8c_source.html">undistortion.c</a>.</p>

<p class="reference">References <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>.</p>

<p class="reference">Referenced by <a class="el" href="undistortion_8c_source.html#l00146">normalized_coords_to_distorted_pixels()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="undistortion_8h_a8e2c52fb82e4e3ee37c424ce13d03c29_icgraph.png" border="0" usemap="#aundistortion_8h_a8e2c52fb82e4e3ee37c424ce13d03c29_icgraph" alt=""/></div>
<map name="aundistortion_8h_a8e2c52fb82e4e3ee37c424ce13d03c29_icgraph" id="aundistortion_8h_a8e2c52fb82e4e3ee37c424ce13d03c29_icgraph">
<area shape="rect" title="Distort normalized image coordinates with the invertible Dhane method." alt="" coords="1300,31,1433,56"/>
<area shape="rect" href="undistortion_8c.html#a8de5dc518fd2c56789b57c9561b190e8" title="Transform normalized coordinates to distorted pixel coordinates." alt="" coords="1087,23,1252,63"/>
<area shape="poly" title=" " alt="" coords="1286,46,1252,46,1252,41,1286,41"/>
<area shape="rect" href="opticflow__calculator_8c.html#a3332fc643e3c25e5ac27404e75b14299" title=" " alt="" coords="879,5,1035,31"/>
<area shape="poly" title=" " alt="" coords="1073,34,1035,30,1036,25,1073,29"/>
<area shape="rect" href="undistort__image_8c.html#a50247426160650698734913d712d4514" title=" " alt="" coords="876,55,1039,80"/>
<area shape="poly" title=" " alt="" coords="1073,57,1039,61,1039,55,1073,52"/>
<area shape="rect" href="opticflow__calculator_8c.html#a3edff14cc7f95b5202ba6841a12dfed3" title="Run the optical flow with fast9 and lukaskanade on a new image frame." alt="" coords="645,5,828,31"/>
<area shape="poly" title=" " alt="" coords="865,21,828,21,828,15,865,15"/>
<area shape="rect" href="opticflow__calculator_8c.html#a89e51af8fe5a0f534193635d181a2086" title="Run the optical flow on a new image frame." alt="" coords="437,5,597,31"/>
<area shape="poly" title=" " alt="" coords="632,21,597,21,597,15,632,15"/>
<area shape="rect" href="opticflow__module_8c.html#adb417544fc559b45532524416ce59953" title="The main optical flow calculation thread." alt="" coords="219,5,389,31"/>
<area shape="poly" title=" " alt="" coords="423,21,389,21,389,15,423,15"/>
<area shape="rect" href="opticflow__module_8c.html#a6026660ee86fbb1f72bada581386e6d9" title="Initialize the optical flow module for the bottom camera." alt="" coords="5,5,171,31"/>
<area shape="poly" title=" " alt="" coords="205,21,171,21,171,15,205,15"/>
<area shape="rect" href="undistort__image_8c.html#a2fe19ff135bf0c4edca40d4f630b973f" title=" " alt="" coords="659,55,815,80"/>
<area shape="poly" title=" " alt="" coords="862,70,815,70,815,65,862,65"/>
</map>
</div>

</div>
</div>
<a id="a81ad256378b5df58e5c0e61f3bddcbe2" name="a81ad256378b5df58e5c0e61f3bddcbe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81ad256378b5df58e5c0e61f3bddcbe2">&#9670;&#160;</a></span>Dhane_undistortion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">bool</a> Dhane_undistortion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a>&#160;</td>
          <td class="paramname"><em>x_nd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a>&#160;</td>
          <td class="paramname"><em>y_nd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *&#160;</td>
          <td class="paramname"><em>x_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *&#160;</td>
          <td class="paramname"><em>y_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a>&#160;</td>
          <td class="paramname"><em>k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Undistort distorted normalized image coordinates with the invertible Dhane method. </p>
<p>We assume f, the focal length, to be 1 here. That is why it is missing from the below formula. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">*x_n</td><td>The undistorted normalized x coordinate </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*y_n</td><td>The undistorted normalized y coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">k</td><td>The single parameter of Dhane's model, typically found empirically by checking if straight lines in the world are straight in an undistorted image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x_nd</td><td>The distorted normalized x coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y_nd</td><td>The distorted normalized y coordinate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the distortion was successful </dd></dl>

<p class="definition">Definition at line <a class="el" href="undistortion_8c_source.html#l00076">76</a> of file <a class="el" href="undistortion_8c_source.html">undistortion.c</a>.</p>

<p class="reference">References <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>.</p>

<p class="reference">Referenced by <a class="el" href="undistortion_8c_source.html#l00128">distorted_pixels_to_normalized_coords()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="undistortion_8h_a81ad256378b5df58e5c0e61f3bddcbe2_icgraph.png" border="0" usemap="#aundistortion_8h_a81ad256378b5df58e5c0e61f3bddcbe2_icgraph" alt=""/></div>
<map name="aundistortion_8h_a81ad256378b5df58e5c0e61f3bddcbe2_icgraph" id="aundistortion_8h_a81ad256378b5df58e5c0e61f3bddcbe2_icgraph">
<area shape="rect" title="Undistort distorted normalized image coordinates with the invertible Dhane method." alt="" coords="1280,42,1429,67"/>
<area shape="rect" href="undistortion_8c.html#a2c56172dffbf789b4b5c164c08395740" title="Transform distorted pixel coordinates to normalized coordinates." alt="" coords="1080,35,1232,75"/>
<area shape="poly" title=" " alt="" coords="1266,57,1233,57,1233,52,1266,52"/>
<area shape="rect" href="PnP__AHRS_8c.html#a30f92e7ee757f2657644e0df845ff43a" title="Get the world position of the camera, given image coordinates and corresponding world coordinates." alt="" coords="877,5,1031,45"/>
<area shape="poly" title=" " alt="" coords="1066,44,1031,39,1032,34,1067,39"/>
<area shape="rect" href="opticflow__calculator_8c.html#a3332fc643e3c25e5ac27404e75b14299" title=" " alt="" coords="876,70,1032,95"/>
<area shape="poly" title=" " alt="" coords="1067,70,1033,74,1032,69,1066,64"/>
<area shape="rect" href="detect__gate_8c.html#ae9611ccbfac4ffcf24fa13766ed1b870" title=" " alt="" coords="669,13,804,38"/>
<area shape="poly" title=" " alt="" coords="863,28,804,28,804,23,863,23"/>
<area shape="rect" href="detect__gate_8c.html#afad85937ed43b1d2963bec59f0031ec1" title=" " alt="" coords="454,13,581,38"/>
<area shape="poly" title=" " alt="" coords="656,28,581,28,581,23,656,23"/>
<area shape="rect" href="opticflow__calculator_8c.html#a3edff14cc7f95b5202ba6841a12dfed3" title="Run the optical flow with fast9 and lukaskanade on a new image frame." alt="" coords="645,70,828,95"/>
<area shape="poly" title=" " alt="" coords="862,85,828,85,828,80,862,80"/>
<area shape="rect" href="opticflow__calculator_8c.html#a89e51af8fe5a0f534193635d181a2086" title="Run the optical flow on a new image frame." alt="" coords="437,70,597,95"/>
<area shape="poly" title=" " alt="" coords="632,85,597,85,597,80,632,80"/>
<area shape="rect" href="opticflow__module_8c.html#adb417544fc559b45532524416ce59953" title="The main optical flow calculation thread." alt="" coords="219,70,389,95"/>
<area shape="poly" title=" " alt="" coords="423,85,389,85,389,80,423,80"/>
<area shape="rect" href="opticflow__module_8c.html#a6026660ee86fbb1f72bada581386e6d9" title="Initialize the optical flow module for the bottom camera." alt="" coords="5,70,171,95"/>
<area shape="poly" title=" " alt="" coords="205,85,171,85,171,80,205,80"/>
</map>
</div>

</div>
</div>
<a id="a2c56172dffbf789b4b5c164c08395740" name="a2c56172dffbf789b4b5c164c08395740"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c56172dffbf789b4b5c164c08395740">&#9670;&#160;</a></span>distorted_pixels_to_normalized_coords()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">bool</a> distorted_pixels_to_normalized_coords </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a>&#160;</td>
          <td class="paramname"><em>x_pd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a>&#160;</td>
          <td class="paramname"><em>y_pd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *&#160;</td>
          <td class="paramname"><em>x_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *&#160;</td>
          <td class="paramname"><em>y_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a>&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">const</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *&#160;</td>
          <td class="paramname"><em>K</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transform distorted pixel coordinates to normalized coordinates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">*x_n</td><td>The undistorted normalized x coordinate </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*y_n</td><td>The undistorted normalized y coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">k</td><td>The single parameter of Dhane's model, typically found empirically by checking if straight lines in the world are straight in an undistorted image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*K</td><td>The camera calibration matrix, as a single array in row-major form, so K00, K01, K02, K10, K11, ... </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x_pd</td><td>The distorted pixel x coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y_pd</td><td>The distorted pixel y coordinate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the transformation was successful </dd></dl>

<p class="definition">Definition at line <a class="el" href="undistortion_8c_source.html#l00128">128</a> of file <a class="el" href="undistortion_8c_source.html">undistortion.c</a>.</p>

<p class="reference">References <a class="el" href="undistortion_8c_source.html#l00076">Dhane_undistortion()</a>, <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>, <a class="el" href="undistort__image_8c_source.html#l00041">K</a>, and <a class="el" href="undistortion_8c_source.html#l00113">pixels_to_normalized()</a>.</p>

<p class="reference">Referenced by <a class="el" href="PnP__AHRS_8c_source.html#l00054">get_world_position_from_image_points()</a>, and <a class="el" href="opticflow__calculator_8c_source.html#l00832">predict_flow_vectors()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="undistortion_8h_a2c56172dffbf789b4b5c164c08395740_cgraph.png" border="0" usemap="#aundistortion_8h_a2c56172dffbf789b4b5c164c08395740_cgraph" alt=""/></div>
<map name="aundistortion_8h_a2c56172dffbf789b4b5c164c08395740_cgraph" id="aundistortion_8h_a2c56172dffbf789b4b5c164c08395740_cgraph">
<area shape="rect" title="Transform distorted pixel coordinates to normalized coordinates." alt="" coords="5,23,157,63"/>
<area shape="rect" href="undistortion_8c.html#a81ad256378b5df58e5c0e61f3bddcbe2" title="Undistort distorted normalized image coordinates with the invertible Dhane method." alt="" coords="211,5,360,31"/>
<area shape="poly" title=" " alt="" coords="157,31,197,26,197,32,158,37"/>
<area shape="rect" href="undistortion_8c.html#abd20e3c24af3ed0e37744adcbcd6fbc2" title="Transform pixel coordinates to normalized coordinates." alt="" coords="205,55,365,80"/>
<area shape="poly" title=" " alt="" coords="158,50,192,54,192,59,157,55"/>
</map>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="undistortion_8h_a2c56172dffbf789b4b5c164c08395740_icgraph.png" border="0" usemap="#aundistortion_8h_a2c56172dffbf789b4b5c164c08395740_icgraph" alt=""/></div>
<map name="aundistortion_8h_a2c56172dffbf789b4b5c164c08395740_icgraph" id="aundistortion_8h_a2c56172dffbf789b4b5c164c08395740_icgraph">
<area shape="rect" title="Transform distorted pixel coordinates to normalized coordinates." alt="" coords="1080,35,1232,75"/>
<area shape="rect" href="PnP__AHRS_8c.html#a30f92e7ee757f2657644e0df845ff43a" title="Get the world position of the camera, given image coordinates and corresponding world coordinates." alt="" coords="877,5,1031,45"/>
<area shape="poly" title=" " alt="" coords="1066,44,1031,39,1032,34,1067,39"/>
<area shape="rect" href="opticflow__calculator_8c.html#a3332fc643e3c25e5ac27404e75b14299" title=" " alt="" coords="876,70,1032,95"/>
<area shape="poly" title=" " alt="" coords="1067,70,1033,74,1032,69,1066,64"/>
<area shape="rect" href="detect__gate_8c.html#ae9611ccbfac4ffcf24fa13766ed1b870" title=" " alt="" coords="669,13,804,38"/>
<area shape="poly" title=" " alt="" coords="863,28,804,28,804,23,863,23"/>
<area shape="rect" href="detect__gate_8c.html#afad85937ed43b1d2963bec59f0031ec1" title=" " alt="" coords="454,13,581,38"/>
<area shape="poly" title=" " alt="" coords="656,28,581,28,581,23,656,23"/>
<area shape="rect" href="opticflow__calculator_8c.html#a3edff14cc7f95b5202ba6841a12dfed3" title="Run the optical flow with fast9 and lukaskanade on a new image frame." alt="" coords="645,70,828,95"/>
<area shape="poly" title=" " alt="" coords="862,85,828,85,828,80,862,80"/>
<area shape="rect" href="opticflow__calculator_8c.html#a89e51af8fe5a0f534193635d181a2086" title="Run the optical flow on a new image frame." alt="" coords="437,70,597,95"/>
<area shape="poly" title=" " alt="" coords="632,85,597,85,597,80,632,80"/>
<area shape="rect" href="opticflow__module_8c.html#adb417544fc559b45532524416ce59953" title="The main optical flow calculation thread." alt="" coords="219,70,389,95"/>
<area shape="poly" title=" " alt="" coords="423,85,389,85,389,80,423,80"/>
<area shape="rect" href="opticflow__module_8c.html#a6026660ee86fbb1f72bada581386e6d9" title="Initialize the optical flow module for the bottom camera." alt="" coords="5,70,171,95"/>
<area shape="poly" title=" " alt="" coords="205,85,171,85,171,80,205,80"/>
</map>
</div>

</div>
</div>
<a id="a8de5dc518fd2c56789b57c9561b190e8" name="a8de5dc518fd2c56789b57c9561b190e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8de5dc518fd2c56789b57c9561b190e8">&#9670;&#160;</a></span>normalized_coords_to_distorted_pixels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">bool</a> normalized_coords_to_distorted_pixels </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a>&#160;</td>
          <td class="paramname"><em>x_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a>&#160;</td>
          <td class="paramname"><em>y_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *&#160;</td>
          <td class="paramname"><em>x_pd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *&#160;</td>
          <td class="paramname"><em>y_pd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a>&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">const</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *&#160;</td>
          <td class="paramname"><em>K</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transform normalized coordinates to distorted pixel coordinates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x_n</td><td>The undistorted normalized x coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y_n</td><td>The undistorted normalized y coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">k</td><td>The single parameter of Dhane's model, typically found empirically by checking if straight lines in the world are straight in an undistorted image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*K</td><td>The camera calibration matrix, as a single array in row-major form, so K00, K01, K02, K10, K11, ... </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*x_pd</td><td>The distorted pixel x coordinate </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*y_pd</td><td>The distorted pixel y coordinate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the transformation was successful </dd></dl>

<p class="definition">Definition at line <a class="el" href="undistortion_8c_source.html#l00146">146</a> of file <a class="el" href="undistortion_8c_source.html">undistortion.c</a>.</p>

<p class="reference">References <a class="el" href="undistortion_8c_source.html#l00057">Dhane_distortion()</a>, <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>, <a class="el" href="undistort__image_8c_source.html#l00041">K</a>, and <a class="el" href="undistortion_8c_source.html#l00100">normalized_to_pixels()</a>.</p>

<p class="reference">Referenced by <a class="el" href="opticflow__calculator_8c_source.html#l00832">predict_flow_vectors()</a>, and <a class="el" href="undistort__image_8c_source.html#l00046">undistort_image_func()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="undistortion_8h_a8de5dc518fd2c56789b57c9561b190e8_cgraph.png" border="0" usemap="#aundistortion_8h_a8de5dc518fd2c56789b57c9561b190e8_cgraph" alt=""/></div>
<map name="aundistortion_8h_a8de5dc518fd2c56789b57c9561b190e8_cgraph" id="aundistortion_8h_a8de5dc518fd2c56789b57c9561b190e8_cgraph">
<area shape="rect" title="Transform normalized coordinates to distorted pixel coordinates." alt="" coords="5,23,171,63"/>
<area shape="rect" href="undistortion_8c.html#a8e2c52fb82e4e3ee37c424ce13d03c29" title="Distort normalized image coordinates with the invertible Dhane method." alt="" coords="232,5,365,31"/>
<area shape="poly" title=" " alt="" coords="171,31,218,25,218,30,171,36"/>
<area shape="rect" href="undistortion_8c.html#a44a90a0656990482d07b3d8ac7928ea6" title="Transform normalized coordinates to pixel coordinates." alt="" coords="219,55,379,80"/>
<area shape="poly" title=" " alt="" coords="171,50,205,54,204,59,171,55"/>
</map>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="undistortion_8h_a8de5dc518fd2c56789b57c9561b190e8_icgraph.png" border="0" usemap="#aundistortion_8h_a8de5dc518fd2c56789b57c9561b190e8_icgraph" alt=""/></div>
<map name="aundistortion_8h_a8de5dc518fd2c56789b57c9561b190e8_icgraph" id="aundistortion_8h_a8de5dc518fd2c56789b57c9561b190e8_icgraph">
<area shape="rect" title="Transform normalized coordinates to distorted pixel coordinates." alt="" coords="1087,23,1252,63"/>
<area shape="rect" href="opticflow__calculator_8c.html#a3332fc643e3c25e5ac27404e75b14299" title=" " alt="" coords="879,5,1035,31"/>
<area shape="poly" title=" " alt="" coords="1073,34,1035,30,1036,25,1073,29"/>
<area shape="rect" href="undistort__image_8c.html#a50247426160650698734913d712d4514" title=" " alt="" coords="876,55,1039,80"/>
<area shape="poly" title=" " alt="" coords="1073,57,1039,61,1039,55,1073,52"/>
<area shape="rect" href="opticflow__calculator_8c.html#a3edff14cc7f95b5202ba6841a12dfed3" title="Run the optical flow with fast9 and lukaskanade on a new image frame." alt="" coords="645,5,828,31"/>
<area shape="poly" title=" " alt="" coords="865,21,828,21,828,15,865,15"/>
<area shape="rect" href="opticflow__calculator_8c.html#a89e51af8fe5a0f534193635d181a2086" title="Run the optical flow on a new image frame." alt="" coords="437,5,597,31"/>
<area shape="poly" title=" " alt="" coords="632,21,597,21,597,15,632,15"/>
<area shape="rect" href="opticflow__module_8c.html#adb417544fc559b45532524416ce59953" title="The main optical flow calculation thread." alt="" coords="219,5,389,31"/>
<area shape="poly" title=" " alt="" coords="423,21,389,21,389,15,423,15"/>
<area shape="rect" href="opticflow__module_8c.html#a6026660ee86fbb1f72bada581386e6d9" title="Initialize the optical flow module for the bottom camera." alt="" coords="5,5,171,31"/>
<area shape="poly" title=" " alt="" coords="205,21,171,21,171,15,205,15"/>
<area shape="rect" href="undistort__image_8c.html#a2fe19ff135bf0c4edca40d4f630b973f" title=" " alt="" coords="659,55,815,80"/>
<area shape="poly" title=" " alt="" coords="862,70,815,70,815,65,862,65"/>
</map>
</div>

</div>
</div>
<a id="a44a90a0656990482d07b3d8ac7928ea6" name="a44a90a0656990482d07b3d8ac7928ea6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44a90a0656990482d07b3d8ac7928ea6">&#9670;&#160;</a></span>normalized_to_pixels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> normalized_to_pixels </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a>&#160;</td>
          <td class="paramname"><em>x_n_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a>&#160;</td>
          <td class="paramname"><em>y_n_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *&#160;</td>
          <td class="paramname"><em>x_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *&#160;</td>
          <td class="paramname"><em>y_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">const</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *&#160;</td>
          <td class="paramname"><em>K</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transform normalized coordinates to pixel coordinates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x_n</td><td>The undistorted normalized x coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y_n</td><td>The undistorted normalized y coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*K</td><td>The camera calibration matrix, as a single array in row-major form, so K00, K01, K02, K10, K11, ... </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*x_p</td><td>The pixel x coordinate </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*y_p</td><td>The pixel y coordinate </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="undistortion_8c_source.html#l00100">100</a> of file <a class="el" href="undistortion_8c_source.html">undistortion.c</a>.</p>

<p class="reference">References <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>, and <a class="el" href="undistort__image_8c_source.html#l00041">K</a>.</p>

<p class="reference">Referenced by <a class="el" href="undistortion_8c_source.html#l00146">normalized_coords_to_distorted_pixels()</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="undistortion_8h_a44a90a0656990482d07b3d8ac7928ea6_icgraph.png" border="0" usemap="#aundistortion_8h_a44a90a0656990482d07b3d8ac7928ea6_icgraph" alt=""/></div>
<map name="aundistortion_8h_a44a90a0656990482d07b3d8ac7928ea6_icgraph" id="aundistortion_8h_a44a90a0656990482d07b3d8ac7928ea6_icgraph">
<area shape="rect" title="Transform normalized coordinates to pixel coordinates." alt="" coords="1300,31,1460,56"/>
<area shape="rect" href="undistortion_8c.html#a8de5dc518fd2c56789b57c9561b190e8" title="Transform normalized coordinates to distorted pixel coordinates." alt="" coords="1087,23,1252,63"/>
<area shape="poly" title=" " alt="" coords="1286,46,1252,46,1252,41,1286,41"/>
<area shape="rect" href="opticflow__calculator_8c.html#a3332fc643e3c25e5ac27404e75b14299" title=" " alt="" coords="879,5,1035,31"/>
<area shape="poly" title=" " alt="" coords="1073,34,1035,30,1036,25,1073,29"/>
<area shape="rect" href="undistort__image_8c.html#a50247426160650698734913d712d4514" title=" " alt="" coords="876,55,1039,80"/>
<area shape="poly" title=" " alt="" coords="1073,57,1039,61,1039,55,1073,52"/>
<area shape="rect" href="opticflow__calculator_8c.html#a3edff14cc7f95b5202ba6841a12dfed3" title="Run the optical flow with fast9 and lukaskanade on a new image frame." alt="" coords="645,5,828,31"/>
<area shape="poly" title=" " alt="" coords="865,21,828,21,828,15,865,15"/>
<area shape="rect" href="opticflow__calculator_8c.html#a89e51af8fe5a0f534193635d181a2086" title="Run the optical flow on a new image frame." alt="" coords="437,5,597,31"/>
<area shape="poly" title=" " alt="" coords="632,21,597,21,597,15,632,15"/>
<area shape="rect" href="opticflow__module_8c.html#adb417544fc559b45532524416ce59953" title="The main optical flow calculation thread." alt="" coords="219,5,389,31"/>
<area shape="poly" title=" " alt="" coords="423,21,389,21,389,15,423,15"/>
<area shape="rect" href="opticflow__module_8c.html#a6026660ee86fbb1f72bada581386e6d9" title="Initialize the optical flow module for the bottom camera." alt="" coords="5,5,171,31"/>
<area shape="poly" title=" " alt="" coords="205,21,171,21,171,15,205,15"/>
<area shape="rect" href="undistort__image_8c.html#a2fe19ff135bf0c4edca40d4f630b973f" title=" " alt="" coords="659,55,815,80"/>
<area shape="poly" title=" " alt="" coords="862,70,815,70,815,65,862,65"/>
</map>
</div>

</div>
</div>
<a id="abd20e3c24af3ed0e37744adcbcd6fbc2" name="abd20e3c24af3ed0e37744adcbcd6fbc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd20e3c24af3ed0e37744adcbcd6fbc2">&#9670;&#160;</a></span>pixels_to_normalized()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> pixels_to_normalized </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a>&#160;</td>
          <td class="paramname"><em>x_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a>&#160;</td>
          <td class="paramname"><em>y_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *&#160;</td>
          <td class="paramname"><em>x_n_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *&#160;</td>
          <td class="paramname"><em>y_n_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">const</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> *&#160;</td>
          <td class="paramname"><em>K</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transform pixel coordinates to normalized coordinates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">*x_n</td><td>The undistorted normalized x coordinate </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*y_n</td><td>The undistorted normalized y coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*K</td><td>The camera calibration matrix, as a single array in row-major form, so K00, K01, K02, K10, K11, ... </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x_p</td><td>The pixel x coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y_p</td><td>The pixel y coordinate </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="undistortion_8c_source.html#l00113">113</a> of file <a class="el" href="undistortion_8c_source.html">undistortion.c</a>.</p>

<p class="reference">References <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>, and <a class="el" href="undistort__image_8c_source.html#l00041">K</a>.</p>

<p class="reference">Referenced by <a class="el" href="undistortion_8c_source.html#l00128">distorted_pixels_to_normalized_coords()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="undistortion_8h_abd20e3c24af3ed0e37744adcbcd6fbc2_icgraph.png" border="0" usemap="#aundistortion_8h_abd20e3c24af3ed0e37744adcbcd6fbc2_icgraph" alt=""/></div>
<map name="aundistortion_8h_abd20e3c24af3ed0e37744adcbcd6fbc2_icgraph" id="aundistortion_8h_abd20e3c24af3ed0e37744adcbcd6fbc2_icgraph">
<area shape="rect" title="Transform pixel coordinates to normalized coordinates." alt="" coords="1280,42,1440,67"/>
<area shape="rect" href="undistortion_8c.html#a2c56172dffbf789b4b5c164c08395740" title="Transform distorted pixel coordinates to normalized coordinates." alt="" coords="1080,35,1232,75"/>
<area shape="poly" title=" " alt="" coords="1266,57,1232,57,1232,52,1266,52"/>
<area shape="rect" href="PnP__AHRS_8c.html#a30f92e7ee757f2657644e0df845ff43a" title="Get the world position of the camera, given image coordinates and corresponding world coordinates." alt="" coords="877,5,1031,45"/>
<area shape="poly" title=" " alt="" coords="1066,44,1031,39,1032,34,1067,39"/>
<area shape="rect" href="opticflow__calculator_8c.html#a3332fc643e3c25e5ac27404e75b14299" title=" " alt="" coords="876,70,1032,95"/>
<area shape="poly" title=" " alt="" coords="1067,70,1033,74,1032,69,1066,64"/>
<area shape="rect" href="detect__gate_8c.html#ae9611ccbfac4ffcf24fa13766ed1b870" title=" " alt="" coords="669,13,804,38"/>
<area shape="poly" title=" " alt="" coords="863,28,804,28,804,23,863,23"/>
<area shape="rect" href="detect__gate_8c.html#afad85937ed43b1d2963bec59f0031ec1" title=" " alt="" coords="454,13,581,38"/>
<area shape="poly" title=" " alt="" coords="656,28,581,28,581,23,656,23"/>
<area shape="rect" href="opticflow__calculator_8c.html#a3edff14cc7f95b5202ba6841a12dfed3" title="Run the optical flow with fast9 and lukaskanade on a new image frame." alt="" coords="645,70,828,95"/>
<area shape="poly" title=" " alt="" coords="862,85,828,85,828,80,862,80"/>
<area shape="rect" href="opticflow__calculator_8c.html#a89e51af8fe5a0f534193635d181a2086" title="Run the optical flow on a new image frame." alt="" coords="437,70,597,95"/>
<area shape="poly" title=" " alt="" coords="632,85,597,85,597,80,632,80"/>
<area shape="rect" href="opticflow__module_8c.html#adb417544fc559b45532524416ce59953" title="The main optical flow calculation thread." alt="" coords="219,70,389,95"/>
<area shape="poly" title=" " alt="" coords="423,85,389,85,389,80,423,80"/>
<area shape="rect" href="opticflow__module_8c.html#a6026660ee86fbb1f72bada581386e6d9" title="Initialize the optical flow module for the bottom camera." alt="" coords="5,70,171,95"/>
<area shape="poly" title=" " alt="" coords="205,85,171,85,171,80,205,80"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_01fcd3835fb4e7d9331b722d86291b65.html">sw</a></li><li class="navelem"><a class="el" href="dir_5e9153041680afc3c016fd52fa730b56.html">airborne</a></li><li class="navelem"><a class="el" href="dir_c2abcdd6ccb39c3582929c0e3f5651c2.html">modules</a></li><li class="navelem"><a class="el" href="dir_304e79c9f5d09ea65a2f55aafb6a6b9d.html">computer_vision</a></li><li class="navelem"><a class="el" href="dir_9adc125244b74c64b95124778e5b932a.html">lib</a></li><li class="navelem"><a class="el" href="dir_02b33bf6f772461f444923131a9a8dda.html">vision</a></li><li class="navelem"><a class="el" href="undistortion_8h.html">undistortion.h</a></li>
    <li class="footer">Generated on Mon Oct 6 2025 14:47:09 for Paparazzi UAS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>

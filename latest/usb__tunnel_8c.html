<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Paparazzi UAS: sw/airborne/firmwares/setup/usb_tunnel.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="penguin_icon.png"/></td>
  <td id="projectalign">
   <div id="projectname">Paparazzi UAS<span id="projectnumber">&#160;v7.0_unstable</span>
   </div>
   <div id="projectbrief">Paparazzi is a free software Unmanned Aircraft System.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('usb__tunnel_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">usb_tunnel.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>USB tunnel application.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;std.h&quot;</code><br />
<code>#include &quot;<a class="el" href="mcu_8h_source.html">mcu.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sys__time_8h_source.html">mcu_periph/sys_time.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="led_8h_source.html">led.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="uart_8h_source.html">mcu_periph/uart.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="usb__serial_8h_source.html">mcu_periph/usb_serial.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for usb_tunnel.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="usb__tunnel_8c__incl.png" border="0" usemap="#asw_2airborne_2firmwares_2setup_2usb__tunnel_8c" alt=""/></div>
<map name="asw_2airborne_2firmwares_2setup_2usb__tunnel_8c" id="asw_2airborne_2firmwares_2setup_2usb__tunnel_8c">
<area shape="rect" title="USB tunnel application." alt="" coords="537,5,704,45"/>
<area shape="rect" title=" " alt="" coords="609,255,664,280"/>
<area shape="poly" title=" " alt="" coords="537,29,356,35,255,44,159,59,79,82,49,96,26,113,12,132,9,153,16,177,36,205,64,218,120,230,281,248,459,258,596,262,596,268,459,263,280,253,119,236,63,224,32,209,11,179,3,153,7,130,22,109,46,92,77,77,158,54,254,39,356,29,537,23"/>
<area shape="rect" href="mcu_8h.html" title="Arch independent mcu ( Micro Controller Unit ) utilities." alt="" coords="671,93,733,119"/>
<area shape="poly" title=" " alt="" coords="642,44,682,82,678,85,638,47"/>
<area shape="rect" href="sys__time_8h.html" title="Architecture independent timing functions." alt="" coords="349,93,522,119"/>
<area shape="poly" title=" " alt="" coords="577,48,476,90,474,85,575,43"/>
<area shape="rect" href="led_8h.html" title="arch independent LED (Light Emitting Diodes) API" alt="" coords="552,93,607,119"/>
<area shape="poly" title=" " alt="" coords="613,47,594,82,590,80,608,44"/>
<area shape="rect" href="uart_8h.html" title="arch independent UART (Universal Asynchronous Receiver/Transmitter) API" alt="" coords="967,174,1107,199"/>
<area shape="poly" title=" " alt="" coords="705,33,855,55,923,72,971,91,990,106,1005,124,1028,160,1023,162,1001,127,986,110,969,96,922,77,854,61,704,38"/>
<area shape="rect" href="usb__serial_8h.html" title="arch independent USB API" alt="" coords="777,93,957,119"/>
<area shape="poly" title=" " alt="" coords="680,43,819,87,818,92,679,48"/>
<area shape="rect" title=" " alt="" coords="743,174,840,199"/>
<area shape="poly" title=" " alt="" coords="717,117,770,163,766,167,713,121"/>
<area shape="poly" title=" " alt="" coords="445,118,474,159,495,183,518,205,558,230,598,249,595,254,555,235,515,209,491,187,470,162,440,121"/>
<area shape="rect" title=" " alt="" coords="632,174,719,199"/>
<area shape="poly" title=" " alt="" coords="472,116,620,164,629,167,627,172,618,169,470,121"/>
<area shape="rect" title=" " alt="" coords="383,174,453,199"/>
<area shape="poly" title=" " alt="" coords="435,119,426,161,421,160,430,118"/>
<area shape="rect" title=" " alt="" coords="47,174,173,199"/>
<area shape="poly" title=" " alt="" coords="387,121,185,169,169,173,167,168,184,164,386,116"/>
<area shape="rect" title=" " alt="" coords="197,167,359,207"/>
<area shape="poly" title=" " alt="" coords="414,121,329,163,327,158,411,116"/>
<area shape="rect" title=" " alt="" coords="529,174,608,199"/>
<area shape="poly" title=" " alt="" coords="580,119,575,161,569,160,575,118"/>
<area shape="poly" title=" " alt="" coords="979,202,678,261,677,255,978,197"/>
<area shape="rect" title=" " alt="" coords="1049,255,1224,280"/>
<area shape="poly" title=" " alt="" coords="1053,197,1113,244,1109,248,1050,202"/>
<area shape="rect" title=" " alt="" coords="833,255,1025,280"/>
<area shape="poly" title=" " alt="" coords="1022,202,957,249,954,244,1019,197"/>
<area shape="poly" title=" " alt="" coords="872,119,872,161,866,186,853,208,835,225,814,239,767,257,720,267,678,270,677,264,719,261,766,252,811,234,832,221,849,205,861,184,867,161,866,119"/>
<area shape="poly" title=" " alt="" coords="858,121,814,166,810,162,854,117"/>
<area shape="poly" title=" " alt="" coords="840,121,717,171,715,166,838,116"/>
<area shape="poly" title=" " alt="" coords="893,116,1001,166,999,171,891,121"/>
<area shape="poly" title=" " alt="" coords="876,118,899,166,924,240,919,242,894,168,871,120"/>
</map>
</div>
</div>
<p><a href="usb__tunnel_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad8468070a9db37b05ec8c5cadfbfc733" id="r_ad8468070a9db37b05ec8c5cadfbfc733"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__tunnel_8c.html#ad8468070a9db37b05ec8c5cadfbfc733">BLINK_MIN</a>&#160;&#160;&#160;100</td></tr>
<tr class="memdesc:ad8468070a9db37b05ec8c5cadfbfc733"><td class="mdescLeft">&#160;</td><td class="mdescRight">minimum LED blink on time in ms  <br /></td></tr>
<tr class="separator:ad8468070a9db37b05ec8c5cadfbfc733"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a716cf006b01443e43d0c22bace6803c6" id="r_a716cf006b01443e43d0c22bace6803c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">static</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__tunnel_8c.html#a716cf006b01443e43d0c22bace6803c6">tunnel_event</a> (<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>)</td></tr>
<tr class="separator:a716cf006b01443e43d0c22bace6803c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe" id="r_a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__tunnel_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a> (<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>)</td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>USB tunnel application. </p>
<p>This creates a USB serial port that connects to one of the UARTs. This enables you to e.g. configure the gps receiver or the modem without removing it. </p>

<p class="definition">Definition in file <a class="el" href="usb__tunnel_8c_source.html">usb_tunnel.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad8468070a9db37b05ec8c5cadfbfc733" name="ad8468070a9db37b05ec8c5cadfbfc733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8468070a9db37b05ec8c5cadfbfc733">&#9670;&#160;</a></span>BLINK_MIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> BLINK_MIN&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>minimum LED blink on time in ms </p>

<p class="definition">Definition at line <a class="el" href="usb__tunnel_8c_source.html#l00050">50</a> of file <a class="el" href="usb__tunnel_8c_source.html">usb_tunnel.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a840291bc02cba5474a4cb46a9b9566fe" name="a840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840291bc02cba5474a4cb46a9b9566fe">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">int</a> main </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__tunnel_8c_source.html#l00088">88</a> of file <a class="el" href="usb__tunnel_8c_source.html">usb_tunnel.c</a>.</p>

<p class="reference">References <a class="el" href="led_8h_source.html#l00039">led_init()</a>, <a class="el" href="mcu_8c_source.html#l00101">mcu_init()</a>, <a class="el" href="sys__time_8c_source.html#l00119">sys_time_init()</a>, <a class="el" href="usb__tunnel_8c_source.html#l00052">tunnel_event()</a>, <a class="el" href="usb__serial_8h.html#abaca416be34281b2bfb22ac501e673d9">VCOM_allow_linecoding()</a>, <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00468">VCOM_event()</a>, and <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00565">VCOM_init()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="usb__tunnel_8c_a840291bc02cba5474a4cb46a9b9566fe_cgraph.png" border="0" usemap="#ausb__tunnel_8c_a840291bc02cba5474a4cb46a9b9566fe_cgraph" alt=""/></div>
<map name="ausb__tunnel_8c_a840291bc02cba5474a4cb46a9b9566fe_cgraph" id="ausb__tunnel_8c_a840291bc02cba5474a4cb46a9b9566fe_cgraph">
<area shape="rect" title=" " alt="" coords="5,933,60,959"/>
<area shape="rect" href="led_8h.html#a9d9d9b1f30592189c3aa7358c626218f" title="Automatic initialization of actived LED Set to OFF at startup." alt="" coords="366,5,437,31"/>
<area shape="poly" title=" " alt="" coords="32,933,36,861,47,744,69,603,85,531,105,461,147,330,184,228,208,182,239,136,280,90,333,40,352,28,355,33,336,44,284,94,243,140,213,184,189,230,152,332,111,463,90,532,74,604,52,744,41,861,37,933"/>
<area shape="rect" href="group__mcu__periph.html#ga9af744358ff4b1e3e33d7dd170862f9b" title="Microcontroller peripherals initialization." alt="" coords="158,475,237,500"/>
<area shape="poly" title=" " alt="" coords="36,932,184,512,189,514,41,934"/>
<area shape="rect" href="sys__time_8c.html#a1e6b75f4db9128a3326d8a6283b0af43" title=" " alt="" coords="347,847,456,872"/>
<area shape="poly" title=" " alt="" coords="60,937,107,925,333,872,334,877,109,930,61,942"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#a96a54f28bfc8bc28963cd2fac74609cd" title=" " alt="" coords="356,933,447,959"/>
<area shape="poly" title=" " alt="" coords="60,943,342,943,342,949,60,949"/>
<area shape="rect" href="usb__tunnel_8c.html#a716cf006b01443e43d0c22bace6803c6" title=" " alt="" coords="558,1148,665,1173"/>
<area shape="poly" title=" " alt="" coords="61,953,564,1141,562,1146,59,958"/>
<area shape="rect" href="usb__serial_8h.html#abaca416be34281b2bfb22ac501e673d9" title=" " alt="" coords="108,1249,287,1275"/>
<area shape="poly" title=" " alt="" coords="36,959,37,1008,45,1080,54,1119,67,1158,86,1195,110,1228,126,1241,123,1245,106,1232,81,1198,62,1160,49,1121,40,1081,31,1008,31,959"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#a15c895e4456578b3ca2818c1e17c832a" title="Poll usb (required by libopencm3)." alt="" coords="789,1320,895,1345"/>
<area shape="poly" title=" " alt="" coords="43,957,69,1000,88,1023,110,1044,189,1100,261,1139,329,1166,395,1186,535,1222,616,1247,708,1284,756,1306,777,1314,776,1319,754,1311,706,1288,614,1252,533,1227,393,1191,327,1171,259,1144,187,1104,106,1048,84,1027,64,1003,38,960"/>
<area shape="poly" title=" " alt="" coords="201,473,238,374,284,233,294,177,295,131,303,87,314,64,333,40,352,27,355,31,337,44,319,67,308,89,301,131,299,178,289,235,243,376,206,475"/>
<area shape="rect" href="chibios_2mcu__periph_2adc__arch_8c.html#a2b815e6730e8723a6d1d06d9ef8f31c0" title="Adc init." alt="" coords="365,301,438,327"/>
<area shape="poly" title=" " alt="" coords="205,473,254,409,291,370,333,336,351,326,353,331,336,340,295,374,258,412,209,476"/>
<area shape="rect" href="group__mcu__periph.html#ga916f2adc2080b4fe88034086d107a8dc" title="Optional board init function called at the start of mcu_init()." alt="" coords="358,351,445,376"/>
<area shape="poly" title=" " alt="" coords="212,472,263,431,333,385,346,379,349,384,336,390,267,435,215,477"/>
<area shape="rect" href="group__mcu__periph.html#gaf8669c6ba2d12460cf1172edd1a5e4a3" title="Optional board init function called at the end of mcu_init()." alt="" coords="354,400,449,425"/>
<area shape="poly" title=" " alt="" coords="232,472,334,434,352,428,353,433,336,439,234,477"/>
<area shape="rect" href="can_8c.html#a1619e4e36842ab2508b1a3c18cb60ae3" title=" " alt="" coords="365,449,438,475"/>
<area shape="poly" title=" " alt="" coords="237,480,351,465,352,471,237,485"/>
<area shape="rect" href="dac_8h.html#a6e622fafee8436bf9cf9f6b120352e3c" title=" " alt="" coords="365,499,438,524"/>
<area shape="poly" title=" " alt="" coords="237,489,352,503,351,508,237,495"/>
<area shape="rect" href="chibios_2mcu__periph_2gpio__arch_8h.html#afd6403990094d8cd6010b2e641a977da" title="Get level of a gpio." alt="" coords="362,548,441,573"/>
<area shape="poly" title=" " alt="" coords="235,498,353,541,351,546,233,503"/>
<area shape="rect" href="chibios_2mcu__periph_2gpio__arch_8c.html#ae7d0172a824f41338c10872b96cc541b" title="Setup one or more pins of the given GPIO port as inputs." alt="" coords="335,597,468,623"/>
<area shape="poly" title=" " alt="" coords="215,498,267,538,336,582,351,590,348,594,333,587,264,543,212,502"/>
<area shape="rect" href="chibios_2mcu__periph_2gpio__arch_8c.html#a614c4a447f1e43381d92c682ac3b953f" title="Setup one or more pins of the given GPIO port as outputs." alt="" coords="540,635,683,660"/>
<area shape="poly" title=" " alt="" coords="205,499,220,538,247,589,285,641,309,663,336,681,370,693,399,694,467,681,546,661,548,666,469,686,399,699,369,699,333,686,306,667,281,645,242,592,215,540,200,501"/>
<area shape="rect" href="chibios_2mcu__arch_8c.html#a87671303c7d4a9264b1ffbb07e87f454" title="Initialize the specific archittecture functions." alt="" coords="345,748,458,773"/>
<area shape="poly" title=" " alt="" coords="205,499,221,541,248,602,287,667,310,699,336,727,354,739,351,744,333,731,306,702,282,670,243,604,216,543,200,501"/>
<area shape="rect" href="chibios_2mcu__periph_2rng__arch_8c.html#ad5a3df3d0092f55f6ea54ccaa7daf3dc" title=" " alt="" coords="366,797,437,823"/>
<area shape="poly" title=" " alt="" coords="204,499,215,551,240,627,258,668,279,710,306,748,336,783,355,795,352,799,333,787,301,752,275,712,253,671,235,629,210,552,198,501"/>
<area shape="rect" href="group__spi.html#ga2437939c4fca0a4a5a4f79460ed3f731" title=" " alt="" coords="363,55,440,80"/>
<area shape="poly" title=" " alt="" coords="201,473,284,233,294,191,299,156,308,124,333,89,348,78,351,82,337,93,313,126,304,157,299,192,289,235,206,475"/>
<area shape="rect" href="group__spi.html#ga7da3469436debceb731ecb76c920efda" title=" " alt="" coords="363,104,440,129"/>
<area shape="poly" title=" " alt="" coords="201,474,264,294,304,194,320,159,333,139,348,128,351,132,337,143,325,161,308,196,269,296,206,475"/>
<area shape="rect" href="group__spi.html#ga1c8c4e89459606c70f6749714abd4a86" title=" " alt="" coords="363,153,440,179"/>
<area shape="poly" title=" " alt="" coords="198,474,210,422,235,346,252,304,275,262,301,223,333,188,349,177,352,182,336,192,305,226,279,265,257,306,240,348,215,423,203,475"/>
<area shape="rect" href="group__spi.html#gafc9125c5764a6749703ae4f1303a16f3" title="spi_init_slaves() function" alt="" coords="342,647,461,672"/>
<area shape="poly" title=" " alt="" coords="209,498,259,561,295,599,336,632,348,639,345,643,333,636,292,603,255,565,205,502"/>
<area shape="poly" title=" " alt="" coords="203,500,212,559,234,647,252,696,274,745,302,791,337,832,343,837,339,841,333,836,298,794,270,748,247,698,229,649,207,560,197,500"/>
<area shape="rect" href="linux_2mcu__periph_2uart__arch_8c.html#a7e440684a8b6a4088b2f1d5b4dc47587" title=" " alt="" coords="346,203,457,228"/>
<area shape="poly" title=" " alt="" coords="200,474,214,429,241,366,280,298,305,266,333,237,339,233,342,237,336,241,309,269,284,301,245,368,219,431,205,475"/>
<area shape="rect" href="linux_2mcu__periph_2udp__arch_8c.html#a665732768aad2a0f4b0a396d96485cc2" title=" " alt="" coords="347,252,456,277"/>
<area shape="poly" title=" " alt="" coords="202,473,219,437,247,387,285,334,333,287,341,281,344,286,336,291,289,337,252,390,224,440,206,476"/>
<area shape="poly" title=" " alt="" coords="203,500,216,562,241,660,281,773,307,829,337,882,354,904,373,922,370,926,350,907,332,885,302,831,276,775,236,661,211,564,198,501"/>
<area shape="rect" href="chibios_2mcu__periph_2adc__arch_8c.html#a26596acde147dd47078caaeefd0b502d" title="Adc1 callback." alt="" coords="558,351,665,376"/>
<area shape="poly" title=" " alt="" coords="439,320,545,345,544,350,438,325"/>
<area shape="rect" href="chibios_2mcu__periph_2adc__arch_8c.html#aba229c19557de0c492527630ad132f6d" title="Configure the ADC conversion group depending on the architecture." alt="" coords="555,400,667,425"/>
<area shape="poly" title=" " alt="" coords="439,321,469,336,485,349,494,362,503,374,517,385,543,397,541,401,515,390,499,377,490,365,481,352,467,340,437,326"/>
<area shape="rect" href="chibios_2mcu__periph_2adc__arch_8c.html#ab33213b168f1b881ddc092b70d45e130" title="Adc error callback." alt="" coords="546,203,677,228"/>
<area shape="poly" title=" " alt="" coords="437,301,467,286,481,274,489,262,499,249,515,237,532,229,534,234,517,242,503,253,494,265,485,278,469,291,439,306"/>
<area shape="rect" href="chibios_2mcu__periph_2gpio__arch_8c.html#ae9cae0077ed50d293b5288fe4c15bbb6" title="Setup a gpio for analog use." alt="" coords="526,252,697,277"/>
<area shape="poly" title=" " alt="" coords="438,303,543,278,544,283,439,308"/>
<area shape="rect" href="ins__vectornav_8c.html#aa01d3425df2eb0f33ced38c9d8fa8f05" title=" " alt="" coords="533,301,689,327"/>
<area shape="poly" title=" " alt="" coords="438,311,520,311,520,317,438,317"/>
<area shape="poly" title=" " alt="" coords="461,653,526,650,527,655,461,659"/>
<area shape="rect" href="shell__arch_8c.html#a61cf879e2e341903b7e751694e94b491" title="Add dynamic entry." alt="" coords="549,684,674,709"/>
<area shape="poly" title=" " alt="" coords="448,844,466,832,477,818,484,804,489,776,494,747,501,733,514,719,534,706,537,711,518,723,506,736,499,749,494,777,489,806,482,821,470,836,451,849"/>
<area shape="rect" href="chibios_2mcu__periph_2sys__time__arch_8c.html#a9b31c2feb846b96205ae20ea6883e1c4" title=" " alt="" coords="539,733,683,759"/>
<area shape="poly" title=" " alt="" coords="443,844,466,832,481,818,490,804,499,790,514,776,542,761,545,766,518,780,503,794,494,807,485,822,470,836,446,849"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#a6059acbec27d178fd89f46eac5538e7f" title="Set configuration and control callbacks for CDC device (from libopencm3 examples)" alt="" coords="539,884,684,909"/>
<area shape="poly" title=" " alt="" coords="447,933,543,910,544,915,448,938"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#a1330c98d9b3b1ac7e86b04b86ec99548" title=" " alt="" coords="576,933,647,959"/>
<area shape="poly" title=" " alt="" coords="447,943,562,943,562,949,447,949"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#adaa435f6235136b75de97d7efa7387d1" title=" " alt="" coords="516,1297,707,1323"/>
<area shape="poly" title=" " alt="" coords="410,958,451,1054,482,1120,518,1185,556,1240,592,1285,588,1288,552,1243,514,1187,478,1122,446,1057,405,960"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#a1ce3208f7bb3a93361d7d3fd6d6949e4" title=" " alt="" coords="759,778,925,818"/>
<area shape="poly" title=" " alt="" coords="415,931,466,882,479,864,487,848,497,833,515,820,571,797,631,785,690,781,745,783,745,788,690,787,632,791,573,802,517,824,501,837,492,851,483,867,470,885,419,935"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#ad20f86d5fa3af479482b8a7571d7953b" title=" " alt="" coords="546,835,677,860"/>
<area shape="poly" title=" " alt="" coords="417,931,459,900,515,869,534,862,536,867,517,874,462,905,420,935"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#ad4148a27686df68c8496d49427d52e36" title=" " alt="" coords="779,1024,905,1049"/>
<area shape="poly" title=" " alt="" coords="411,958,425,986,448,1021,479,1056,517,1082,567,1100,609,1103,652,1095,706,1082,730,1072,754,1060,779,1051,780,1056,756,1064,732,1077,707,1087,653,1100,609,1108,566,1105,515,1087,475,1060,444,1024,421,988,406,960"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#a2293412c574bdf4550e8d8b71724e360" title=" " alt="" coords="536,983,687,1008"/>
<area shape="poly" title=" " alt="" coords="448,954,544,977,543,982,447,959"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#a1e02387a38bab125b67b7dc78970d48f" title=" " alt="" coords="536,1033,687,1073"/>
<area shape="poly" title=" " alt="" coords="421,957,464,986,517,1017,535,1025,533,1030,515,1022,461,991,418,961"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#a4cfafe558a6e594ce0638634e7cec7db" title="Checks if data available in VCOM buffer." alt="" coords="755,1369,929,1395"/>
<area shape="poly" title=" " alt="" coords="650,1320,755,1355,781,1363,779,1368,754,1361,648,1325"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#a84f023b865546e5a8433a00db4f06972" title=" " alt="" coords="1029,1344,1111,1369"/>
<area shape="poly" title=" " alt="" coords="930,1370,1015,1360,1015,1365,930,1375"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#ae4318c752d87ae9cc59828f07ec04946" title="Checks if buffer free in VCOM buffer." alt="" coords="977,923,1163,948"/>
<area shape="poly" title=" " alt="" coords="898,816,931,832,993,872,1045,912,1041,916,990,877,928,836,895,820"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#a184633f63ad351d8e70857d9e5ba4a3e" title="Reads one character from VCOM port." alt="" coords="783,847,901,872"/>
<area shape="poly" title=" " alt="" coords="677,848,769,853,769,858,677,853"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#aad17c325b3e7623c13d24b25fc42fe3b" title="Send data from fifo right now." alt="" coords="987,1024,1153,1049"/>
<area shape="poly" title=" " alt="" coords="906,1034,972,1034,972,1039,906,1039"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#a19a213d00cf249a4d4d60dbf1a9907d3" title="Writes one character to VCOM port fifo." alt="" coords="783,923,901,948"/>
<area shape="poly" title=" " alt="" coords="660,980,779,949,780,954,662,985"/>
<area shape="poly" title=" " alt="" coords="901,933,963,933,963,938,901,938"/>
<area shape="poly" title=" " alt="" coords="873,946,1029,1016,1027,1021,871,951"/>
<area shape="poly" title=" " alt="" coords="681,1030,705,1017,720,1005,729,992,738,979,753,965,780,951,783,955,756,970,742,982,733,995,724,1008,708,1022,683,1035"/>
<area shape="poly" title=" " alt="" coords="625,1172,709,1285,730,1324,739,1340,756,1356,765,1361,762,1366,753,1360,735,1343,725,1327,704,1287,621,1175"/>
<area shape="poly" title=" " alt="" coords="630,1146,666,1119,705,1083,718,1063,726,1044,735,1027,753,1009,787,996,847,980,991,948,992,953,849,985,789,1001,756,1014,740,1030,731,1047,723,1065,709,1086,670,1123,633,1150"/>
<area shape="poly" title=" " alt="" coords="634,1146,671,1120,689,1103,704,1083,717,1059,723,1037,726,996,730,954,738,932,753,908,771,890,793,876,796,880,775,894,757,912,743,934,735,955,732,996,729,1038,722,1061,709,1086,693,1106,674,1124,637,1150"/>
<area shape="poly" title=" " alt="" coords="632,1146,669,1119,704,1083,720,1052,725,1023,732,995,740,980,753,965,772,952,775,956,756,969,745,983,737,997,731,1024,725,1054,709,1086,672,1123,636,1150"/>
<area shape="rect" href="chibios_2mcu__periph_2sys__time__arch_8c.html#ad3cb294b0d1d74dfb511534b36a17960" title="Get the time in milliseconds since startup." alt="" coords="767,1271,917,1296"/>
<area shape="poly" title=" " alt="" coords="666,1170,688,1178,708,1191,725,1208,733,1225,741,1242,756,1257,765,1263,762,1267,753,1261,736,1245,728,1227,720,1211,705,1195,685,1183,664,1175"/>
<area shape="rect" href="linux_2mcu__periph_2uart__arch_8c.html#a663f41657d0ad8e115fc7709b071d749" title="Check UART for available chars in receive buffer." alt="" coords="767,1073,917,1099"/>
<area shape="poly" title=" " alt="" coords="650,1145,706,1126,754,1109,781,1100,783,1105,756,1114,708,1131,652,1150"/>
<area shape="rect" href="uart_8c.html#ae8f64b02e6cc8b052d1d29321b7224de" title=" " alt="" coords="757,1123,927,1148"/>
<area shape="poly" title=" " alt="" coords="665,1152,743,1144,743,1149,665,1158"/>
<area shape="rect" href="linux_2mcu__periph_2uart__arch_8c.html#adb9a60ec94a31a08e6454ccf64f24039" title=" " alt="" coords="797,1172,887,1197"/>
<area shape="poly" title=" " alt="" coords="665,1164,784,1176,783,1181,665,1169"/>
<area shape="rect" href="linux_2mcu__periph_2uart__arch_8c.html#a33e2bacaecae6e2adcd64c2cc6bb73a0" title=" " alt="" coords="786,1221,898,1247"/>
<area shape="poly" title=" " alt="" coords="652,1171,708,1190,756,1207,780,1215,779,1220,754,1213,706,1195,650,1176"/>
<area shape="poly" title=" " alt="" coords="896,1336,1016,1348,1015,1354,895,1341"/>
<area shape="poly" title=" " alt="" coords="895,1323,912,1316,928,1307,956,1280,980,1249,1019,1180,1045,1114,1060,1062,1065,1064,1050,1116,1024,1183,985,1252,960,1283,931,1311,915,1321,897,1328"/>
</map>
</div>

</div>
</div>
<a id="a716cf006b01443e43d0c22bace6803c6" name="a716cf006b01443e43d0c22bace6803c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a716cf006b01443e43d0c22bace6803c6">&#9670;&#160;</a></span>tunnel_event()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">static</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> tunnel_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__tunnel_8c_source.html#l00052">52</a> of file <a class="el" href="usb__tunnel_8c_source.html">usb_tunnel.c</a>.</p>

<p class="reference">References <a class="el" href="usb__tunnel_8c_source.html#l00050">BLINK_MIN</a>, <a class="el" href="serial_8c_source.html#l00026">fd</a>, <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>, <a class="el" href="chibios_2mcu__periph_2sys__time__arch_8c_source.html#l00098">get_sys_time_msec()</a>, <a class="el" href="chibios_2led__hw_8h_source.html#l00052">LED_OFF</a>, <a class="el" href="chibios_2led__hw_8h_source.html#l00051">LED_ON</a>, <a class="el" href="linux_2mcu__periph_2uart__arch_8c_source.html#l00357">uart_char_available()</a>, <a class="el" href="uart_8c_source.html#l00151">uart_check_free_space()</a>, <a class="el" href="linux_2mcu__periph_2uart__arch_8c_source.html#l00348">uart_getch()</a>, <a class="el" href="linux_2mcu__periph_2uart__arch_8c_source.html#l00306">uart_put_byte()</a>, <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00459">VCOM_check_available()</a>, <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00450">VCOM_check_free_space()</a>, <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00425">VCOM_getchar()</a>, and <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00397">VCOM_putchar()</a>.</p>

<p class="reference">Referenced by <a class="el" href="usb__tunnel_8c_source.html#l00088">main()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="usb__tunnel_8c_a716cf006b01443e43d0c22bace6803c6_cgraph.png" border="0" usemap="#ausb__tunnel_8c_a716cf006b01443e43d0c22bace6803c6_cgraph" alt=""/></div>
<map name="ausb__tunnel_8c_a716cf006b01443e43d0c22bace6803c6_cgraph" id="ausb__tunnel_8c_a716cf006b01443e43d0c22bace6803c6_cgraph">
<area shape="rect" title=" " alt="" coords="5,203,112,228"/>
<area shape="rect" href="chibios_2mcu__periph_2sys__time__arch_8c.html#ad3cb294b0d1d74dfb511534b36a17960" title="Get the time in milliseconds since startup." alt="" coords="170,5,321,31"/>
<area shape="poly" title=" " alt="" coords="61,202,72,169,92,125,121,79,158,40,166,35,169,39,162,44,125,83,97,128,77,171,66,204"/>
<area shape="rect" href="linux_2mcu__periph_2uart__arch_8c.html#a663f41657d0ad8e115fc7709b071d749" title="Check UART for available chars in receive buffer." alt="" coords="170,55,321,80"/>
<area shape="poly" title=" " alt="" coords="64,201,100,147,127,116,158,89,169,83,171,88,162,94,130,120,104,150,69,204"/>
<area shape="rect" href="uart_8c.html#ae8f64b02e6cc8b052d1d29321b7224de" title=" " alt="" coords="160,104,331,129"/>
<area shape="poly" title=" " alt="" coords="72,200,110,169,159,138,175,131,177,136,161,143,113,174,76,204"/>
<area shape="rect" href="linux_2mcu__periph_2uart__arch_8c.html#adb9a60ec94a31a08e6454ccf64f24039" title=" " alt="" coords="200,153,291,179"/>
<area shape="poly" title=" " alt="" coords="107,200,186,179,188,184,108,205"/>
<area shape="rect" href="linux_2mcu__periph_2uart__arch_8c.html#a33e2bacaecae6e2adcd64c2cc6bb73a0" title=" " alt="" coords="189,203,301,228"/>
<area shape="poly" title=" " alt="" coords="112,213,176,213,176,218,112,218"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#a4cfafe558a6e594ce0638634e7cec7db" title="Checks if data available in VCOM buffer." alt="" coords="612,255,787,280"/>
<area shape="poly" title=" " alt="" coords="106,225,160,237,278,250,396,259,598,265,598,270,395,264,277,256,160,242,105,231"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#ae4318c752d87ae9cc59828f07ec04946" title="Checks if buffer free in VCOM buffer." alt="" coords="379,304,564,329"/>
<area shape="poly" title=" " alt="" coords="75,226,112,256,161,282,212,297,264,307,365,316,365,321,263,313,210,303,159,287,109,260,72,230"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#a184633f63ad351d8e70857d9e5ba4a3e" title="Reads one character from VCOM port." alt="" coords="412,501,531,527"/>
<area shape="poly" title=" " alt="" coords="67,227,99,302,126,348,162,389,218,430,280,461,343,483,399,498,398,504,341,489,278,466,215,435,158,393,122,352,94,305,62,229"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#a19a213d00cf249a4d4d60dbf1a9907d3" title="Writes one character to VCOM port fifo." alt="" coords="186,355,305,380"/>
<area shape="poly" title=" " alt="" coords="70,227,105,278,132,307,162,333,186,347,184,352,158,338,128,311,101,281,65,230"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#a84f023b865546e5a8433a00db4f06972" title=" " alt="" coords="835,280,917,305"/>
<area shape="poly" title=" " alt="" coords="788,277,822,282,821,288,787,283"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#a1907098db4b59dda72fd85bfbef50248" title=" " alt="" coords="661,304,737,329"/>
<area shape="poly" title=" " alt="" coords="564,314,648,314,648,319,564,319"/>
<area shape="poly" title=" " alt="" coords="737,309,821,297,821,303,738,314"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#af7c4a574284a673dbccf3346e072ba50" title=" " alt="" coords="664,476,735,501"/>
<area shape="poly" title=" " alt="" coords="530,505,650,491,651,497,531,510"/>
<area shape="poly" title=" " alt="" coords="302,352,400,330,402,335,304,357"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#ae3001fd8504f8ad30ee40a958da7bf0c" title=" " alt="" coords="436,353,507,379"/>
<area shape="poly" title=" " alt="" coords="305,364,422,364,422,369,305,370"/>
<area shape="rect" href="chibios_2mcu__periph_2sys__time__arch_8c.html#a74db3eed857f9c53bb67db256c12bc83" title="sys_time_usleep(uint32_t us)" alt="" coords="406,403,537,428"/>
<area shape="poly" title=" " alt="" coords="305,377,399,397,397,402,304,382"/>
<area shape="rect" href="stm32_2usb__ser__hw_8c.html#aad17c325b3e7623c13d24b25fc42fe3b" title="Send data from fifo right now." alt="" coords="388,452,555,477"/>
<area shape="poly" title=" " alt="" coords="268,378,318,407,380,437,404,446,402,451,378,442,315,412,265,382"/>
<area shape="poly" title=" " alt="" coords="556,471,650,481,650,486,555,476"/>
</map>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="usb__tunnel_8c_a716cf006b01443e43d0c22bace6803c6_icgraph.png" border="0" usemap="#ausb__tunnel_8c_a716cf006b01443e43d0c22bace6803c6_icgraph" alt=""/></div>
<map name="ausb__tunnel_8c_a716cf006b01443e43d0c22bace6803c6_icgraph" id="ausb__tunnel_8c_a716cf006b01443e43d0c22bace6803c6_icgraph">
<area shape="rect" title=" " alt="" coords="108,5,215,31"/>
<area shape="rect" href="usb__tunnel_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_01fcd3835fb4e7d9331b722d86291b65.html">sw</a></li><li class="navelem"><a class="el" href="dir_5e9153041680afc3c016fd52fa730b56.html">airborne</a></li><li class="navelem"><a class="el" href="dir_e7d2494544042a787a6ee70a779a5e07.html">firmwares</a></li><li class="navelem"><a class="el" href="dir_38ba296eae9b9ece8d4ed735450fba0a.html">setup</a></li><li class="navelem"><a class="el" href="usb__tunnel_8c.html">usb_tunnel.c</a></li>
    <li class="footer">Generated on Mon Jul 21 2025 14:32:07 for Paparazzi UAS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>

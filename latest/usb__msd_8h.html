<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Paparazzi UAS: sw/airborne/modules/loggers/sdlog_chibios/usb_msd.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="penguin_icon.png"/></td>
  <td id="projectalign">
   <div id="projectname">Paparazzi UAS<span id="projectnumber">&#160;v7.0_unstable</span>
   </div>
   <div id="projectbrief">Paparazzi is a free software Unmanned Aircraft System.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('usb__msd_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">usb_msd.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;ch.h&quot;</code><br />
<code>#include &quot;hal.h&quot;</code><br />
<code>#include &quot;chdebug.h&quot;</code><br />
<code>#include &quot;<a class="el" href="usb__msd_8h_source.html">modules/loggers/sdlog_chibios/usb_msd.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for usb_msd.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="usb__msd_8h__incl.png" border="0" usemap="#asw_2airborne_2modules_2loggers_2sdlog__chibios_2usb__msd_8h" alt=""/></div>
<map name="asw_2airborne_2modules_2loggers_2sdlog__chibios_2usb__msd_8h" id="asw_2airborne_2modules_2loggers_2sdlog__chibios_2usb__msd_8h">
<area shape="rect" title=" " alt="" coords="23,5,189,60"/>
<area shape="poly" title=" " alt="" coords="191,15,208,21,216,32,213,41,204,47,201,42,208,38,211,33,205,25,189,20"/>
<area shape="rect" title=" " alt="" coords="5,108,55,133"/>
<area shape="poly" title=" " alt="" coords="85,62,51,99,47,96,81,58"/>
<area shape="rect" title=" " alt="" coords="79,108,133,133"/>
<area shape="poly" title=" " alt="" coords="109,60,109,94,103,94,103,60"/>
<area shape="rect" title=" " alt="" coords="157,108,247,133"/>
<area shape="poly" title=" " alt="" coords="137,58,181,97,177,101,134,62"/>
</map>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="usb__msd_8h__dep__incl.png" border="0" usemap="#asw_2airborne_2modules_2loggers_2sdlog__chibios_2usb__msd_8hdep" alt=""/></div>
<map name="asw_2airborne_2modules_2loggers_2sdlog__chibios_2usb__msd_8hdep" id="asw_2airborne_2modules_2loggers_2sdlog__chibios_2usb__msd_8hdep">
<area shape="rect" title=" " alt="" coords="100,5,267,60"/>
<area shape="poly" title=" " alt="" coords="282,17,290,23,293,33,286,46,268,53,266,48,282,42,288,32,286,26,279,21"/>
<area shape="rect" href="usbStorage_8c.html" title=" " alt="" coords="5,108,172,163"/>
<area shape="poly" title=" " alt="" coords="151,72,115,110,111,106,147,68"/>
<area shape="rect" href="usb__msd_8c.html" title=" " alt="" coords="196,108,363,163"/>
<area shape="poly" title=" " alt="" coords="220,68,256,106,252,110,216,72"/>
</map>
</div>
</div>
<p><a href="usb__msd_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structPACK__STRUCT__STRUCT" id="r_structPACK__STRUCT__STRUCT"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#structPACK__STRUCT__STRUCT">PACK_STRUCT_STRUCT</a></td></tr>
<tr class="memdesc:structPACK__STRUCT__STRUCT"><td class="mdescLeft">&#160;</td><td class="mdescRight">Response to a READ_CAPACITY_10 SCSI command.  <a href="usb__msd_8h.html#structPACK__STRUCT__STRUCT">More...</a><br /></td></tr>
<tr class="separator:structPACK__STRUCT__STRUCT"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structUSBMassStorageConfig.html">USBMassStorageConfig</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver configuration structure.  <a href="structUSBMassStorageConfig.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structUSBMassStorageDriver" id="r_structUSBMassStorageDriver"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#structUSBMassStorageDriver">USBMassStorageDriver</a></td></tr>
<tr class="memdesc:structUSBMassStorageDriver"><td class="mdescLeft">&#160;</td><td class="mdescRight">USB mass storage driver structure.  <a href="usb__msd_8h.html#structUSBMassStorageDriver">More...</a><br /></td></tr>
<tr class="separator:structUSBMassStorageDriver"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a33623da05bb55497534c3dc26ebebeb2" id="r_a33623da05bb55497534c3dc26ebebeb2"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a33623da05bb55497534c3dc26ebebeb2">PACK_STRUCT_STRUCT</a>&#160;&#160;&#160;<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">__attribute__</a>((<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">packed</a>))</td></tr>
<tr class="separator:a33623da05bb55497534c3dc26ebebeb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73199061891adf1b912d20835c7d5e96" id="r_a73199061891adf1b912d20835c7d5e96"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a73199061891adf1b912d20835c7d5e96">PACK_STRUCT_BEGIN</a></td></tr>
<tr class="separator:a73199061891adf1b912d20835c7d5e96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a465fef70f294e21cbf4ea51fc342f20e" id="r_a465fef70f294e21cbf4ea51fc342f20e"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a465fef70f294e21cbf4ea51fc342f20e">PACK_STRUCT_END</a></td></tr>
<tr class="separator:a465fef70f294e21cbf4ea51fc342f20e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73e814d361e117119a425401b39dd7ad" id="r_a73e814d361e117119a425401b39dd7ad"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a73e814d361e117119a425401b39dd7ad">USB_MS_DATA_EP</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a73e814d361e117119a425401b39dd7ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4d0bb7007c58f544db6f34c4effa9aa" id="r_aa4d0bb7007c58f544db6f34c4effa9aa"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#aa4d0bb7007c58f544db6f34c4effa9aa">USBD</a>&#160;&#160;&#160;<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">USBD1</a></td></tr>
<tr class="separator:aa4d0bb7007c58f544db6f34c4effa9aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1f1d4210dd9ee3f7d15f20c1807bbf1" id="r_aa1f1d4210dd9ee3f7d15f20c1807bbf1"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#aa1f1d4210dd9ee3f7d15f20c1807bbf1">SEM_TAKEN</a></td></tr>
<tr class="separator:aa1f1d4210dd9ee3f7d15f20c1807bbf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a110d77005fa222585a16a066c6a88a9a" id="r_a110d77005fa222585a16a066c6a88a9a"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a110d77005fa222585a16a066c6a88a9a">SEM_RELEASED</a></td></tr>
<tr class="separator:a110d77005fa222585a16a066c6a88a9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac28579335a8f21ae1dcef6d69fbb1359" id="r_ac28579335a8f21ae1dcef6d69fbb1359"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#ac28579335a8f21ae1dcef6d69fbb1359">EVT_USB_RESET</a>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr class="separator:ac28579335a8f21ae1dcef6d69fbb1359"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aff3cb65bed52e7fba0f0ce8a5be8c2" id="r_a8aff3cb65bed52e7fba0f0ce8a5be8c2"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a8aff3cb65bed52e7fba0f0ce8a5be8c2">EVT_BOT_RESET</a>&#160;&#160;&#160;(1 &lt;&lt; 1)</td></tr>
<tr class="separator:a8aff3cb65bed52e7fba0f0ce8a5be8c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f7321aed43043033c29841c3b115a26" id="r_a5f7321aed43043033c29841c3b115a26"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a5f7321aed43043033c29841c3b115a26">EVT_SEM_TAKEN</a>&#160;&#160;&#160;(1 &lt;&lt; 2)</td></tr>
<tr class="separator:a5f7321aed43043033c29841c3b115a26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c818220fd75a9bd9ebb4555040dd744" id="r_a8c818220fd75a9bd9ebb4555040dd744"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a8c818220fd75a9bd9ebb4555040dd744">EVT_SEM_RELEASED</a>&#160;&#160;&#160;(1 &lt;&lt; 3)</td></tr>
<tr class="separator:a8c818220fd75a9bd9ebb4555040dd744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a354fea57478245f2616bff6384e88395" id="r_a354fea57478245f2616bff6384e88395"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a354fea57478245f2616bff6384e88395">EVT_USB_CONFIGURED</a>&#160;&#160;&#160;(1 &lt;&lt; 4)</td></tr>
<tr class="separator:a354fea57478245f2616bff6384e88395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1815bc5255cc566b0752790f513e9082" id="r_a1815bc5255cc566b0752790f513e9082"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a1815bc5255cc566b0752790f513e9082">EVT_SCSI_REQ_TEST_UNIT_READY</a>&#160;&#160;&#160;(1 &lt;&lt; 5)</td></tr>
<tr class="separator:a1815bc5255cc566b0752790f513e9082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76ee1e17df8ca5f9e41c104a01749e17" id="r_a76ee1e17df8ca5f9e41c104a01749e17"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a76ee1e17df8ca5f9e41c104a01749e17">EVT_SCSI_REQ_READ_FMT_CAP</a>&#160;&#160;&#160;(1 &lt;&lt; 6)</td></tr>
<tr class="separator:a76ee1e17df8ca5f9e41c104a01749e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79d6f971d080ccbbc652501f2d244b59" id="r_a79d6f971d080ccbbc652501f2d244b59"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a79d6f971d080ccbbc652501f2d244b59">EVT_SCSI_REQ_SENSE6</a>&#160;&#160;&#160;(1 &lt;&lt; 7)</td></tr>
<tr class="separator:a79d6f971d080ccbbc652501f2d244b59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf04136ec87eacae5877bc3124ca3660" id="r_acf04136ec87eacae5877bc3124ca3660"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#acf04136ec87eacae5877bc3124ca3660">EVT_SCSI_REQ_SENSE10</a>&#160;&#160;&#160;(1 &lt;&lt; 8)</td></tr>
<tr class="separator:acf04136ec87eacae5877bc3124ca3660"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c540aeb2bb8743d2b5cdad48ccd4e31" id="r_a5c540aeb2bb8743d2b5cdad48ccd4e31"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a5c540aeb2bb8743d2b5cdad48ccd4e31">EVT_WAIT_FOR_COMMAND_BLOCK</a>&#160;&#160;&#160;(1 &lt;&lt; 9)</td></tr>
<tr class="separator:a5c540aeb2bb8743d2b5cdad48ccd4e31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac21ca5d51905e33fd430b3894eba6bb2" id="r_ac21ca5d51905e33fd430b3894eba6bb2"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#ac21ca5d51905e33fd430b3894eba6bb2">EVT_SCSI_REQ_SEND_DIAGNOSTIC</a>&#160;&#160;&#160;(1 &lt;&lt; 10)</td></tr>
<tr class="separator:ac21ca5d51905e33fd430b3894eba6bb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6daad749a37883d7d2aea6fc6d2879e9" id="r_a6daad749a37883d7d2aea6fc6d2879e9"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a6daad749a37883d7d2aea6fc6d2879e9">EVT_SCSI_REQ_READ_CAP10</a>&#160;&#160;&#160;(1 &lt;&lt; 11)</td></tr>
<tr class="separator:a6daad749a37883d7d2aea6fc6d2879e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d3dabd24a7f6db7c2a29078f2f717fc" id="r_a0d3dabd24a7f6db7c2a29078f2f717fc"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a0d3dabd24a7f6db7c2a29078f2f717fc">EVT_SCSI_PROC_INQ</a>&#160;&#160;&#160;(1 &lt;&lt; 12)</td></tr>
<tr class="separator:a0d3dabd24a7f6db7c2a29078f2f717fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:af8cb4deefd2af9bde489fe8598e8aa96" id="r_af8cb4deefd2af9bde489fe8598e8aa96"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#af8cb4deefd2af9bde489fe8598e8aa96">msd_state_t</a> { <a class="el" href="usb__msd_8h.html#af8cb4deefd2af9bde489fe8598e8aa96ab2dbda3078000a12ac7081c970d450c0">MSD_IDLE</a>
, <a class="el" href="usb__msd_8h.html#af8cb4deefd2af9bde489fe8598e8aa96a98979b5270ac73b425a1e8cb61756517">MSD_READ_COMMAND_BLOCK</a>
, <a class="el" href="usb__msd_8h.html#af8cb4deefd2af9bde489fe8598e8aa96aeba289dd2b410160fd64bd295a1dff96">MSD_EJECTED</a>
, <a class="el" href="usb__msd_8h.html#af8cb4deefd2af9bde489fe8598e8aa96aed2697882eba38d731d53035c04b8f9e">MSD_BOT_RESET</a>
 }</td></tr>
<tr class="memdesc:af8cb4deefd2af9bde489fe8598e8aa96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Possible states for the USB mass storage driver.  <a href="usb__msd_8h.html#af8cb4deefd2af9bde489fe8598e8aa96">More...</a><br /></td></tr>
<tr class="separator:af8cb4deefd2af9bde489fe8598e8aa96"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9030d48fbe74f8689d41984bd08edf51" id="r_a9030d48fbe74f8689d41984bd08edf51"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a9030d48fbe74f8689d41984bd08edf51">msdInit</a> (<a class="el" href="usb__msd_8h.html#structUSBMassStorageDriver">USBMassStorageDriver</a> *<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">msdp</a>)</td></tr>
<tr class="memdesc:a9030d48fbe74f8689d41984bd08edf51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a USB mass storage driver.  <br /></td></tr>
<tr class="separator:a9030d48fbe74f8689d41984bd08edf51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7889b266f8bf0e0063afd3546cd02439" id="r_a7889b266f8bf0e0063afd3546cd02439"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a7889b266f8bf0e0063afd3546cd02439">msdStart</a> (<a class="el" href="usb__msd_8h.html#structUSBMassStorageDriver">USBMassStorageDriver</a> *<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">msdp</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">const</a> <a class="el" href="structUSBMassStorageConfig.html">USBMassStorageConfig</a> *<a class="el" href="stm32_2usb__ser__hw_8c.html#a79fece8dc710f4eaf00c3f026ab2e4ae">config</a>)</td></tr>
<tr class="memdesc:a7889b266f8bf0e0063afd3546cd02439"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a USB mass storage driver.  <br /></td></tr>
<tr class="separator:a7889b266f8bf0e0063afd3546cd02439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa1c1d04bba912b3ae2b6806f8ed4fdc" id="r_aaa1c1d04bba912b3ae2b6806f8ed4fdc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#aaa1c1d04bba912b3ae2b6806f8ed4fdc">msdStop</a> (<a class="el" href="usb__msd_8h.html#structUSBMassStorageDriver">USBMassStorageDriver</a> *<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">msdp</a>)</td></tr>
<tr class="memdesc:aaa1c1d04bba912b3ae2b6806f8ed4fdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops a USB mass storage driver.  <br /></td></tr>
<tr class="separator:aaa1c1d04bba912b3ae2b6806f8ed4fdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a936ce0885a9388fd5a96f1a1f162e47e" id="r_a936ce0885a9388fd5a96f1a1f162e47e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a936ce0885a9388fd5a96f1a1f162e47e">msdConfigureHookI</a> (<a class="el" href="usb__msd_8h.html#structUSBMassStorageDriver">USBMassStorageDriver</a> *<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">msdp</a>)</td></tr>
<tr class="memdesc:a936ce0885a9388fd5a96f1a1f162e47e"><td class="mdescLeft">&#160;</td><td class="mdescRight">USB device configured handler.  <br /></td></tr>
<tr class="separator:a936ce0885a9388fd5a96f1a1f162e47e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f3d62cc8e7c0a2085826d1bdb794b90" id="r_a1f3d62cc8e7c0a2085826d1bdb794b90"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a1f3d62cc8e7c0a2085826d1bdb794b90">msdRequestsHook</a> (<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">USBDriver</a> *usbp)</td></tr>
<tr class="memdesc:a1f3d62cc8e7c0a2085826d1bdb794b90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default requests hook.  <br /></td></tr>
<tr class="separator:a1f3d62cc8e7c0a2085826d1bdb794b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c07ac4c24d02f56c726c38477e98b01" id="r_a2c07ac4c24d02f56c726c38477e98b01"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a2c07ac4c24d02f56c726c38477e98b01">init_msd_driver</a> (<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> *<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">dbgThreadPtr</a>, <a class="el" href="structUSBMassStorageConfig.html">USBMassStorageConfig</a> *<a class="el" href="usbStorage_8c.html#a31c73d476eb4aef478f20c016b4f6761">msdConfig</a>)</td></tr>
<tr class="separator:a2c07ac4c24d02f56c726c38477e98b01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6995e11a18decb9478ad798000d60ca" id="r_af6995e11a18decb9478ad798000d60ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#af6995e11a18decb9478ad798000d60ca">deinit_msd_driver</a> (<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>)</td></tr>
<tr class="separator:af6995e11a18decb9478ad798000d60ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ad360964cf29c17ffda4847ea88c2f3" id="r_a9ad360964cf29c17ffda4847ea88c2f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a9ad360964cf29c17ffda4847ea88c2f3">msd_register_evt_connected</a> (<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">event_listener_t</a> *<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">elp</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">eventmask_t</a> mask)</td></tr>
<tr class="memdesc:a9ad360964cf29c17ffda4847ea88c2f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">register connected event source in local event mask  <br /></td></tr>
<tr class="separator:a9ad360964cf29c17ffda4847ea88c2f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b7ba2e93ad133f1b82f60ecf459eb8f" id="r_a9b7ba2e93ad133f1b82f60ecf459eb8f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__msd_8h.html#a9b7ba2e93ad133f1b82f60ecf459eb8f">msd_register_evt_ejected</a> (<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">event_listener_t</a> *<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">elp</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">eventmask_t</a> mask)</td></tr>
<tr class="memdesc:a9b7ba2e93ad133f1b82f60ecf459eb8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">register ejected event source in local event mask  <br /></td></tr>
<tr class="separator:a9b7ba2e93ad133f1b82f60ecf459eb8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structPACK__STRUCT__STRUCT" id="structPACK__STRUCT__STRUCT"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structPACK__STRUCT__STRUCT">&#9670;&#160;</a></span>PACK_STRUCT_STRUCT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct PACK_STRUCT_STRUCT</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Response to a READ_CAPACITY_10 SCSI command. </p>
<p>structure holding the data to reply to an INQUIRY SCSI command</p>
<p>Structure holding sense data (status/error information)</p>
<p>Command Status Wrapper structure.</p>
<p>Command Block Wrapper structure.</p>
<p>Response to a READ_FORMAT_CAPACITIES SCSI command. </p>

<p class="definition">Definition at line <a class="el" href="usb__msd_8c_source.html#l00113">113</a> of file <a class="el" href="usb__msd_8c_source.html">usb_msd.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="ab4a8288b516bfb3e063cee84596cefd6" name="ab4a8288b516bfb3e063cee84596cefd6"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
additional_length</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aaa75682c25393cbb453c71f4e85eebf4" name="aaa75682c25393cbb453c71f4e85eebf4"></a><a class="el" href="vl53l1__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>
<td class="fieldname">
block_count</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a98fe2fd47d54e2365775fd19fa44aa46" name="a98fe2fd47d54e2365775fd19fa44aa46"></a><a class="el" href="vl53l1__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>
<td class="fieldname">
block_size</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a2da98645fb3d10efdcba5551990d67ac" name="a2da98645fb3d10efdcba5551990d67ac"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
bqueetc</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a99fcc24f0c813aae22291588845ccb24" name="a99fcc24f0c813aae22291588845ccb24"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
byte[18]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a70eebd2d73abf7c27cdab993899a9b98" name="a70eebd2d73abf7c27cdab993899a9b98"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
capacity_list_length</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a588fcfed7253be4a4dddba1bdb26c541" name="a588fcfed7253be4a4dddba1bdb26c541"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
cmdque</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="af13fc9c3d0921d4411dce34202ac4fb0" name="af13fc9c3d0921d4411dce34202ac4fb0"></a><a class="el" href="vl53l1__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>
<td class="fieldname">
data_len</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ab72cfc2c25b71978214cb3bbf3a1c86e" name="ab72cfc2c25b71978214cb3bbf3a1c86e"></a><a class="el" href="vl53l1__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>
<td class="fieldname">
data_residue</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ad183ea74d69244b1f1b93b15d66f844d" name="ad183ea74d69244b1f1b93b15d66f844d"></a><a class="el" href="vl53l1__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>
<td class="fieldname">
desc_and_block_length</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aa4664fc8b7e7ddcee969c03dd75aa750" name="aa4664fc8b7e7ddcee969c03dd75aa750"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
flags</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a08073f34408447bfef2493079ae60056" name="a08073f34408447bfef2493079ae60056"></a><a class="el" href="vl53l1__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>
<td class="fieldname">
last_block_addr</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="af653f73833cb63dd9f63c6c1560cb680" name="af653f73833cb63dd9f63c6c1560cb680"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
lun</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a5939f9d8deec63da06e6524464b33024" name="a5939f9d8deec63da06e6524464b33024"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
peripheral</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a8488daa2cb4fff5a05ef7bbb8ee08c47" name="a8488daa2cb4fff5a05ef7bbb8ee08c47"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
product_id[16]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a6f1e33a17d223e63d935a13044b57c6f" name="a6f1e33a17d223e63d935a13044b57c6f"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
product_rev[4]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a5a5bf1b036ef3cf592ffed61d25a4a6b" name="a5a5bf1b036ef3cf592ffed61d25a4a6b"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
removable</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a1be8756e170dd4da2bfb02b29e592571" name="a1be8756e170dd4da2bfb02b29e592571"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
reserved[3]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a5734cf58d57772cb22dfc9bd0e5ebf11" name="a5734cf58d57772cb22dfc9bd0e5ebf11"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
response_data_format</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="abda78e1e184922a01a2fc60202ef87f0" name="abda78e1e184922a01a2fc60202ef87f0"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
sccstp</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aacf987189dde3572b3025d500f840605" name="aacf987189dde3572b3025d500f840605"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
scsi_cmd_data[16]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a80640099f09d83a387c9dc17b80f22a2" name="a80640099f09d83a387c9dc17b80f22a2"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
scsi_cmd_len</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a1eabd7c410af9a84a4a3499c0bef5415" name="a1eabd7c410af9a84a4a3499c0bef5415"></a><a class="el" href="vl53l1__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>
<td class="fieldname">
signature</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a762bdaf063c4380c7bae0e4d9cca229b" name="a762bdaf063c4380c7bae0e4d9cca229b"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
status</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aa54a0b0518e642c1db41c6686467d26d" name="aa54a0b0518e642c1db41c6686467d26d"></a><a class="el" href="vl53l1__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>
<td class="fieldname">
tag</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a933776637519607cb4422a6e36d8dac4" name="a933776637519607cb4422a6e36d8dac4"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
vendor_id[8]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a650f062b433f703dbdc7cdde3a652d9b" name="a650f062b433f703dbdc7cdde3a652d9b"></a><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
<td class="fieldname">
version</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="structUSBMassStorageDriver" id="structUSBMassStorageDriver"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structUSBMassStorageDriver">&#9670;&#160;</a></span>USBMassStorageDriver</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct USBMassStorageDriver</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>USB mass storage driver structure. </p>
<p>This structure holds all the states and members of a USB mass storage driver. </p>

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00172">172</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>
</div><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Collaboration diagram for USBMassStorageDriver:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structUSBMassStorageDriver__coll__graph.png" border="0" usemap="#aUSBMassStorageDriver_coll__map" alt="Collaboration graph"/></div>
<map name="aUSBMassStorageDriver_coll__map" id="aUSBMassStorageDriver_coll__map">
<area shape="rect" title="USB mass storage driver structure." alt="" coords="6,93,179,119"/>
<area shape="rect" href="structUSBMassStorageConfig.html" title="Driver configuration structure." alt="" coords="5,5,180,31"/>
<area shape="poly" title=" " alt="" coords="95,45,95,93,90,93,90,45"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a402f497cd69bea5b86f7e8536014964a" name="a402f497cd69bea5b86f7e8536014964a"></a><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">BlockDeviceInfo</a></td>
<td class="fieldname">
block_dev_info</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ae4a1e5224b0304e356d9ac3f13a0c00e" name="ae4a1e5224b0304e356d9ac3f13a0c00e"></a><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">bool</a></td>
<td class="fieldname">
bot_reset</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="af7ba7653c1de371ae7173272b7f20c6e" name="af7ba7653c1de371ae7173272b7f20c6e"></a><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">binary_semaphore_t</a></td>
<td class="fieldname">
bsem</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a17205ca7da04b2dd245d4b8830a4c1b0" name="a17205ca7da04b2dd245d4b8830a4c1b0"></a><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">msd_cbw_t</a></td>
<td class="fieldname">
cbw</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a14e13977e7420c10f170e738a82eefbe" name="a14e13977e7420c10f170e738a82eefbe"></a><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">const</a> <a class="el" href="structUSBMassStorageConfig.html">USBMassStorageConfig</a> *</td>
<td class="fieldname">
config</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ab19a459d95b1b47cb5232c44c3473657" name="ab19a459d95b1b47cb5232c44c3473657"></a><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">msd_csw_t</a></td>
<td class="fieldname">
csw</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aa0ce70869b31fb09af307f4d29615d00" name="aa0ce70869b31fb09af307f4d29615d00"></a><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">event_source_t</a></td>
<td class="fieldname">
evt_connected</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a70c561c7726d42092e0b27c479b7cb70" name="a70c561c7726d42092e0b27c479b7cb70"></a><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">event_source_t</a></td>
<td class="fieldname">
evt_ejected</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a8a468fc28f3fae3cc307a5081a29397a" name="a8a468fc28f3fae3cc307a5081a29397a"></a><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">msd_scsi_inquiry_response_t</a></td>
<td class="fieldname">
inquiry</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a1ce213f8139ef38c8047e4f52a6f0ed5" name="a1ce213f8139ef38c8047e4f52a6f0ed5"></a><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">bool</a></td>
<td class="fieldname">
reconfigured_or_reset_event</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a1e0d3db4e8a0c7b8d46611b45f7d9254" name="a1e0d3db4e8a0c7b8d46611b45f7d9254"></a><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">bool</a></td>
<td class="fieldname">
result</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a1559b3e1d8867ed3f0c75b6e87f097fc" name="a1559b3e1d8867ed3f0c75b6e87f097fc"></a><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">msd_scsi_sense_response_t</a></td>
<td class="fieldname">
sense</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a52f7b107fe3f584294fdd1a01811ecbc" name="a52f7b107fe3f584294fdd1a01811ecbc"></a><a class="el" href="usb__msd_8h.html#af8cb4deefd2af9bde489fe8598e8aa96">msd_state_t</a></td>
<td class="fieldname">
state</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aea18c9ecb77f3d881146e80c12e550ec" name="aea18c9ecb77f3d881146e80c12e550ec"></a><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">thread_t</a> *</td>
<td class="fieldname">
thread</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a8aff3cb65bed52e7fba0f0ce8a5be8c2" name="a8aff3cb65bed52e7fba0f0ce8a5be8c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8aff3cb65bed52e7fba0f0ce8a5be8c2">&#9670;&#160;</a></span>EVT_BOT_RESET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> EVT_BOT_RESET&#160;&#160;&#160;(1 &lt;&lt; 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00050">50</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>

</div>
</div>
<a id="a0d3dabd24a7f6db7c2a29078f2f717fc" name="a0d3dabd24a7f6db7c2a29078f2f717fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d3dabd24a7f6db7c2a29078f2f717fc">&#9670;&#160;</a></span>EVT_SCSI_PROC_INQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> EVT_SCSI_PROC_INQ&#160;&#160;&#160;(1 &lt;&lt; 12)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00061">61</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>

</div>
</div>
<a id="a6daad749a37883d7d2aea6fc6d2879e9" name="a6daad749a37883d7d2aea6fc6d2879e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6daad749a37883d7d2aea6fc6d2879e9">&#9670;&#160;</a></span>EVT_SCSI_REQ_READ_CAP10</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> EVT_SCSI_REQ_READ_CAP10&#160;&#160;&#160;(1 &lt;&lt; 11)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00060">60</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>

</div>
</div>
<a id="a76ee1e17df8ca5f9e41c104a01749e17" name="a76ee1e17df8ca5f9e41c104a01749e17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76ee1e17df8ca5f9e41c104a01749e17">&#9670;&#160;</a></span>EVT_SCSI_REQ_READ_FMT_CAP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> EVT_SCSI_REQ_READ_FMT_CAP&#160;&#160;&#160;(1 &lt;&lt; 6)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00055">55</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>

</div>
</div>
<a id="ac21ca5d51905e33fd430b3894eba6bb2" name="ac21ca5d51905e33fd430b3894eba6bb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac21ca5d51905e33fd430b3894eba6bb2">&#9670;&#160;</a></span>EVT_SCSI_REQ_SEND_DIAGNOSTIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> EVT_SCSI_REQ_SEND_DIAGNOSTIC&#160;&#160;&#160;(1 &lt;&lt; 10)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00059">59</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>

</div>
</div>
<a id="acf04136ec87eacae5877bc3124ca3660" name="acf04136ec87eacae5877bc3124ca3660"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf04136ec87eacae5877bc3124ca3660">&#9670;&#160;</a></span>EVT_SCSI_REQ_SENSE10</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> EVT_SCSI_REQ_SENSE10&#160;&#160;&#160;(1 &lt;&lt; 8)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00057">57</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>

</div>
</div>
<a id="a79d6f971d080ccbbc652501f2d244b59" name="a79d6f971d080ccbbc652501f2d244b59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79d6f971d080ccbbc652501f2d244b59">&#9670;&#160;</a></span>EVT_SCSI_REQ_SENSE6</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> EVT_SCSI_REQ_SENSE6&#160;&#160;&#160;(1 &lt;&lt; 7)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00056">56</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>

</div>
</div>
<a id="a1815bc5255cc566b0752790f513e9082" name="a1815bc5255cc566b0752790f513e9082"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1815bc5255cc566b0752790f513e9082">&#9670;&#160;</a></span>EVT_SCSI_REQ_TEST_UNIT_READY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> EVT_SCSI_REQ_TEST_UNIT_READY&#160;&#160;&#160;(1 &lt;&lt; 5)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00054">54</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>

</div>
</div>
<a id="a8c818220fd75a9bd9ebb4555040dd744" name="a8c818220fd75a9bd9ebb4555040dd744"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c818220fd75a9bd9ebb4555040dd744">&#9670;&#160;</a></span>EVT_SEM_RELEASED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> EVT_SEM_RELEASED&#160;&#160;&#160;(1 &lt;&lt; 3)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00052">52</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>

</div>
</div>
<a id="a5f7321aed43043033c29841c3b115a26" name="a5f7321aed43043033c29841c3b115a26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f7321aed43043033c29841c3b115a26">&#9670;&#160;</a></span>EVT_SEM_TAKEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> EVT_SEM_TAKEN&#160;&#160;&#160;(1 &lt;&lt; 2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00051">51</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>

</div>
</div>
<a id="a354fea57478245f2616bff6384e88395" name="a354fea57478245f2616bff6384e88395"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a354fea57478245f2616bff6384e88395">&#9670;&#160;</a></span>EVT_USB_CONFIGURED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> EVT_USB_CONFIGURED&#160;&#160;&#160;(1 &lt;&lt; 4)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00053">53</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>

</div>
</div>
<a id="ac28579335a8f21ae1dcef6d69fbb1359" name="ac28579335a8f21ae1dcef6d69fbb1359"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac28579335a8f21ae1dcef6d69fbb1359">&#9670;&#160;</a></span>EVT_USB_RESET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> EVT_USB_RESET&#160;&#160;&#160;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00049">49</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>

</div>
</div>
<a id="a5c540aeb2bb8743d2b5cdad48ccd4e31" name="a5c540aeb2bb8743d2b5cdad48ccd4e31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c540aeb2bb8743d2b5cdad48ccd4e31">&#9670;&#160;</a></span>EVT_WAIT_FOR_COMMAND_BLOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> EVT_WAIT_FOR_COMMAND_BLOCK&#160;&#160;&#160;(1 &lt;&lt; 9)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00058">58</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>

</div>
</div>
<a id="a73199061891adf1b912d20835c7d5e96" name="a73199061891adf1b912d20835c7d5e96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73199061891adf1b912d20835c7d5e96">&#9670;&#160;</a></span>PACK_STRUCT_BEGIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> PACK_STRUCT_BEGIN</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00036">36</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>

</div>
</div>
<a id="a465fef70f294e21cbf4ea51fc342f20e" name="a465fef70f294e21cbf4ea51fc342f20e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a465fef70f294e21cbf4ea51fc342f20e">&#9670;&#160;</a></span>PACK_STRUCT_END</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> PACK_STRUCT_END</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00037">37</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>

</div>
</div>
<a id="a33623da05bb55497534c3dc26ebebeb2" name="a33623da05bb55497534c3dc26ebebeb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33623da05bb55497534c3dc26ebebeb2">&#9670;&#160;</a></span>PACK_STRUCT_STRUCT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> <a class="el" href="usb__msd_8h.html#structPACK__STRUCT__STRUCT">PACK_STRUCT_STRUCT</a>&#160;&#160;&#160;<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">__attribute__</a>((<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">packed</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00035">35</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>

</div>
</div>
<a id="a110d77005fa222585a16a066c6a88a9a" name="a110d77005fa222585a16a066c6a88a9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a110d77005fa222585a16a066c6a88a9a">&#9670;&#160;</a></span>SEM_RELEASED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> SEM_RELEASED</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00047">47</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>

</div>
</div>
<a id="aa1f1d4210dd9ee3f7d15f20c1807bbf1" name="aa1f1d4210dd9ee3f7d15f20c1807bbf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1f1d4210dd9ee3f7d15f20c1807bbf1">&#9670;&#160;</a></span>SEM_TAKEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> SEM_TAKEN</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00046">46</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>

</div>
</div>
<a id="a73e814d361e117119a425401b39dd7ad" name="a73e814d361e117119a425401b39dd7ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73e814d361e117119a425401b39dd7ad">&#9670;&#160;</a></span>USB_MS_DATA_EP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> USB_MS_DATA_EP&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00040">40</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>

</div>
</div>
<a id="aa4d0bb7007c58f544db6f34c4effa9aa" name="aa4d0bb7007c58f544db6f34c4effa9aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4d0bb7007c58f544db6f34c4effa9aa">&#9670;&#160;</a></span>USBD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> USBD&#160;&#160;&#160;<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">USBD1</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00044">44</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="af8cb4deefd2af9bde489fe8598e8aa96" name="af8cb4deefd2af9bde489fe8598e8aa96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8cb4deefd2af9bde489fe8598e8aa96">&#9670;&#160;</a></span>msd_state_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">enum</a> <a class="el" href="usb__msd_8h.html#af8cb4deefd2af9bde489fe8598e8aa96">msd_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Possible states for the USB mass storage driver. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="af8cb4deefd2af9bde489fe8598e8aa96ab2dbda3078000a12ac7081c970d450c0" name="af8cb4deefd2af9bde489fe8598e8aa96ab2dbda3078000a12ac7081c970d450c0"></a>MSD_IDLE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af8cb4deefd2af9bde489fe8598e8aa96a98979b5270ac73b425a1e8cb61756517" name="af8cb4deefd2af9bde489fe8598e8aa96a98979b5270ac73b425a1e8cb61756517"></a>MSD_READ_COMMAND_BLOCK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af8cb4deefd2af9bde489fe8598e8aa96aeba289dd2b410160fd64bd295a1dff96" name="af8cb4deefd2af9bde489fe8598e8aa96aeba289dd2b410160fd64bd295a1dff96"></a>MSD_EJECTED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af8cb4deefd2af9bde489fe8598e8aa96aed2697882eba38d731d53035c04b8f9e" name="af8cb4deefd2af9bde489fe8598e8aa96aed2697882eba38d731d53035c04b8f9e"></a>MSD_BOT_RESET&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="usb__msd_8h_source.html#l00113">113</a> of file <a class="el" href="usb__msd_8h_source.html">usb_msd.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af6995e11a18decb9478ad798000d60ca" name="af6995e11a18decb9478ad798000d60ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6995e11a18decb9478ad798000d60ca">&#9670;&#160;</a></span>deinit_msd_driver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> deinit_msd_driver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8c_source.html#l01121">1121</a> of file <a class="el" href="usb__msd_8c_source.html">usb_msd.c</a>.</p>

<p class="reference">References <a class="el" href="usb__msd_8c_source.html#l00900">msdStop()</a>, and <a class="el" href="usb__msd_8c_source.html#l00033">UMSD</a>.</p>

<p class="reference">Referenced by <a class="el" href="usbStorage_8c_source.html#l00100">thdUsbStorage()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="usb__msd_8h_af6995e11a18decb9478ad798000d60ca_cgraph.png" border="0" usemap="#ausb__msd_8h_af6995e11a18decb9478ad798000d60ca_cgraph" alt=""/></div>
<map name="ausb__msd_8h_af6995e11a18decb9478ad798000d60ca_cgraph" id="ausb__msd_8h_af6995e11a18decb9478ad798000d60ca_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,144,31"/>
<area shape="rect" href="usb__msd_8c.html#aaa1c1d04bba912b3ae2b6806f8ed4fdc" title="Stops a USB mass storage driver." alt="" coords="192,5,271,31"/>
<area shape="poly" title=" " alt="" coords="144,15,178,15,178,21,144,21"/>
</map>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="usb__msd_8h_af6995e11a18decb9478ad798000d60ca_icgraph.png" border="0" usemap="#ausb__msd_8h_af6995e11a18decb9478ad798000d60ca_icgraph" alt=""/></div>
<map name="ausb__msd_8h_af6995e11a18decb9478ad798000d60ca_icgraph" id="ausb__msd_8h_af6995e11a18decb9478ad798000d60ca_icgraph">
<area shape="rect" title=" " alt="" coords="577,5,716,31"/>
<area shape="rect" href="usbStorage_8c.html#a03e36a472f457f472fc7031d798eac45" title=" " alt="" coords="411,5,529,31"/>
<area shape="poly" title=" " alt="" coords="563,21,530,21,530,15,563,15"/>
<area shape="rect" href="usbStorage_8c.html#a12081a3972cd8a738a527d104c647665" title=" " alt="" coords="192,5,363,31"/>
<area shape="poly" title=" " alt="" coords="397,21,363,21,363,15,397,15"/>
<area shape="rect" href="sdlog__chibios_8c.html#aeeba7682db35a9becddc07935f5d256a" title=" " alt="" coords="5,5,144,31"/>
<area shape="poly" title=" " alt="" coords="178,21,144,21,144,15,178,15"/>
</map>
</div>

</div>
</div>
<a id="a2c07ac4c24d02f56c726c38477e98b01" name="a2c07ac4c24d02f56c726c38477e98b01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c07ac4c24d02f56c726c38477e98b01">&#9670;&#160;</a></span>init_msd_driver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> init_msd_driver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> *&#160;</td>
          <td class="paramname"><em>dbgThreadPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structUSBMassStorageConfig.html">USBMassStorageConfig</a> *&#160;</td>
          <td class="paramname"><em>msdConfig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="usb__msd_8c_source.html#l01126">1126</a> of file <a class="el" href="usb__msd_8c_source.html">usb_msd.c</a>.</p>

<p class="reference">References <a class="el" href="usb__msd_8c_source.html#l00109">dbg_printer</a>, <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>, <a class="el" href="usbStorage_8c_source.html#l00064">msdConfig</a>, <a class="el" href="usb__msd_8c_source.html#l00815">msdInit()</a>, <a class="el" href="usb__msd_8c_source.html#l00855">msdStart()</a>, <a class="el" href="usb__msd_8c_source.html#l00033">UMSD</a>, <a class="el" href="usb__msd_8c_source.html#l01112">usbConfig</a>, and <a class="el" href="usb__msd_8h_source.html#l00044">USBD</a>.</p>

<p class="reference">Referenced by <a class="el" href="usbStorage_8c_source.html#l00100">thdUsbStorage()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="usb__msd_8h_a2c07ac4c24d02f56c726c38477e98b01_cgraph.png" border="0" usemap="#ausb__msd_8h_a2c07ac4c24d02f56c726c38477e98b01_cgraph" alt=""/></div>
<map name="ausb__msd_8h_a2c07ac4c24d02f56c726c38477e98b01_cgraph" id="ausb__msd_8h_a2c07ac4c24d02f56c726c38477e98b01_cgraph">
<area shape="rect" title=" " alt="" coords="5,707,128,733"/>
<area shape="rect" href="usb__msd_8c.html#a9030d48fbe74f8689d41984bd08edf51" title="Initializse a USB mass storage driver." alt="" coords="181,682,252,707"/>
<area shape="poly" title=" " alt="" coords="128,707,167,700,168,706,129,712"/>
<area shape="rect" href="usb__msd_8c.html#a7889b266f8bf0e0063afd3546cd02439" title="Starts a USB mass storage driver." alt="" coords="176,731,257,757"/>
<area shape="poly" title=" " alt="" coords="129,727,163,733,162,738,128,732"/>
<area shape="rect" href="usb__msd_8c.html#a218498e8fe29b8470ad71b25f61ca783" title=" " alt="" coords="321,682,452,707"/>
<area shape="poly" title=" " alt="" coords="252,692,308,692,308,697,252,697"/>
<area shape="rect" href="usb__msd_8c.html#afae8af1112e8706a2abac1033b431d1a" title="Mass storage thread that processes commands." alt="" coords="305,731,468,757"/>
<area shape="poly" title=" " alt="" coords="258,741,292,741,292,747,258,747"/>
<area shape="rect" href="usb__msd_8c.html#aae86072280e1c9c74809a1657712bc8b" title="Reads a newly received command block." alt="" coords="516,370,716,395"/>
<area shape="poly" title=" " alt="" coords="447,729,466,717,499,681,527,641,550,598,569,554,595,471,608,408,613,410,600,472,574,556,555,600,532,644,503,685,470,721,450,733"/>
<area shape="rect" href="usb__msd_8c.html#a9eccc1c15eed8fd3b53c7692c2b359b1" title="Changes the SCSI sense information." alt="" coords="1007,530,1161,555"/>
<area shape="poly" title=" " alt="" coords="433,754,535,776,601,784,672,788,747,786,821,775,892,754,925,738,957,719,970,708,978,697,985,673,990,645,1004,615,1028,586,1053,563,1057,567,1032,590,1009,617,995,647,990,674,982,700,974,712,960,724,928,743,894,759,822,780,747,791,672,794,600,789,534,781,432,759"/>
<area shape="rect" href="usb__msd_8c.html#a3b8762ec274b71960bc00505e3668ed5" title="Wait until the end&#45;point interrupt handler has been called." alt="" coords="1017,682,1151,707"/>
<area shape="poly" title=" " alt="" coords="406,755,454,786,484,802,517,813,640,845,692,855,741,860,789,859,839,852,894,837,958,814,991,794,1021,769,1065,717,1069,720,1025,773,994,799,960,818,896,842,840,857,789,864,740,865,691,860,639,850,515,819,482,807,451,791,403,759"/>
<area shape="rect" href="usb__msd_8c.html#aa1850fad33df3daf4aee4757e87be5b3" title="Waits for a new command block." alt="" coords="770,669,953,709"/>
<area shape="poly" title=" " alt="" coords="468,732,756,699,757,704,468,737"/>
<area shape="rect" href="usb__msd_8c.html#a48c18c077f1b99cd4f0530f8b02007fc" title="Processes an INQUIRY SCSI command." alt="" coords="766,313,957,338"/>
<area shape="poly" title=" " alt="" coords="671,367,793,339,794,344,672,373"/>
<area shape="poly" title=" " alt="" coords="624,395,639,438,667,497,686,528,709,558,735,584,765,604,815,624,858,627,903,618,958,604,1009,585,1052,561,1055,565,1011,590,959,609,904,624,859,632,814,629,763,609,732,588,705,561,682,531,662,500,634,440,618,396"/>
<area shape="rect" href="usb__msd_8c.html#a0074e59868c631d2f665ee9d32e316cd" title="Starts sending data." alt="" coords="1009,255,1159,281"/>
<area shape="poly" title=" " alt="" coords="623,368,643,338,675,300,715,262,763,234,799,222,836,216,874,215,912,218,982,231,1039,248,1037,253,981,236,911,223,874,221,837,222,800,227,765,238,718,266,679,304,648,341,627,371"/>
<area shape="rect" href="usb__msd_8c.html#a751915d3ec433652970157ec1602eab4" title="Processes a MODE_SENSE_6 SCSI command." alt="" coords="770,248,953,288"/>
<area shape="poly" title=" " alt="" coords="636,368,692,334,763,298,781,290,783,295,765,302,694,339,638,372"/>
<area shape="rect" href="usb__msd_8c.html#a8ebbd37f54610b397906cd1166e978b3" title="Processes a READ_CAPACITY_10 SCSI command." alt="" coords="774,69,949,109"/>
<area shape="poly" title=" " alt="" coords="618,369,634,322,663,255,705,183,732,149,762,119,769,114,772,119,766,123,736,152,709,186,667,257,639,324,623,370"/>
<area shape="rect" href="usb__msd_8c.html#accb6f6c3de04140ad134fa859874f48e" title="Processes a READ_FORMAT_CAPACITIES SCSI command." alt="" coords="774,5,949,45"/>
<area shape="poly" title=" " alt="" coords="617,369,629,313,654,229,674,182,698,136,727,93,762,55,768,51,771,55,766,59,731,97,702,139,679,185,659,231,634,314,622,370"/>
<area shape="rect" href="usb__msd_8c.html#adcf34e8664fce2f0676aa631a73e53f3" title="Processes a REQUEST_SENSE SCSI command." alt="" coords="764,427,959,467"/>
<area shape="poly" title=" " alt="" coords="667,393,771,420,770,426,665,398"/>
<area shape="poly" title=" " alt="" coords="621,395,629,457,651,548,669,597,694,644,726,685,765,719,799,736,835,745,873,748,911,745,983,730,1042,710,1044,715,985,735,912,751,873,753,834,750,797,741,763,724,722,689,690,646,665,599,646,550,623,458,616,396"/>
<area shape="rect" href="usb__msd_8c.html#adde97b16d8281aeca3a016ce27fd4c24" title="Processes a SEND_DIAGNOSTIC SCSI command." alt="" coords="773,555,950,595"/>
<area shape="poly" title=" " alt="" coords="628,394,680,463,720,504,766,540,775,546,773,551,762,545,716,508,676,467,624,397"/>
<area shape="rect" href="usb__msd_8c.html#a7da9e934287148f0383b353ea8418318" title="Processes a READ_WRITE_10 SCSI command." alt="" coords="773,363,949,403"/>
<area shape="poly" title=" " alt="" coords="716,380,759,380,759,385,716,385"/>
<area shape="rect" href="usb__msd_8c.html#a9af0f1fa6a97cdd8d2c117fc7671aea0" title="Processes a START_STOP_UNIT SCSI command." alt="" coords="773,133,949,173"/>
<area shape="poly" title=" " alt="" coords="622,368,642,334,673,286,714,235,762,190,783,177,785,182,766,194,718,239,677,289,646,336,626,371"/>
<area shape="rect" href="usb__msd_8c.html#ad782b2c1e3b1a66863b39eab0a301b2d" title="Processes a TEST_UNIT_READY SCSI command." alt="" coords="776,491,947,531"/>
<area shape="poly" title=" " alt="" coords="635,393,691,433,765,476,781,483,779,488,763,481,688,438,632,398"/>
<area shape="rect" href="usb__msd_8c.html#ad07c9360f29e619d5e4d4e9e4b28cb3d" title=" " alt="" coords="1015,313,1153,338"/>
<area shape="poly" title=" " alt="" coords="957,323,1001,323,1001,328,957,328"/>
<area shape="poly" title=" " alt="" coords="936,336,960,349,988,378,1019,424,1072,516,1067,519,1014,426,983,381,957,353,934,340"/>
<area shape="poly" title=" " alt="" coords="911,310,1020,282,1021,287,912,315"/>
<area shape="poly" title=" " alt="" coords="940,285,1021,307,1020,312,939,291"/>
<area shape="poly" title=" " alt="" coords="953,265,996,265,996,271,953,271"/>
<area shape="poly" title=" " alt="" coords="946,107,961,119,977,141,984,163,986,206,988,248,994,269,1009,290,1026,304,1022,308,1005,294,990,271,982,249,981,206,979,164,972,144,957,123,942,112"/>
<area shape="poly" title=" " alt="" coords="938,107,960,119,995,148,1026,181,1070,242,1066,245,1022,184,992,152,957,124,936,112"/>
<area shape="rect" href="usb__msd_8c.html#a2c58af6d9b07129480e5c5c8f47a588a" title="Byte&#45;swap a 32 bits unsigned integer." alt="" coords="1032,77,1136,102"/>
<area shape="poly" title=" " alt="" coords="949,87,1018,87,1018,92,949,92"/>
<area shape="poly" title=" " alt="" coords="946,43,961,56,981,86,989,116,990,145,987,174,983,203,984,231,991,260,1009,290,1025,304,1021,308,1005,294,986,262,978,232,978,202,981,173,985,145,984,116,976,88,957,59,943,47"/>
<area shape="poly" title=" " alt="" coords="942,43,960,55,989,89,1020,140,1073,241,1068,244,1015,142,984,92,957,59,939,48"/>
<area shape="poly" title=" " alt="" coords="932,43,1026,70,1025,75,931,48"/>
<area shape="poly" title=" " alt="" coords="941,424,957,413,969,399,975,386,981,357,986,328,993,313,1005,298,1023,285,1026,289,1009,302,997,316,991,330,986,358,980,387,973,402,960,417,944,429"/>
<area shape="poly" title=" " alt="" coords="946,465,961,477,978,501,985,525,986,571,986,618,993,640,1009,664,1020,673,1016,677,1005,667,988,643,981,618,981,572,980,526,973,503,957,480,942,469"/>
<area shape="rect" href="usb__msd_8c.html#a24a678ea6bcd105c46f97ccc813d146b" title=" " alt="" coords="1209,682,1352,707"/>
<area shape="poly" title=" " alt="" coords="1151,692,1196,692,1196,697,1151,697"/>
<area shape="poly" title=" " alt="" coords="950,559,993,553,993,558,951,565"/>
<area shape="poly" title=" " alt="" coords="939,360,1020,339,1021,344,940,365"/>
<area shape="poly" title=" " alt="" coords="937,400,960,412,993,437,1023,465,1067,517,1063,521,1019,468,989,441,957,417,934,405"/>
<area shape="poly" title=" " alt="" coords="932,360,957,347,972,335,981,323,990,311,1005,298,1030,284,1033,289,1008,302,994,314,985,327,975,339,960,352,934,365"/>
<area shape="poly" title=" " alt="" coords="938,360,957,347,977,323,986,300,993,273,1004,242,1067,113,1072,116,1009,244,998,275,991,301,982,326,960,351,941,365"/>
<area shape="poly" title=" " alt="" coords="946,401,961,413,982,445,990,477,990,509,986,540,982,570,982,601,989,632,1009,664,1019,673,1015,677,1005,667,984,634,976,602,977,570,981,539,985,508,985,478,977,447,957,416,943,405"/>
<area shape="rect" href="usb__msd_8c.html#a9f5b2ca0047c96b2b13cb1d89ba3fc73" title="Starts receiving data." alt="" coords="1013,629,1155,654"/>
<area shape="poly" title=" " alt="" coords="945,401,961,413,976,432,984,450,990,487,993,524,999,544,1009,565,1031,594,1057,618,1053,622,1027,598,1004,568,994,546,988,525,985,487,979,452,971,435,957,417,942,405"/>
<area shape="rect" href="usb__msd_8c.html#a4676adea8c569b096bc971c208256e61" title="Byte&#45;swap a 16 bits unsigned integer." alt="" coords="1032,370,1136,395"/>
<area shape="poly" title=" " alt="" coords="950,380,1018,380,1018,385,950,385"/>
<area shape="poly" title=" " alt="" coords="941,488,957,477,969,462,976,448,981,418,985,387,992,371,1005,355,1022,342,1025,346,1009,359,997,374,991,389,986,419,981,450,973,465,960,481,944,493"/>
<area shape="poly" title=" " alt="" coords="947,520,994,527,993,532,947,526"/>
<area shape="poly" title=" " alt="" coords="894,667,928,640,956,605,972,571,977,539,975,478,972,449,975,419,984,388,1005,356,1019,342,1023,346,1009,359,989,390,980,420,978,449,980,478,983,539,977,572,961,608,931,644,897,671"/>
<area shape="poly" title=" " alt="" coords="952,667,1011,654,1012,660,953,672"/>
</map>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="usb__msd_8h_a2c07ac4c24d02f56c726c38477e98b01_icgraph.png" border="0" usemap="#ausb__msd_8h_a2c07ac4c24d02f56c726c38477e98b01_icgraph" alt=""/></div>
<map name="ausb__msd_8h_a2c07ac4c24d02f56c726c38477e98b01_icgraph" id="ausb__msd_8h_a2c07ac4c24d02f56c726c38477e98b01_icgraph">
<area shape="rect" title=" " alt="" coords="577,5,700,31"/>
<area shape="rect" href="usbStorage_8c.html#a03e36a472f457f472fc7031d798eac45" title=" " alt="" coords="411,5,529,31"/>
<area shape="poly" title=" " alt="" coords="563,21,530,21,530,15,563,15"/>
<area shape="rect" href="usbStorage_8c.html#a12081a3972cd8a738a527d104c647665" title=" " alt="" coords="192,5,363,31"/>
<area shape="poly" title=" " alt="" coords="397,21,363,21,363,15,397,15"/>
<area shape="rect" href="sdlog__chibios_8c.html#aeeba7682db35a9becddc07935f5d256a" title=" " alt="" coords="5,5,144,31"/>
<area shape="poly" title=" " alt="" coords="178,21,144,21,144,15,178,15"/>
</map>
</div>

</div>
</div>
<a id="a9ad360964cf29c17ffda4847ea88c2f3" name="a9ad360964cf29c17ffda4847ea88c2f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ad360964cf29c17ffda4847ea88c2f3">&#9670;&#160;</a></span>msd_register_evt_connected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> msd_register_evt_connected </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">event_listener_t</a> *&#160;</td>
          <td class="paramname"><em>elp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">eventmask_t</a>&#160;</td>
          <td class="paramname"><em>mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>register connected event source in local event mask </p>
<p>This function is a stub to chEvtRegisterMask </p>

<p class="definition">Definition at line <a class="el" href="usb__msd_8c_source.html#l01144">1144</a> of file <a class="el" href="usb__msd_8c_source.html">usb_msd.c</a>.</p>

<p class="reference">References <a class="el" href="usb__msd_8h_source.html#l00176">USBMassStorageDriver::evt_connected</a>, <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>, and <a class="el" href="usb__msd_8c_source.html#l00033">UMSD</a>.</p>

<p class="reference">Referenced by <a class="el" href="usbStorage_8c_source.html#l00100">thdUsbStorage()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="usb__msd_8h_a9ad360964cf29c17ffda4847ea88c2f3_icgraph.png" border="0" usemap="#ausb__msd_8h_a9ad360964cf29c17ffda4847ea88c2f3_icgraph" alt=""/></div>
<map name="ausb__msd_8h_a9ad360964cf29c17ffda4847ea88c2f3_icgraph" id="ausb__msd_8h_a9ad360964cf29c17ffda4847ea88c2f3_icgraph">
<area shape="rect" title="register connected event source in local event mask" alt="" coords="577,5,787,31"/>
<area shape="rect" href="usbStorage_8c.html#a03e36a472f457f472fc7031d798eac45" title=" " alt="" coords="411,5,529,31"/>
<area shape="poly" title=" " alt="" coords="564,21,530,21,530,15,564,15"/>
<area shape="rect" href="usbStorage_8c.html#a12081a3972cd8a738a527d104c647665" title=" " alt="" coords="192,5,363,31"/>
<area shape="poly" title=" " alt="" coords="397,21,363,21,363,15,397,15"/>
<area shape="rect" href="sdlog__chibios_8c.html#aeeba7682db35a9becddc07935f5d256a" title=" " alt="" coords="5,5,144,31"/>
<area shape="poly" title=" " alt="" coords="178,21,144,21,144,15,178,15"/>
</map>
</div>

</div>
</div>
<a id="a9b7ba2e93ad133f1b82f60ecf459eb8f" name="a9b7ba2e93ad133f1b82f60ecf459eb8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b7ba2e93ad133f1b82f60ecf459eb8f">&#9670;&#160;</a></span>msd_register_evt_ejected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> msd_register_evt_ejected </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">event_listener_t</a> *&#160;</td>
          <td class="paramname"><em>elp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">eventmask_t</a>&#160;</td>
          <td class="paramname"><em>mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>register ejected event source in local event mask </p>
<p>This function is a stub to chEvtRegisterMask ejected event is a logical event : when host unmount the filesystem, not a physical event (event is not sent in case of unplugged usb wire) </p>

<p class="definition">Definition at line <a class="el" href="usb__msd_8c_source.html#l01149">1149</a> of file <a class="el" href="usb__msd_8c_source.html">usb_msd.c</a>.</p>

<p class="reference">References <a class="el" href="usb__msd_8h_source.html#l00176">USBMassStorageDriver::evt_ejected</a>, <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>, and <a class="el" href="usb__msd_8c_source.html#l00033">UMSD</a>.</p>

</div>
</div>
<a id="a936ce0885a9388fd5a96f1a1f162e47e" name="a936ce0885a9388fd5a96f1a1f162e47e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a936ce0885a9388fd5a96f1a1f162e47e">&#9670;&#160;</a></span>msdConfigureHookI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> msdConfigureHookI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__msd_8h.html#structUSBMassStorageDriver">USBMassStorageDriver</a> *&#160;</td>
          <td class="paramname"><em>msdp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>USB device configured handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msdp</td><td>pointer to the <code><a class="el" href="usb__msd_8h.html#structUSBMassStorageDriver" title="USB mass storage driver structure.">USBMassStorageDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<p>@iclass </p>

<p class="definition">Definition at line <a class="el" href="usb__msd_8c_source.html#l00188">188</a> of file <a class="el" href="usb__msd_8c_source.html">usb_msd.c</a>.</p>

<p class="reference">References <a class="el" href="usb__msd_8c_source.html#l00930">debug_snd_evt_inl()</a>, <a class="el" href="usb__msd_8c_source.html#l00168">ep_data_config</a>, <a class="el" href="usb__msd_8h_source.html#l00052">EVT_SEM_RELEASED</a>, <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>, and <a class="el" href="usb__msd_8h_source.html#l00047">SEM_RELEASED</a>.</p>

<p class="reference">Referenced by <a class="el" href="usb__msd_8c_source.html#l00945">usbEvent()</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="usb__msd_8h_a936ce0885a9388fd5a96f1a1f162e47e_cgraph.png" border="0" usemap="#ausb__msd_8h_a936ce0885a9388fd5a96f1a1f162e47e_cgraph" alt=""/></div>
<map name="ausb__msd_8h_a936ce0885a9388fd5a96f1a1f162e47e_cgraph" id="ausb__msd_8h_a936ce0885a9388fd5a96f1a1f162e47e_cgraph">
<area shape="rect" title="USB device configured handler." alt="" coords="5,5,156,31"/>
<area shape="rect" href="usb__msd_8c.html#a24a678ea6bcd105c46f97ccc813d146b" title=" " alt="" coords="204,5,347,31"/>
<area shape="poly" title=" " alt="" coords="156,15,190,15,190,21,156,21"/>
</map>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="usb__msd_8h_a936ce0885a9388fd5a96f1a1f162e47e_icgraph.png" border="0" usemap="#ausb__msd_8h_a936ce0885a9388fd5a96f1a1f162e47e_icgraph" alt=""/></div>
<map name="ausb__msd_8h_a936ce0885a9388fd5a96f1a1f162e47e_icgraph" id="ausb__msd_8h_a936ce0885a9388fd5a96f1a1f162e47e_icgraph">
<area shape="rect" title="USB device configured handler." alt="" coords="136,5,287,31"/>
<area shape="rect" href="usb__msd_8c.html#a1ff1ec942dc13d30fc5c898a7c2388d8" title=" " alt="" coords="5,5,88,31"/>
<area shape="poly" title=" " alt="" coords="122,21,88,21,88,15,122,15"/>
</map>
</div>

</div>
</div>
<a id="a9030d48fbe74f8689d41984bd08edf51" name="a9030d48fbe74f8689d41984bd08edf51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9030d48fbe74f8689d41984bd08edf51">&#9670;&#160;</a></span>msdInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> msdInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__msd_8h.html#structUSBMassStorageDriver">USBMassStorageDriver</a> *&#160;</td>
          <td class="paramname"><em>msdp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a USB mass storage driver. </p>
<p>Initializes a USB mass storage driver. </p>

<p class="definition">Definition at line <a class="el" href="usb__msd_8c_source.html#l00815">815</a> of file <a class="el" href="usb__msd_8c_source.html">usb_msd.c</a>.</p>

<p class="reference">References <a class="el" href="usb__msd_8c_source.html#l00921">debug_snd_evt_i()</a>, <a class="el" href="usb__msd_8h_source.html#l00051">EVT_SEM_TAKEN</a>, <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>, and <a class="el" href="usb__msd_8h_source.html#l00114">MSD_IDLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="usb__msd_8c_source.html#l01126">init_msd_driver()</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="usb__msd_8h_a9030d48fbe74f8689d41984bd08edf51_cgraph.png" border="0" usemap="#ausb__msd_8h_a9030d48fbe74f8689d41984bd08edf51_cgraph" alt=""/></div>
<map name="ausb__msd_8h_a9030d48fbe74f8689d41984bd08edf51_cgraph" id="ausb__msd_8h_a9030d48fbe74f8689d41984bd08edf51_cgraph">
<area shape="rect" title="Initializes a USB mass storage driver." alt="" coords="5,5,76,31"/>
<area shape="rect" href="usb__msd_8c.html#a218498e8fe29b8470ad71b25f61ca783" title=" " alt="" coords="124,5,255,31"/>
<area shape="poly" title=" " alt="" coords="76,15,110,15,110,21,76,21"/>
</map>
</div>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="usb__msd_8h_a9030d48fbe74f8689d41984bd08edf51_icgraph.png" border="0" usemap="#ausb__msd_8h_a9030d48fbe74f8689d41984bd08edf51_icgraph" alt=""/></div>
<map name="ausb__msd_8h_a9030d48fbe74f8689d41984bd08edf51_icgraph" id="ausb__msd_8h_a9030d48fbe74f8689d41984bd08edf51_icgraph">
<area shape="rect" title="Initializes a USB mass storage driver." alt="" coords="748,5,819,31"/>
<area shape="rect" href="usb__msd_8c.html#a2c07ac4c24d02f56c726c38477e98b01" title=" " alt="" coords="577,5,700,31"/>
<area shape="poly" title=" " alt="" coords="735,21,700,21,700,15,735,15"/>
<area shape="rect" href="usbStorage_8c.html#a03e36a472f457f472fc7031d798eac45" title=" " alt="" coords="411,5,529,31"/>
<area shape="poly" title=" " alt="" coords="563,21,530,21,530,15,563,15"/>
<area shape="rect" href="usbStorage_8c.html#a12081a3972cd8a738a527d104c647665" title=" " alt="" coords="192,5,363,31"/>
<area shape="poly" title=" " alt="" coords="397,21,363,21,363,15,397,15"/>
<area shape="rect" href="sdlog__chibios_8c.html#aeeba7682db35a9becddc07935f5d256a" title=" " alt="" coords="5,5,144,31"/>
<area shape="poly" title=" " alt="" coords="178,21,144,21,144,15,178,15"/>
</map>
</div>

</div>
</div>
<a id="a1f3d62cc8e7c0a2085826d1bdb794b90" name="a1f3d62cc8e7c0a2085826d1bdb794b90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f3d62cc8e7c0a2085826d1bdb794b90">&#9670;&#160;</a></span>msdRequestsHook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">bool</a> msdRequestsHook </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">USBDriver</a> *&#160;</td>
          <td class="paramname"><em>usbp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default requests hook. </p>
<p>Applications wanting to use the Mass Storage over USB driver can use this function as requests hook in the USB configuration. The following requests are emulated:</p><ul>
<li>MSD_REQ_RESET.</li>
<li>MSD_GET_MAX_LUN.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">usbp</td><td>pointer to the <code>USBDriver</code> object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The hook status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Message handled internally. </td></tr>
    <tr><td class="paramname">false</td><td>Message not handled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">usbp</td><td>pointer to the <code>USBDriver</code> object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The hook status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Message handled internally. </td></tr>
    <tr><td class="paramname">false</td><td>Message not handled. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="usb__msd_8c_source.html#l00205">205</a> of file <a class="el" href="usb__msd_8c_source.html">usb_msd.c</a>.</p>

<p class="reference">References <a class="el" href="usb__msd_8h_source.html#l00185">USBMassStorageDriver::bot_reset</a>, <a class="el" href="usb__msd_8h_source.html#l00174">USBMassStorageDriver::bsem</a>, <a class="el" href="usb__msd_8h_source.html#l00137">USBMassStorageConfig::bulk_ep</a>, <a class="el" href="usb__msd_8h_source.html#l00173">USBMassStorageDriver::config</a>, <a class="el" href="usb__msd_8c_source.html#l00921">debug_snd_evt_i()</a>, <a class="el" href="usb__msd_8h_source.html#l00050">EVT_BOT_RESET</a>, <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>, <a class="el" href="usb__msd_8h_source.html#l00117">MSD_BOT_RESET</a>, <a class="el" href="usb__msd_8c_source.html#l00036">MSD_GET_MAX_LUN</a>, <a class="el" href="usb__msd_8c_source.html#l00035">MSD_REQ_RESET</a>, <a class="el" href="usb__msd_8c_source.html#l00045">MSD_SETUP_INDEX</a>, <a class="el" href="usb__msd_8c_source.html#l00046">MSD_SETUP_LENGTH</a>, <a class="el" href="usb__msd_8c_source.html#l00044">MSD_SETUP_VALUE</a>, <a class="el" href="usb__msd_8h_source.html#l00178">USBMassStorageDriver::state</a>, <a class="el" href="usb__msd_8c_source.html#l00033">UMSD</a>, and <a class="el" href="usb__msd_8h_source.html#l00127">USBMassStorageConfig::usbp</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="usb__msd_8h_a1f3d62cc8e7c0a2085826d1bdb794b90_cgraph.png" border="0" usemap="#ausb__msd_8h_a1f3d62cc8e7c0a2085826d1bdb794b90_cgraph" alt=""/></div>
<map name="ausb__msd_8h_a1f3d62cc8e7c0a2085826d1bdb794b90_cgraph" id="ausb__msd_8h_a1f3d62cc8e7c0a2085826d1bdb794b90_cgraph">
<area shape="rect" title="Default requests hook." alt="" coords="5,5,149,31"/>
<area shape="rect" href="usb__msd_8c.html#a218498e8fe29b8470ad71b25f61ca783" title=" " alt="" coords="197,5,328,31"/>
<area shape="poly" title=" " alt="" coords="150,15,184,15,184,21,150,21"/>
</map>
</div>

</div>
</div>
<a id="a7889b266f8bf0e0063afd3546cd02439" name="a7889b266f8bf0e0063afd3546cd02439"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7889b266f8bf0e0063afd3546cd02439">&#9670;&#160;</a></span>msdStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> msdStart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__msd_8h.html#structUSBMassStorageDriver">USBMassStorageDriver</a> *&#160;</td>
          <td class="paramname"><em>msdp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">const</a> <a class="el" href="structUSBMassStorageConfig.html">USBMassStorageConfig</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts a USB mass storage driver. </p>
<p>This function is sufficient to have USB mass storage running, it internally runs a thread that handles USB requests and transfers. The block device must be connected but no file system must be mounted, everything is handled by the host system. </p>

<p class="definition">Definition at line <a class="el" href="usb__msd_8c_source.html#l00855">855</a> of file <a class="el" href="usb__msd_8c_source.html">usb_msd.c</a>.</p>

<p class="reference">References <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00200">config</a>, <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>, <a class="el" href="usb__msd_8c_source.html#l01158">mass_storage_thread()</a>, and <a class="el" href="usb__msd_8h_source.html#l00114">MSD_IDLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="usb__msd_8c_source.html#l01126">init_msd_driver()</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="usb__msd_8h_a7889b266f8bf0e0063afd3546cd02439_cgraph.png" border="0" usemap="#ausb__msd_8h_a7889b266f8bf0e0063afd3546cd02439_cgraph" alt=""/></div>
<map name="ausb__msd_8h_a7889b266f8bf0e0063afd3546cd02439_cgraph" id="ausb__msd_8h_a7889b266f8bf0e0063afd3546cd02439_cgraph">
<area shape="rect" title="Starts a USB mass storage driver." alt="" coords="5,731,87,757"/>
<area shape="rect" href="usb__msd_8c.html#afae8af1112e8706a2abac1033b431d1a" title="Mass storage thread that processes commands." alt="" coords="135,731,297,757"/>
<area shape="poly" title=" " alt="" coords="87,741,121,741,121,747,87,747"/>
<area shape="rect" href="usb__msd_8c.html#aae86072280e1c9c74809a1657712bc8b" title="Reads a newly received command block." alt="" coords="345,370,545,395"/>
<area shape="poly" title=" " alt="" coords="223,730,427,405,431,408,228,733"/>
<area shape="rect" href="usb__msd_8c.html#a9eccc1c15eed8fd3b53c7692c2b359b1" title="Changes the SCSI sense information." alt="" coords="836,530,991,555"/>
<area shape="poly" title=" " alt="" coords="262,754,365,776,430,784,502,788,576,786,650,775,721,754,755,738,786,719,799,708,807,697,814,673,819,645,834,615,858,586,883,563,886,567,861,590,838,617,824,647,819,674,812,700,803,712,790,724,757,743,723,759,651,780,576,791,502,794,430,789,364,781,261,759"/>
<area shape="rect" href="usb__msd_8c.html#a3b8762ec274b71960bc00505e3668ed5" title="Wait until the end&#45;point interrupt handler has been called." alt="" coords="847,682,980,707"/>
<area shape="poly" title=" " alt="" coords="235,755,283,786,314,802,346,813,470,845,521,855,570,860,618,859,668,852,724,837,787,814,821,794,851,769,894,717,898,720,854,773,824,799,789,818,725,842,669,857,618,864,570,865,521,860,469,850,345,819,312,807,280,791,232,759"/>
<area shape="rect" href="usb__msd_8c.html#aa1850fad33df3daf4aee4757e87be5b3" title="Waits for a new command block." alt="" coords="599,669,782,709"/>
<area shape="poly" title=" " alt="" coords="297,732,585,699,586,704,298,737"/>
<area shape="rect" href="usb__msd_8c.html#a48c18c077f1b99cd4f0530f8b02007fc" title="Processes an INQUIRY SCSI command." alt="" coords="595,313,786,338"/>
<area shape="poly" title=" " alt="" coords="500,367,622,339,623,344,501,373"/>
<area shape="poly" title=" " alt="" coords="453,395,468,438,496,497,515,528,538,558,564,584,595,604,645,624,688,627,732,618,787,604,838,585,881,561,884,565,840,590,789,609,733,624,688,632,643,629,592,609,561,588,534,561,511,531,491,500,463,440,448,396"/>
<area shape="rect" href="usb__msd_8c.html#a0074e59868c631d2f665ee9d32e316cd" title="Starts sending data." alt="" coords="839,255,988,281"/>
<area shape="poly" title=" " alt="" coords="452,368,473,338,504,300,544,262,592,234,628,222,666,216,704,215,741,218,812,231,868,248,867,253,810,236,741,223,704,221,666,222,629,227,594,238,548,266,508,304,477,341,457,371"/>
<area shape="rect" href="usb__msd_8c.html#a751915d3ec433652970157ec1602eab4" title="Processes a MODE_SENSE_6 SCSI command." alt="" coords="599,248,782,288"/>
<area shape="poly" title=" " alt="" coords="465,368,521,334,592,298,610,290,612,295,594,302,524,339,468,372"/>
<area shape="rect" href="usb__msd_8c.html#a8ebbd37f54610b397906cd1166e978b3" title="Processes a READ_CAPACITY_10 SCSI command." alt="" coords="603,69,778,109"/>
<area shape="poly" title=" " alt="" coords="448,369,463,322,492,255,534,183,561,149,592,119,598,114,601,119,595,123,565,152,539,186,497,257,468,324,453,370"/>
<area shape="rect" href="usb__msd_8c.html#accb6f6c3de04140ad134fa859874f48e" title="Processes a READ_FORMAT_CAPACITIES SCSI command." alt="" coords="603,5,778,45"/>
<area shape="poly" title=" " alt="" coords="446,369,458,313,484,229,503,182,527,136,556,93,592,55,597,51,601,55,595,59,561,97,532,139,508,185,489,231,463,314,451,370"/>
<area shape="rect" href="usb__msd_8c.html#adcf34e8664fce2f0676aa631a73e53f3" title="Processes a REQUEST_SENSE SCSI command." alt="" coords="593,427,788,467"/>
<area shape="poly" title=" " alt="" coords="496,393,601,420,599,426,495,398"/>
<area shape="poly" title=" " alt="" coords="450,395,458,457,480,548,499,597,523,644,555,685,595,719,628,736,665,745,702,748,740,745,813,730,871,710,873,715,814,735,741,751,702,753,664,750,626,741,592,724,551,689,519,646,494,599,475,550,453,458,445,396"/>
<area shape="rect" href="usb__msd_8c.html#adde97b16d8281aeca3a016ce27fd4c24" title="Processes a SEND_DIAGNOSTIC SCSI command." alt="" coords="602,555,779,595"/>
<area shape="poly" title=" " alt="" coords="457,394,510,463,549,504,595,540,605,546,602,551,592,545,546,508,506,467,453,397"/>
<area shape="rect" href="usb__msd_8c.html#a7da9e934287148f0383b353ea8418318" title="Processes a READ_WRITE_10 SCSI command." alt="" coords="603,363,779,403"/>
<area shape="poly" title=" " alt="" coords="545,380,589,380,589,385,545,385"/>
<area shape="rect" href="usb__msd_8c.html#a9af0f1fa6a97cdd8d2c117fc7671aea0" title="Processes a START_STOP_UNIT SCSI command." alt="" coords="603,133,779,173"/>
<area shape="poly" title=" " alt="" coords="451,368,471,334,502,286,543,235,592,190,612,177,615,182,595,194,547,239,507,289,476,336,456,371"/>
<area shape="rect" href="usb__msd_8c.html#ad782b2c1e3b1a66863b39eab0a301b2d" title="Processes a TEST_UNIT_READY SCSI command." alt="" coords="605,491,776,531"/>
<area shape="poly" title=" " alt="" coords="465,393,521,433,595,476,610,483,608,488,592,481,518,438,461,398"/>
<area shape="rect" href="usb__msd_8c.html#ad07c9360f29e619d5e4d4e9e4b28cb3d" title=" " alt="" coords="844,313,983,338"/>
<area shape="poly" title=" " alt="" coords="787,323,830,323,830,328,787,328"/>
<area shape="poly" title=" " alt="" coords="766,336,790,349,817,378,848,424,901,516,896,519,843,426,813,381,786,353,763,340"/>
<area shape="poly" title=" " alt="" coords="740,310,849,282,851,287,741,315"/>
<area shape="poly" title=" " alt="" coords="770,285,851,307,849,312,768,291"/>
<area shape="poly" title=" " alt="" coords="782,265,825,265,825,271,782,271"/>
<area shape="poly" title=" " alt="" coords="775,107,790,119,806,141,814,163,816,206,817,248,824,269,838,290,855,304,852,308,834,294,819,271,812,249,810,206,809,164,801,144,786,123,772,112"/>
<area shape="poly" title=" " alt="" coords="768,107,789,119,824,148,855,181,900,242,895,245,851,184,821,152,787,124,765,112"/>
<area shape="rect" href="usb__msd_8c.html#a2c58af6d9b07129480e5c5c8f47a588a" title="Byte&#45;swap a 32 bits unsigned integer." alt="" coords="861,77,965,102"/>
<area shape="poly" title=" " alt="" coords="778,87,847,87,847,92,778,92"/>
<area shape="poly" title=" " alt="" coords="776,43,790,56,810,86,819,116,819,145,816,174,813,203,813,231,820,260,838,290,854,304,850,308,834,294,815,262,808,232,807,202,811,173,814,145,813,116,805,88,786,59,772,47"/>
<area shape="poly" title=" " alt="" coords="771,43,790,55,818,89,849,140,902,241,898,244,845,142,814,92,786,59,768,48"/>
<area shape="poly" title=" " alt="" coords="762,43,856,70,854,75,760,48"/>
<area shape="poly" title=" " alt="" coords="770,424,786,413,798,399,805,386,810,357,815,328,822,313,834,298,852,285,855,289,838,302,827,316,820,330,815,358,810,387,802,402,790,417,773,429"/>
<area shape="poly" title=" " alt="" coords="775,465,790,477,807,501,815,525,815,571,815,618,822,640,838,664,849,673,846,677,834,667,818,643,810,618,810,572,810,526,802,503,786,480,772,469"/>
<area shape="rect" href="usb__msd_8c.html#a24a678ea6bcd105c46f97ccc813d146b" title=" " alt="" coords="1039,682,1181,707"/>
<area shape="poly" title=" " alt="" coords="980,692,1025,692,1025,697,980,697"/>
<area shape="poly" title=" " alt="" coords="779,559,822,553,823,558,780,565"/>
<area shape="poly" title=" " alt="" coords="768,360,849,339,851,344,770,365"/>
<area shape="poly" title=" " alt="" coords="766,400,789,412,822,437,852,465,897,517,893,521,848,468,819,441,787,417,764,405"/>
<area shape="poly" title=" " alt="" coords="761,360,787,347,801,335,810,323,820,311,834,298,860,284,862,289,838,302,823,314,814,327,805,339,789,352,764,365"/>
<area shape="poly" title=" " alt="" coords="768,360,786,347,806,323,816,300,822,273,834,242,897,113,901,116,838,244,827,275,821,301,811,326,790,351,771,365"/>
<area shape="poly" title=" " alt="" coords="776,401,790,413,811,445,819,477,820,509,815,540,811,570,811,601,819,632,838,664,848,673,845,677,834,667,814,634,806,602,806,570,810,539,814,508,814,478,806,447,786,416,772,405"/>
<area shape="rect" href="usb__msd_8c.html#a9f5b2ca0047c96b2b13cb1d89ba3fc73" title="Starts receiving data." alt="" coords="842,629,985,654"/>
<area shape="poly" title=" " alt="" coords="774,401,790,413,805,432,814,450,819,487,822,524,828,544,838,565,861,594,886,618,882,622,857,598,834,568,823,546,817,525,814,487,809,452,801,435,786,417,771,405"/>
<area shape="rect" href="usb__msd_8c.html#a4676adea8c569b096bc971c208256e61" title="Byte&#45;swap a 16 bits unsigned integer." alt="" coords="861,370,965,395"/>
<area shape="poly" title=" " alt="" coords="779,380,848,380,848,385,779,385"/>
<area shape="poly" title=" " alt="" coords="770,488,786,477,798,462,805,448,810,418,815,387,822,371,834,355,851,342,855,346,838,359,826,374,820,389,815,419,810,450,803,465,790,481,773,493"/>
<area shape="poly" title=" " alt="" coords="777,520,823,527,822,532,776,526"/>
<area shape="poly" title=" " alt="" coords="723,667,757,640,786,605,801,571,807,539,804,478,802,449,804,419,813,388,834,356,849,342,852,346,838,359,818,390,809,420,807,449,809,478,812,539,806,572,790,608,761,644,727,671"/>
<area shape="poly" title=" " alt="" coords="782,667,840,654,841,660,783,672"/>
</map>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="usb__msd_8h_a7889b266f8bf0e0063afd3546cd02439_icgraph.png" border="0" usemap="#ausb__msd_8h_a7889b266f8bf0e0063afd3546cd02439_icgraph" alt=""/></div>
<map name="ausb__msd_8h_a7889b266f8bf0e0063afd3546cd02439_icgraph" id="ausb__msd_8h_a7889b266f8bf0e0063afd3546cd02439_icgraph">
<area shape="rect" title="Starts a USB mass storage driver." alt="" coords="748,5,829,31"/>
<area shape="rect" href="usb__msd_8c.html#a2c07ac4c24d02f56c726c38477e98b01" title=" " alt="" coords="577,5,700,31"/>
<area shape="poly" title=" " alt="" coords="734,21,700,21,700,15,734,15"/>
<area shape="rect" href="usbStorage_8c.html#a03e36a472f457f472fc7031d798eac45" title=" " alt="" coords="411,5,529,31"/>
<area shape="poly" title=" " alt="" coords="563,21,530,21,530,15,563,15"/>
<area shape="rect" href="usbStorage_8c.html#a12081a3972cd8a738a527d104c647665" title=" " alt="" coords="192,5,363,31"/>
<area shape="poly" title=" " alt="" coords="397,21,363,21,363,15,397,15"/>
<area shape="rect" href="sdlog__chibios_8c.html#aeeba7682db35a9becddc07935f5d256a" title=" " alt="" coords="5,5,144,31"/>
<area shape="poly" title=" " alt="" coords="178,21,144,21,144,15,178,15"/>
</map>
</div>

</div>
</div>
<a id="aaa1c1d04bba912b3ae2b6806f8ed4fdc" name="aaa1c1d04bba912b3ae2b6806f8ed4fdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa1c1d04bba912b3ae2b6806f8ed4fdc">&#9670;&#160;</a></span>msdStop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> msdStop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__msd_8h.html#structUSBMassStorageDriver">USBMassStorageDriver</a> *&#160;</td>
          <td class="paramname"><em>msdp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops a USB mass storage driver. </p>
<p>This function waits for current tasks to be finished, if any, and then stops the mass storage thread. </p>

<p class="definition">Definition at line <a class="el" href="usb__msd_8c_source.html#l00900">900</a> of file <a class="el" href="usb__msd_8c_source.html">usb_msd.c</a>.</p>

<p class="reference">References <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>.</p>

<p class="reference">Referenced by <a class="el" href="usb__msd_8c_source.html#l01121">deinit_msd_driver()</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="usb__msd_8h_aaa1c1d04bba912b3ae2b6806f8ed4fdc_icgraph.png" border="0" usemap="#ausb__msd_8h_aaa1c1d04bba912b3ae2b6806f8ed4fdc_icgraph" alt=""/></div>
<map name="ausb__msd_8h_aaa1c1d04bba912b3ae2b6806f8ed4fdc_icgraph" id="ausb__msd_8h_aaa1c1d04bba912b3ae2b6806f8ed4fdc_icgraph">
<area shape="rect" title="Stops a USB mass storage driver." alt="" coords="764,5,843,31"/>
<area shape="rect" href="usb__msd_8c.html#af6995e11a18decb9478ad798000d60ca" title=" " alt="" coords="577,5,716,31"/>
<area shape="poly" title=" " alt="" coords="751,21,716,21,716,15,751,15"/>
<area shape="rect" href="usbStorage_8c.html#a03e36a472f457f472fc7031d798eac45" title=" " alt="" coords="411,5,529,31"/>
<area shape="poly" title=" " alt="" coords="563,21,530,21,530,15,563,15"/>
<area shape="rect" href="usbStorage_8c.html#a12081a3972cd8a738a527d104c647665" title=" " alt="" coords="192,5,363,31"/>
<area shape="poly" title=" " alt="" coords="397,21,363,21,363,15,397,15"/>
<area shape="rect" href="sdlog__chibios_8c.html#aeeba7682db35a9becddc07935f5d256a" title=" " alt="" coords="5,5,144,31"/>
<area shape="poly" title=" " alt="" coords="178,21,144,21,144,15,178,15"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_01fcd3835fb4e7d9331b722d86291b65.html">sw</a></li><li class="navelem"><a class="el" href="dir_5e9153041680afc3c016fd52fa730b56.html">airborne</a></li><li class="navelem"><a class="el" href="dir_c2abcdd6ccb39c3582929c0e3f5651c2.html">modules</a></li><li class="navelem"><a class="el" href="dir_cbf4be70f5fb954ea1d2a546dd70b40e.html">loggers</a></li><li class="navelem"><a class="el" href="dir_c27662836f6a804eadd3e3b5df5506a4.html">sdlog_chibios</a></li><li class="navelem"><a class="el" href="usb__msd_8h.html">usb_msd.h</a></li>
    <li class="footer">Generated on Tue Jun 17 2025 20:25:42 for Paparazzi UAS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>

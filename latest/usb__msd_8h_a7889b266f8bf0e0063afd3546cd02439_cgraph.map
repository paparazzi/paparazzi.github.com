<map id="msdStart" name="msdStart">
<area shape="rect" id="Node000001" title="Starts a USB mass storage driver." alt="" coords="5,731,87,757"/>
<area shape="rect" id="Node000002" href="$usb__msd_8c.html#afae8af1112e8706a2abac1033b431d1a" title="Mass storage thread that processes commands." alt="" coords="135,731,297,757"/>
<area shape="poly" id="edge1_Node000001_Node000002" title=" " alt="" coords="87,741,121,741,121,747,87,747"/>
<area shape="rect" id="Node000003" href="$usb__msd_8c.html#aae86072280e1c9c74809a1657712bc8b" title="Reads a newly received command block." alt="" coords="345,370,545,395"/>
<area shape="poly" id="edge2_Node000002_Node000003" title=" " alt="" coords="223,730,427,405,431,408,228,733"/>
<area shape="rect" id="Node000006" href="$usb__msd_8c.html#a9eccc1c15eed8fd3b53c7692c2b359b1" title="Changes the SCSI sense information." alt="" coords="836,530,991,555"/>
<area shape="poly" id="edge39_Node000002_Node000006" title=" " alt="" coords="262,754,365,776,430,784,502,788,576,786,650,775,721,754,755,738,786,719,799,708,807,697,814,673,819,645,834,615,858,586,883,563,886,567,861,590,838,617,824,647,819,674,812,700,803,712,790,724,757,743,723,759,651,780,576,791,502,794,430,789,364,781,261,759"/>
<area shape="rect" id="Node000013" href="$usb__msd_8c.html#a3b8762ec274b71960bc00505e3668ed5" title="Wait until the end&#45;point interrupt handler has been called." alt="" coords="847,682,980,707"/>
<area shape="poly" id="edge43_Node000002_Node000013" title=" " alt="" coords="235,755,283,786,314,802,346,813,470,845,521,855,570,860,618,859,668,852,724,837,787,814,821,794,851,769,894,717,898,720,854,773,824,799,789,818,725,842,669,857,618,864,570,865,521,860,469,850,345,819,312,807,280,791,232,759"/>
<area shape="rect" id="Node000021" href="$usb__msd_8c.html#aa1850fad33df3daf4aee4757e87be5b3" title="Waits for a new command block." alt="" coords="599,669,782,709"/>
<area shape="poly" id="edge40_Node000002_Node000021" title=" " alt="" coords="297,732,585,699,586,704,298,737"/>
<area shape="rect" id="Node000004" href="$usb__msd_8c.html#a48c18c077f1b99cd4f0530f8b02007fc" title="Processes an INQUIRY SCSI command." alt="" coords="595,313,786,338"/>
<area shape="poly" id="edge3_Node000003_Node000004" title=" " alt="" coords="500,367,622,339,623,344,501,373"/>
<area shape="poly" id="edge36_Node000003_Node000006" title=" " alt="" coords="453,395,468,438,496,497,515,528,538,558,564,584,595,604,645,624,688,627,732,618,787,604,838,585,881,561,884,565,840,590,789,609,733,624,688,632,643,629,592,609,561,588,534,561,511,531,491,500,463,440,448,396"/>
<area shape="rect" id="Node000007" href="$usb__msd_8c.html#a0074e59868c631d2f665ee9d32e316cd" title="Starts sending data." alt="" coords="839,255,988,281"/>
<area shape="poly" id="edge37_Node000003_Node000007" title=" " alt="" coords="452,368,473,338,504,300,544,262,592,234,628,222,666,216,704,215,741,218,812,231,868,248,867,253,810,236,741,223,704,221,666,222,629,227,594,238,548,266,508,304,477,341,457,371"/>
<area shape="rect" id="Node000008" href="$usb__msd_8c.html#a751915d3ec433652970157ec1602eab4" title="Processes a MODE_SENSE_6 SCSI command." alt="" coords="599,248,782,288"/>
<area shape="poly" id="edge7_Node000003_Node000008" title=" " alt="" coords="465,368,521,334,592,298,610,290,612,295,594,302,524,339,468,372"/>
<area shape="rect" id="Node000009" href="$usb__msd_8c.html#a8ebbd37f54610b397906cd1166e978b3" title="Processes a READ_CAPACITY_10 SCSI command." alt="" coords="603,69,778,109"/>
<area shape="poly" id="edge10_Node000003_Node000009" title=" " alt="" coords="448,369,463,322,492,255,534,183,561,149,592,119,598,114,601,119,595,123,565,152,539,186,497,257,468,324,453,370"/>
<area shape="rect" id="Node000011" href="$usb__msd_8c.html#accb6f6c3de04140ad134fa859874f48e" title="Processes a READ_FORMAT_CAPACITIES SCSI command." alt="" coords="603,5,778,45"/>
<area shape="poly" id="edge14_Node000003_Node000011" title=" " alt="" coords="446,369,458,313,484,229,503,182,527,136,556,93,592,55,597,51,601,55,595,59,561,97,532,139,508,185,489,231,463,314,451,370"/>
<area shape="rect" id="Node000012" href="$usb__msd_8c.html#adcf34e8664fce2f0676aa631a73e53f3" title="Processes a REQUEST_SENSE SCSI command." alt="" coords="593,427,788,467"/>
<area shape="poly" id="edge18_Node000003_Node000012" title=" " alt="" coords="496,393,601,420,599,426,495,398"/>
<area shape="poly" id="edge38_Node000003_Node000013" title=" " alt="" coords="450,395,458,457,480,548,499,597,523,644,555,685,595,719,628,736,665,745,702,748,740,745,813,730,871,710,873,715,814,735,741,751,702,753,664,750,626,741,592,724,551,689,519,646,494,599,475,550,453,458,445,396"/>
<area shape="rect" id="Node000015" href="$usb__msd_8c.html#adde97b16d8281aeca3a016ce27fd4c24" title="Processes a SEND_DIAGNOSTIC SCSI command." alt="" coords="602,555,779,595"/>
<area shape="poly" id="edge22_Node000003_Node000015" title=" " alt="" coords="457,394,510,463,549,504,595,540,605,546,602,551,592,545,546,508,506,467,453,397"/>
<area shape="rect" id="Node000016" href="$usb__msd_8c.html#a7da9e934287148f0383b353ea8418318" title="Processes a READ_WRITE_10 SCSI command." alt="" coords="603,363,779,403"/>
<area shape="poly" id="edge24_Node000003_Node000016" title=" " alt="" coords="545,380,589,380,589,385,545,385"/>
<area shape="rect" id="Node000019" href="$usb__msd_8c.html#a9af0f1fa6a97cdd8d2c117fc7671aea0" title="Processes a START_STOP_UNIT SCSI command." alt="" coords="603,133,779,173"/>
<area shape="poly" id="edge32_Node000003_Node000019" title=" " alt="" coords="451,368,471,334,502,286,543,235,592,190,612,177,615,182,595,194,547,239,507,289,476,336,456,371"/>
<area shape="rect" id="Node000020" href="$usb__msd_8c.html#ad782b2c1e3b1a66863b39eab0a301b2d" title="Processes a TEST_UNIT_READY SCSI command." alt="" coords="605,491,776,531"/>
<area shape="poly" id="edge33_Node000003_Node000020" title=" " alt="" coords="465,393,521,433,595,476,610,483,608,488,592,481,518,438,461,398"/>
<area shape="rect" id="Node000005" href="$usb__msd_8c.html#ad07c9360f29e619d5e4d4e9e4b28cb3d" title=" " alt="" coords="844,313,983,338"/>
<area shape="poly" id="edge4_Node000004_Node000005" title=" " alt="" coords="787,323,830,323,830,328,787,328"/>
<area shape="poly" id="edge5_Node000004_Node000006" title=" " alt="" coords="766,336,790,349,817,378,848,424,901,516,896,519,843,426,813,381,786,353,763,340"/>
<area shape="poly" id="edge6_Node000004_Node000007" title=" " alt="" coords="740,310,849,282,851,287,741,315"/>
<area shape="poly" id="edge8_Node000008_Node000005" title=" " alt="" coords="770,285,851,307,849,312,768,291"/>
<area shape="poly" id="edge9_Node000008_Node000007" title=" " alt="" coords="782,265,825,265,825,271,782,271"/>
<area shape="poly" id="edge11_Node000009_Node000005" title=" " alt="" coords="775,107,790,119,806,141,814,163,816,206,817,248,824,269,838,290,855,304,852,308,834,294,819,271,812,249,810,206,809,164,801,144,786,123,772,112"/>
<area shape="poly" id="edge12_Node000009_Node000007" title=" " alt="" coords="768,107,789,119,824,148,855,181,900,242,895,245,851,184,821,152,787,124,765,112"/>
<area shape="rect" id="Node000010" href="$usb__msd_8c.html#a2c58af6d9b07129480e5c5c8f47a588a" title="Byte&#45;swap a 32 bits unsigned integer." alt="" coords="861,77,965,102"/>
<area shape="poly" id="edge13_Node000009_Node000010" title=" " alt="" coords="778,87,847,87,847,92,778,92"/>
<area shape="poly" id="edge15_Node000011_Node000005" title=" " alt="" coords="776,43,790,56,810,86,819,116,819,145,816,174,813,203,813,231,820,260,838,290,854,304,850,308,834,294,815,262,808,232,807,202,811,173,814,145,813,116,805,88,786,59,772,47"/>
<area shape="poly" id="edge16_Node000011_Node000007" title=" " alt="" coords="771,43,790,55,818,89,849,140,902,241,898,244,845,142,814,92,786,59,768,48"/>
<area shape="poly" id="edge17_Node000011_Node000010" title=" " alt="" coords="762,43,856,70,854,75,760,48"/>
<area shape="poly" id="edge19_Node000012_Node000007" title=" " alt="" coords="770,424,786,413,798,399,805,386,810,357,815,328,822,313,834,298,852,285,855,289,838,302,827,316,820,330,815,358,810,387,802,402,790,417,773,429"/>
<area shape="poly" id="edge20_Node000012_Node000013" title=" " alt="" coords="775,465,790,477,807,501,815,525,815,571,815,618,822,640,838,664,849,673,846,677,834,667,818,643,810,618,810,572,810,526,802,503,786,480,772,469"/>
<area shape="rect" id="Node000014" href="$usb__msd_8c.html#a24a678ea6bcd105c46f97ccc813d146b" title=" " alt="" coords="1039,682,1181,707"/>
<area shape="poly" id="edge21_Node000013_Node000014" title=" " alt="" coords="980,692,1025,692,1025,697,980,697"/>
<area shape="poly" id="edge23_Node000015_Node000006" title=" " alt="" coords="779,559,822,553,823,558,780,565"/>
<area shape="poly" id="edge25_Node000016_Node000005" title=" " alt="" coords="768,360,849,339,851,344,770,365"/>
<area shape="poly" id="edge26_Node000016_Node000006" title=" " alt="" coords="766,400,789,412,822,437,852,465,897,517,893,521,848,468,819,441,787,417,764,405"/>
<area shape="poly" id="edge28_Node000016_Node000007" title=" " alt="" coords="761,360,787,347,801,335,810,323,820,311,834,298,860,284,862,289,838,302,823,314,814,327,805,339,789,352,764,365"/>
<area shape="poly" id="edge31_Node000016_Node000010" title=" " alt="" coords="768,360,786,347,806,323,816,300,822,273,834,242,897,113,901,116,838,244,827,275,821,301,811,326,790,351,771,365"/>
<area shape="poly" id="edge29_Node000016_Node000013" title=" " alt="" coords="776,401,790,413,811,445,819,477,820,509,815,540,811,570,811,601,819,632,838,664,848,673,845,677,834,667,814,634,806,602,806,570,810,539,814,508,814,478,806,447,786,416,772,405"/>
<area shape="rect" id="Node000017" href="$usb__msd_8c.html#a9f5b2ca0047c96b2b13cb1d89ba3fc73" title="Starts receiving data." alt="" coords="842,629,985,654"/>
<area shape="poly" id="edge27_Node000016_Node000017" title=" " alt="" coords="774,401,790,413,805,432,814,450,819,487,822,524,828,544,838,565,861,594,886,618,882,622,857,598,834,568,823,546,817,525,814,487,809,452,801,435,786,417,771,405"/>
<area shape="rect" id="Node000018" href="$usb__msd_8c.html#a4676adea8c569b096bc971c208256e61" title="Byte&#45;swap a 16 bits unsigned integer." alt="" coords="861,370,965,395"/>
<area shape="poly" id="edge30_Node000016_Node000018" title=" " alt="" coords="779,380,848,380,848,385,779,385"/>
<area shape="poly" id="edge34_Node000020_Node000005" title=" " alt="" coords="770,488,786,477,798,462,805,448,810,418,815,387,822,371,834,355,851,342,855,346,838,359,826,374,820,389,815,419,810,450,803,465,790,481,773,493"/>
<area shape="poly" id="edge35_Node000020_Node000006" title=" " alt="" coords="777,520,823,527,822,532,776,526"/>
<area shape="poly" id="edge41_Node000021_Node000005" title=" " alt="" coords="723,667,757,640,786,605,801,571,807,539,804,478,802,449,804,419,813,388,834,356,849,342,852,346,838,359,818,390,809,420,807,449,809,478,812,539,806,572,790,608,761,644,727,671"/>
<area shape="poly" id="edge42_Node000021_Node000017" title=" " alt="" coords="782,667,840,654,841,660,783,672"/>
</map>

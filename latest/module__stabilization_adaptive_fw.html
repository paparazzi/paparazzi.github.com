<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Paparazzi UAS: stabilization_adaptive_fw module</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="penguin_icon.png"/></td>
  <td id="projectalign">
   <div id="projectname">Paparazzi UAS<span id="projectnumber">&#160;v7.0_unstable</span>
   </div>
   <div id="projectbrief">Paparazzi is a free software Unmanned Aircraft System.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('module__stabilization_adaptive_fw.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">stabilization_adaptive_fw module</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>Adaptive attitude and lateral (heading) control for fixedwing aircraft.</b></p>
<p><b></b></p>
<p>Mostly based on PID and optional reference generators and feedforward gains. An experimental adaptive filter is also included to estimate some parameters, but should not be used for normal operation at the moment.</p>
<h1><a class="anchor" id="module_load_example__stabilization_adaptive_fw"></a>
Example for airframe file</h1>
<p>Add to your firmware section: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">module</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;stabilization_adaptive_fw&quot;</span>/&gt;</div>
</div><!-- fragment --> <h1><a class="anchor" id="configuration__stabilization_adaptive_fw"></a>
Module configuration options</h1>
<h2><a class="anchor" id="af_section"></a>
Airframe file section</h2>
<ul>
<li><b>section</b> name: <code>HORIZONTAL</code> CONTROL prefix: <code>H_CTL_</code> <ul>
<li><b>name</b> <code>COURSE_PGAIN</code> <b>value:</b> <em>1.0</em> <br  />
 Description: feedback heading P gain</li>
<li><b>name</b> <code>COURSE_DGAIN</code> <b>value:</b> <em>0.3</em> <br  />
 Description: feedback heading D gain</li>
<li><b>name</b> <code>ROLL_MAX_SETPOINT</code> <b>value:</b> <em>45.</em> <br  />
 Description: max roll setpoint</li>
<li><b>name</b> <code>PITCH_MAX_SETPOINT</code> <b>value:</b> <em>30.</em> <br  />
 Description: max pitch up setpoint</li>
<li><b>name</b> <code>PITCH_MIN_SETPOINT</code> <b>value:</b> <em>-30.</em> <br  />
 Description: max pitch down setpoint</li>
<li><b>name</b> <code>ROLL_ATTITUDE_GAIN</code> <b>value:</b> <em>7500</em> <br  />
 Description: feedback roll P gain</li>
<li><b>name</b> <code>ROLL_RATE_GAIN</code> <b>value:</b> <em>1500</em> <br  />
 Description: feedback roll rate P gain (roll D gain)</li>
<li><b>name</b> <code>ROLL_IGAIN</code> <b>value:</b> <em>100.</em> <br  />
 Description: feedback roll <a class="el" href="eff__scheduling__rotwing__V2_8h.html#structI">I</a> gain</li>
<li><b>name</b> <code>ROLL_KFFA</code> <b>value:</b> <em>0</em> <br  />
 Description: feedforward roll acceleration gain</li>
<li><b>name</b> <code>ROLL_KFFD</code> <b>value:</b> <em>0</em> <br  />
 Description: feedforward roll rate gain</li>
<li><b>name</b> <code>PITCH_PGAIN</code> <b>value:</b> <em>12000.</em> <br  />
 Description: feedback pitch P gain</li>
<li><b>name</b> <code>PITCH_DGAIN</code> <b>value:</b> <em>1.5</em> <br  />
 Description: feedback pitch D gain</li>
<li><b>name</b> <code>PITCH_IGAIN</code> <b>value:</b> <em>400</em> <br  />
 Description: feedback pitch <a class="el" href="eff__scheduling__rotwing__V2_8h.html#structI">I</a> gain</li>
<li><b>name</b> <code>PITCH_KFFA</code> <b>value:</b> <em>0.</em> <br  />
 Description: feedforward pitch acceleration gain</li>
<li><b>name</b> <code>PITCH_KFFD</code> <b>value:</b> <em>0.</em> <br  />
 Description: feedforward pitch rate gain</li>
<li><b>name</b> <code>PITCH_OF_ROLL</code> <b>value:</b> <em>1.</em> <br  />
 Description: feedforward pitch of roll coupling</li>
<li><b>name</b> <code>AILERON_OF_THROTTLE</code> <b>value:</b> <em>0.0</em> <br  />
 Description: feedforward roll of throttle coupling</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="functions__stabilization_adaptive_fw"></a>
Module functions</h1>
<h2><a class="anchor" id="init_functions"></a>
Init Functions</h2>
<p>These initialization functions are called once on startup.</p>
<ul>
<li><a class="el" href="stabilization__adaptive_8c.html#a83c0e92b972269e326eb6be18adcf715">h_ctl_init()</a></li>
</ul>
<h1><a class="anchor" id="files"></a>
Files</h1>
<h2><a class="anchor" id="headers"></a>
Header Files</h2>
<p>The following headers are automatically included in modules.h</p>
<ul>
<li><a class="el" href="rotorcraft_2stabilization_2stabilization__attitude_8h.html">stabilization_attitude.h</a></li>
<li><a class="el" href="stabilization__adaptive_8h.html">stabilization_adaptive.h</a></li>
</ul>
<h2><a class="anchor" id="sources"></a>
Source Files</h2>
<ul>
<li><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">/stabilization/stabilization_adaptive.c</a></li>
</ul>
<h2><a class="anchor" id="module_xml__stabilization_adaptive_fw"></a>
Raw stabilization_adaptive_fw.xml file:</h2>
<div class="fragment"><div class="line">&lt;!<span class="keyword">DOCTYPE</span> <span class="keyword">module</span> <span class="keyword">SYSTEM</span> <span class="stringliteral">&quot;module.dtd&quot;</span>&gt;</div>
<div class="line"> </div>
<div class="line">&lt;<span class="keywordtype">module</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;stabilization_adaptive_fw&quot;</span> <span class="keyword">dir</span>=<span class="stringliteral">&quot;stabilization&quot;</span> <span class="keyword">task</span>=<span class="stringliteral">&quot;control&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">doc</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">description</span>&gt;</div>
<div class="line">      <span class="keyword">Adaptive</span> <span class="keyword">attitude</span> <span class="keyword">and</span> <span class="keyword">lateral</span> (<span class="keyword">heading</span>) <span class="keyword">control</span> <span class="keyword">for</span> <span class="keyword">fixedwing</span> <span class="keyword">aircraft.</span></div>
<div class="line">      <span class="keyword">Mostly</span> <span class="keyword">based</span> <span class="keyword">on</span> <span class="keyword">PID</span> <span class="keyword">and</span> <span class="keyword">optional</span> <span class="keyword">reference</span> <span class="keyword">generators</span> <span class="keyword">and</span> <span class="keyword">feedforward</span> <span class="keyword">gains.</span></div>
<div class="line">      <span class="keyword">An</span> <span class="keyword">experimental</span> <span class="keyword">adaptive</span> <span class="keyword">filter</span> <span class="keyword">is</span> <span class="keyword">also</span> <span class="keyword">included</span> <span class="keyword">to</span> <span class="keyword">estimate</span> <span class="keyword">some</span> <span class="keyword">parameters</span>, <span class="keyword">but</span> <span class="keyword">should</span> <span class="keyword">not</span> <span class="keyword">be</span> <span class="keyword">used</span> <span class="keyword">for</span> <span class="keyword">normal</span> <span class="keyword">operation</span> <span class="keyword">at</span> <span class="keyword">the</span> <span class="keyword">moment.</span></div>
<div class="line">    &lt;/<span class="keywordtype">description</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">section</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;HORIZONTAL CONTROL&quot;</span> <span class="keyword">prefix</span>=<span class="stringliteral">&quot;H_CTL_&quot;</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;COURSE_PGAIN&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;1.0&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;feedback heading P gain&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;COURSE_DGAIN&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;0.3&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;feedback heading D gain&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;ROLL_MAX_SETPOINT&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;45.&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;max roll setpoint&quot;</span> <span class="keyword">unit</span>=<span class="stringliteral">&quot;deg&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PITCH_MAX_SETPOINT&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;30.&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;max pitch up setpoint&quot;</span> <span class="keyword">unit</span>=<span class="stringliteral">&quot;deg&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PITCH_MIN_SETPOINT&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;-30.&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;max pitch down setpoint&quot;</span> <span class="keyword">unit</span>=<span class="stringliteral">&quot;deg&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;ROLL_ATTITUDE_GAIN&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;7500&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;feedback roll P gain&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;ROLL_RATE_GAIN&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;1500&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;feedback roll rate P gain (roll D gain)&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;ROLL_IGAIN&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;100.&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;feedback roll I gain&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;ROLL_KFFA&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;feedforward roll acceleration gain&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;ROLL_KFFD&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;feedforward roll rate gain&quot;</span>/&gt;</div>
<div class="line"> </div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PITCH_PGAIN&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;12000.&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;feedback pitch P gain&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PITCH_DGAIN&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;1.5&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;feedback pitch D gain&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PITCH_IGAIN&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;400&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;feedback pitch I gain&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PITCH_KFFA&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;0.&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;feedforward pitch acceleration gain&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PITCH_KFFD&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;0.&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;feedforward pitch rate gain&quot;</span>/&gt;</div>
<div class="line"> </div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PITCH_OF_ROLL&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;1.&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;feedforward pitch of roll coupling&quot;</span> <span class="keyword">unit</span>=<span class="stringliteral">&quot;deg&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;AILERON_OF_THROTTLE&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;0.0&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;feedforward roll of throttle coupling&quot;</span>/&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">section</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">doc</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">settings</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">dl_settings</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">dl_settings</span> <span class="keyword">NAME</span>=<span class="stringliteral">&quot;control horiz&quot;</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">dl_settings</span> <span class="keyword">NAME</span>=<span class="stringliteral">&quot;trim&quot;</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">MAX</span>=<span class="stringliteral">&quot;960&quot;</span> <span class="keyword">MIN</span>=<span class="stringliteral">&quot;-960&quot;</span> <span class="keyword">STEP</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">VAR</span>=<span class="stringliteral">&quot;command_roll_trim&quot;</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;roll_trim&quot;</span> <span class="keyword">module</span>=<span class="stringliteral">&quot;modules/core/commands&quot;</span> <span class="keyword">param</span>=<span class="stringliteral">&quot;COMMAND_ROLL_TRIM&quot;</span>/&gt;</div>
<div class="line">          &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">MAX</span>=<span class="stringliteral">&quot;960&quot;</span> <span class="keyword">MIN</span>=<span class="stringliteral">&quot;-960&quot;</span> <span class="keyword">STEP</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">VAR</span>=<span class="stringliteral">&quot;command_pitch_trim&quot;</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;pitch_trim&quot;</span> <span class="keyword">param</span>=<span class="stringliteral">&quot;COMMAND_PITCH_TRIM&quot;</span>/&gt;</div>
<div class="line">          &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">MAX</span>=<span class="stringliteral">&quot;9000&quot;</span> <span class="keyword">MIN</span>=<span class="stringliteral">&quot;-9000&quot;</span> <span class="keyword">STEP</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">VAR</span>=<span class="stringliteral">&quot;command_yaw_trim&quot;</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;yaw_trim&quot;</span> <span class="keyword">param</span>=<span class="stringliteral">&quot;COMMAND_YAW_TRIM&quot;</span>/&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">dl_settings</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">dl_settings</span> <span class="keyword">NAME</span>=<span class="stringliteral">&quot;attitude&quot;</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">MAX</span>=<span class="stringliteral">&quot;15000&quot;</span> <span class="keyword">MIN</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">STEP</span>=<span class="stringliteral">&quot;250&quot;</span> <span class="keyword">VAR</span>=<span class="stringliteral">&quot;h_ctl_roll_attitude_gain&quot;</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;roll_pgain&quot;</span> <span class="keyword">param</span>=<span class="stringliteral">&quot;H_CTL_ROLL_ATTITUDE_GAIN&quot;</span> <span class="keyword">module</span>=<span class="stringliteral">&quot;stabilization/stabilization_attitude&quot;</span>/&gt;</div>
<div class="line">          &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">MAX</span>=<span class="stringliteral">&quot;15000&quot;</span> <span class="keyword">MIN</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">STEP</span>=<span class="stringliteral">&quot;250&quot;</span> <span class="keyword">VAR</span>=<span class="stringliteral">&quot;h_ctl_roll_rate_gain&quot;</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;roll_dgain&quot;</span> <span class="keyword">param</span>=<span class="stringliteral">&quot;H_CTL_ROLL_RATE_GAIN&quot;</span> <span class="keyword">module</span>=<span class="stringliteral">&quot;stabilization/stabilization_attitude&quot;</span>/&gt;</div>
<div class="line">          &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">MAX</span>=<span class="stringliteral">&quot;5000&quot;</span> <span class="keyword">MIN</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">STEP</span>=<span class="stringliteral">&quot;10&quot;</span> <span class="keyword">VAR</span>=<span class="stringliteral">&quot;h_ctl_roll_igain&quot;</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;roll_igain&quot;</span> <span class="keyword">param</span>=<span class="stringliteral">&quot;H_CTL_ROLL_IGAIN&quot;</span> <span class="keyword">handler</span>=<span class="stringliteral">&quot;SetRollIGain&quot;</span> <span class="keyword">module</span>=<span class="stringliteral">&quot;stabilization/stabilization_adaptive&quot;</span>/&gt;</div>
<div class="line">          &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">MAX</span>=<span class="stringliteral">&quot;25000&quot;</span> <span class="keyword">MIN</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">STEP</span>=<span class="stringliteral">&quot;250&quot;</span> <span class="keyword">VAR</span>=<span class="stringliteral">&quot;h_ctl_pitch_pgain&quot;</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;pitch_pgain&quot;</span> <span class="keyword">param</span>=<span class="stringliteral">&quot;H_CTL_PITCH_PGAIN&quot;</span> <span class="keyword">module</span>=<span class="stringliteral">&quot;stabilization/stabilization_attitude&quot;</span>/&gt;</div>
<div class="line">          &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">MAX</span>=<span class="stringliteral">&quot;50000&quot;</span> <span class="keyword">MIN</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">STEP</span>=<span class="stringliteral">&quot;250&quot;</span> <span class="keyword">VAR</span>=<span class="stringliteral">&quot;h_ctl_pitch_dgain&quot;</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;pitch_dgain&quot;</span> <span class="keyword">param</span>=<span class="stringliteral">&quot;H_CTL_PITCH_DGAIN&quot;</span> <span class="keyword">module</span>=<span class="stringliteral">&quot;stabilization/stabilization_attitude&quot;</span>/&gt;</div>
<div class="line">          &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">MAX</span>=<span class="stringliteral">&quot;5000&quot;</span> <span class="keyword">MIN</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">STEP</span>=<span class="stringliteral">&quot;10&quot;</span> <span class="keyword">VAR</span>=<span class="stringliteral">&quot;h_ctl_pitch_igain&quot;</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;pitch_igain&quot;</span> <span class="keyword">param</span>=<span class="stringliteral">&quot;H_CTL_PITCH_IGAIN&quot;</span> <span class="keyword">handler</span>=<span class="stringliteral">&quot;SetPitchIGain&quot;</span> <span class="keyword">module</span>=<span class="stringliteral">&quot;stabilization/stabilization_adaptive&quot;</span>/&gt;</div>
<div class="line">          &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">MAX</span>=<span class="stringliteral">&quot;.3&quot;</span> <span class="keyword">MIN</span>=<span class="stringliteral">&quot;0.&quot;</span> <span class="keyword">STEP</span>=<span class="stringliteral">&quot;0.001&quot;</span> <span class="keyword">VAR</span>=<span class="stringliteral">&quot;h_ctl_pitch_of_roll&quot;</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;pitch_of_roll&quot;</span> <span class="keyword">param</span>=<span class="stringliteral">&quot;H_CTL_PITCH_OF_ROLL&quot;</span> <span class="keyword">module</span>=<span class="stringliteral">&quot;stabilization/stabilization_attitude&quot;</span>/&gt;</div>
<div class="line">          &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">MAX</span>=<span class="stringliteral">&quot;5000&quot;</span> <span class="keyword">MIN</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">STEP</span>=<span class="stringliteral">&quot;100&quot;</span> <span class="keyword">VAR</span>=<span class="stringliteral">&quot;h_ctl_aileron_of_throttle&quot;</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;aileron_of_throttle&quot;</span> <span class="keyword">module</span>=<span class="stringliteral">&quot;stabilization/stabilization_adaptive&quot;</span>/&gt;</div>
<div class="line"> </div>
<div class="line">          &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">MAX</span>=<span class="stringliteral">&quot;60&quot;</span> <span class="keyword">MIN</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">STEP</span>=<span class="stringliteral">&quot;1.&quot;</span> <span class="keyword">VAR</span>=<span class="stringliteral">&quot;h_ctl_roll_max_setpoint&quot;</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;max_roll&quot;</span> <span class="keyword">param</span>=<span class="stringliteral">&quot;H_CTL_ROLL_MAX_SETPOINT&quot;</span> <span class="keyword">unit</span>=<span class="stringliteral">&quot;rad&quot;</span> <span class="keyword">alt_unit</span>=<span class="stringliteral">&quot;deg&quot;</span>/&gt;</div>
<div class="line">          &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">MAX</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">MIN</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">STEP</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">var</span>=<span class="stringliteral">&quot;use_airspeed_ratio&quot;</span> <span class="keyword">values</span>=<span class="stringliteral">&quot;FALSE|TRUE&quot;</span>/&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">dl_settings</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">dl_settings</span> <span class="keyword">NAME</span>=<span class="stringliteral">&quot;feedforward&quot;</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">MAX</span>=<span class="stringliteral">&quot;5000&quot;</span> <span class="keyword">MIN</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">STEP</span>=<span class="stringliteral">&quot;10&quot;</span> <span class="keyword">VAR</span>=<span class="stringliteral">&quot;h_ctl_roll_Kffa&quot;</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;roll_Kffa&quot;</span> <span class="keyword">param</span>=<span class="stringliteral">&quot;H_CTL_ROLL_KFFA&quot;</span>/&gt;</div>
<div class="line">          &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">MAX</span>=<span class="stringliteral">&quot;5000&quot;</span> <span class="keyword">MIN</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">STEP</span>=<span class="stringliteral">&quot;10&quot;</span> <span class="keyword">VAR</span>=<span class="stringliteral">&quot;h_ctl_roll_Kffd&quot;</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;roll_Kffd&quot;</span> <span class="keyword">param</span>=<span class="stringliteral">&quot;H_CTL_ROLL_KFFD&quot;</span>/&gt;</div>
<div class="line">          &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">MAX</span>=<span class="stringliteral">&quot;5000&quot;</span> <span class="keyword">MIN</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">STEP</span>=<span class="stringliteral">&quot;10&quot;</span> <span class="keyword">VAR</span>=<span class="stringliteral">&quot;h_ctl_pitch_Kffa&quot;</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;pitch_Kffa&quot;</span> <span class="keyword">param</span>=<span class="stringliteral">&quot;H_CTL_PITCH_KFFA&quot;</span>/&gt;</div>
<div class="line">          &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">MAX</span>=<span class="stringliteral">&quot;5000&quot;</span> <span class="keyword">MIN</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">STEP</span>=<span class="stringliteral">&quot;10&quot;</span> <span class="keyword">VAR</span>=<span class="stringliteral">&quot;h_ctl_pitch_Kffd&quot;</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;pitch_Kffd&quot;</span> <span class="keyword">param</span>=<span class="stringliteral">&quot;H_CTL_PITCH_KFFD&quot;</span>/&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">dl_settings</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">dl_settings</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;course&quot;</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">MAX</span>=<span class="stringliteral">&quot;3&quot;</span> <span class="keyword">MIN</span>=<span class="stringliteral">&quot;0.1&quot;</span> <span class="keyword">STEP</span>=<span class="stringliteral">&quot;0.05&quot;</span> <span class="keyword">VAR</span>=<span class="stringliteral">&quot;h_ctl_course_pgain&quot;</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;course pgain&quot;</span> <span class="keyword">param</span>=<span class="stringliteral">&quot;H_CTL_COURSE_PGAIN&quot;</span>/&gt;</div>
<div class="line">          &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">MAX</span>=<span class="stringliteral">&quot;2&quot;</span> <span class="keyword">MIN</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">STEP</span>=<span class="stringliteral">&quot;0.1&quot;</span> <span class="keyword">VAR</span>=<span class="stringliteral">&quot;h_ctl_course_dgain&quot;</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;course dgain&quot;</span>/&gt;</div>
<div class="line">          &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">MAX</span>=<span class="stringliteral">&quot;2&quot;</span> <span class="keyword">MIN</span>=<span class="stringliteral">&quot;0.1&quot;</span> <span class="keyword">STEP</span>=<span class="stringliteral">&quot;0.05&quot;</span> <span class="keyword">VAR</span>=<span class="stringliteral">&quot;h_ctl_course_pre_bank_correction&quot;</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;pre bank cor&quot;</span>/&gt;</div>
<div class="line">          &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">MAX</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">MIN</span>=<span class="stringliteral">&quot;0.02&quot;</span> <span class="keyword">STEP</span>=<span class="stringliteral">&quot;0.01&quot;</span> <span class="keyword">VAR</span>=<span class="stringliteral">&quot;h_ctl_roll_slew&quot;</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;roll slew&quot;</span>/&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">dl_settings</span>&gt;</div>
<div class="line">      &lt;/<span class="keywordtype">dl_settings</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">dl_settings</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">settings</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">dep</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">depends</span>&gt;@<span class="keyword">attitude_command</span>&lt;/<span class="keywordtype">depends</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">provides</span>&gt;<span class="keyword">commands</span>&lt;/<span class="keywordtype">provides</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">dep</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">header</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">file</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;stabilization_attitude.h&quot;</span>/&gt;</div>
<div class="line">    &lt;<span class="keywordtype">file</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;stabilization_adaptive.h&quot;</span>/&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">header</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">init</span> <span class="keyword">fun</span>=<span class="stringliteral">&quot;h_ctl_init()&quot;</span>/&gt;</div>
<div class="line">  &lt;<span class="keywordtype">makefile</span> <span class="keyword">target</span>=<span class="stringliteral">&quot;ap|sim|nps&quot;</span> <span class="keyword">firmware</span>=<span class="stringliteral">&quot;fixedwing&quot;</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">file</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;stabilization_adaptive.c&quot;</span> <span class="keyword">dir</span>=<span class="stringliteral">&quot;$(SRC_FIRMWARE)/stabilization&quot;</span>/&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">makefile</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">module</span>&gt;</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="onboard_modules.html">Onboard Modules</a></li>
    <li class="footer">Generated on Fri Aug 1 2025 08:51:49 for Paparazzi UAS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>

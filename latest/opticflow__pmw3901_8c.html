<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Paparazzi UAS: sw/airborne/modules/sensors/opticflow_pmw3901.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="penguin_icon.png"/></td>
  <td id="projectalign">
   <div id="projectname">Paparazzi UAS<span id="projectnumber">&#160;v7.0_unstable</span>
   </div>
   <div id="projectbrief">Paparazzi is a free software Unmanned Aircraft System.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('opticflow__pmw3901_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">opticflow_pmw3901.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="opticflow__pmw3901_8h_source.html">modules/sensors/opticflow_pmw3901.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="abi_8h_source.html">modules/core/abi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="downlink_8h_source.html">modules/datalink/downlink.h</a>&quot;</code><br />
<code>#include &quot;generated/modules.h&quot;</code><br />
<code>#include &quot;<a class="el" href="state_8h_source.html">state.h</a>&quot;</code><br />
<code>#include &quot;std.h&quot;</code><br />
<code>#include &lt;math.h&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for opticflow_pmw3901.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="opticflow__pmw3901_8c__incl.png" border="0" usemap="#asw_2airborne_2modules_2sensors_2opticflow__pmw3901_8c" alt=""/></div>
<map name="asw_2airborne_2modules_2sensors_2opticflow__pmw3901_8c" id="asw_2airborne_2modules_2sensors_2opticflow__pmw3901_8c">
<area shape="rect" title=" " alt="" coords="1494,5,1715,45"/>
<area shape="rect" href="opticflow__pmw3901_8h.html" title=" " alt="" coords="1373,93,1567,133"/>
<area shape="poly" title=" " alt="" coords="1576,48,1513,88,1510,84,1573,43"/>
<area shape="rect" title=" " alt="" coords="1681,423,1736,449"/>
<area shape="poly" title=" " alt="" coords="1609,45,1629,182,1649,274,1676,367,1697,411,1692,413,1672,369,1644,276,1624,183,1604,46"/>
<area shape="rect" title=" " alt="" coords="2423,423,2491,449"/>
<area shape="poly" title=" " alt="" coords="1716,32,1964,53,2257,89,2391,111,2501,137,2543,151,2576,166,2597,182,2605,199,2605,284,2602,307,2593,329,2566,366,2530,397,2495,419,2492,414,2527,392,2562,363,2589,326,2597,305,2599,283,2599,201,2593,185,2573,170,2542,156,2499,142,2390,116,2256,94,1964,59,1715,37"/>
<area shape="rect" href="abi_8h.html" title="Main include for ABI (AirBorneInterface)." alt="" coords="2639,101,2786,126"/>
<area shape="poly" title=" " alt="" coords="1716,26,1890,32,2116,44,2368,63,2621,91,2649,95,2649,101,2620,96,2367,68,2116,49,1890,38,1716,32"/>
<area shape="rect" href="downlink_8h.html" title="Common code for AP and FBW telemetry." alt="" coords="707,189,918,214"/>
<area shape="poly" title=" " alt="" coords="1503,48,1261,96,1046,145,871,188,870,183,1044,140,1260,91,1502,43"/>
<area shape="rect" title=" " alt="" coords="1143,269,1303,295"/>
<area shape="poly" title=" " alt="" coords="1494,43,1426,63,1393,78,1362,95,1319,133,1284,177,1256,221,1237,258,1232,255,1251,219,1279,174,1316,129,1359,91,1390,73,1424,58,1493,38"/>
<area shape="rect" href="state_8h.html" title="API to get/set the generic vehicle states." alt="" coords="2006,101,2073,126"/>
<area shape="poly" title=" " alt="" coords="1701,43,1993,100,1992,105,1700,48"/>
<area shape="rect" href="pmw3901_8h.html" title=" " alt="" coords="1387,189,1561,214"/>
<area shape="poly" title=" " alt="" coords="1474,133,1475,175,1470,175,1468,134"/>
<area shape="rect" href="spi_8h.html" title="Architecture independent SPI (Serial Peripheral Interface) API." alt="" coords="1434,269,1567,295"/>
<area shape="poly" title=" " alt="" coords="1480,213,1495,256,1490,257,1475,215"/>
<area shape="rect" title=" " alt="" coords="1327,269,1410,295"/>
<area shape="poly" title=" " alt="" coords="1460,216,1397,263,1394,259,1457,212"/>
<area shape="poly" title=" " alt="" coords="1506,212,1616,250,1756,292,1944,337,2131,376,2410,425,2409,430,2130,381,1943,343,1755,297,1614,255,1504,217"/>
<area shape="poly" title=" " alt="" coords="1505,294,1515,330,1524,349,1537,366,1567,389,1602,406,1668,426,1667,431,1600,411,1564,394,1533,370,1520,352,1510,331,1500,296"/>
<area shape="rect" title=" " alt="" coords="1298,343,1466,368"/>
<area shape="poly" title=" " alt="" coords="1483,297,1415,338,1412,333,1480,292"/>
<area shape="rect" href="sys__time_8h.html" title="Architecture independent timing functions." alt="" coords="1050,343,1223,368"/>
<area shape="poly" title=" " alt="" coords="1443,297,1209,343,1208,337,1442,292"/>
<area shape="poly" title=" " alt="" coords="1224,364,1598,413,1668,425,1667,430,1598,419,1223,369"/>
<area shape="rect" title=" " alt="" coords="624,423,711,449"/>
<area shape="poly" title=" " alt="" coords="1069,371,725,428,724,423,1068,365"/>
<area shape="rect" title=" " alt="" coords="1516,423,1587,449"/>
<area shape="poly" title=" " alt="" coords="1197,365,1503,423,1502,428,1196,371"/>
<area shape="rect" title=" " alt="" coords="1157,423,1284,449"/>
<area shape="poly" title=" " alt="" coords="1151,366,1200,412,1196,416,1147,370"/>
<area shape="rect" title=" " alt="" coords="972,416,1133,456"/>
<area shape="poly" title=" " alt="" coords="1126,370,1085,409,1081,405,1122,366"/>
<area shape="rect" title=" " alt="" coords="2649,189,2776,214"/>
<area shape="poly" title=" " alt="" coords="2715,126,2715,174,2710,174,2710,126"/>
<area shape="poly" title=" " alt="" coords="713,217,608,238,566,253,540,271,531,290,531,310,539,330,553,349,593,386,635,414,633,418,590,390,549,353,534,332,526,311,525,289,536,268,563,248,606,233,712,211"/>
<area shape="rect" title=" " alt="" coords="550,269,710,295"/>
<area shape="poly" title=" " alt="" coords="787,216,670,266,668,261,785,212"/>
<area shape="rect" title=" " alt="" coords="735,269,891,295"/>
<area shape="poly" title=" " alt="" coords="815,214,815,255,810,255,810,214"/>
<area shape="rect" href="datalink_8h.html" title="Handling of messages coming from ground and other A/Cs." alt="" coords="915,269,1119,295"/>
<area shape="poly" title=" " alt="" coords="843,212,975,262,973,267,841,216"/>
<area shape="rect" href="pprz__dl_8h.html" title="Datalink using PPRZ protocol." alt="" coords="277,269,476,295"/>
<area shape="poly" title=" " alt="" coords="750,217,454,270,453,264,749,211"/>
<area shape="poly" title=" " alt="" coords="873,211,1151,264,1150,269,872,217"/>
<area shape="poly" title=" " alt="" coords="1071,292,1150,312,1236,340,1262,353,1287,365,1372,388,1440,397,1510,402,1598,413,1668,425,1667,430,1598,419,1509,408,1440,402,1371,393,1285,371,1259,358,1234,345,1148,317,1070,297"/>
<area shape="rect" title=" " alt="" coords="863,343,1026,368"/>
<area shape="poly" title=" " alt="" coords="1007,297,968,335,964,331,1003,293"/>
<area shape="rect" title=" " alt="" coords="291,343,475,368"/>
<area shape="poly" title=" " alt="" coords="380,295,384,329,378,329,375,295"/>
<area shape="rect" href="uart_8h.html" title="arch independent UART (Universal Asynchronous Receiver/Transmitter) API" alt="" coords="127,343,267,368"/>
<area shape="poly" title=" " alt="" coords="349,297,240,340,238,335,347,292"/>
<area shape="poly" title=" " alt="" coords="267,364,280,365,480,379,650,386,939,386,1228,388,1398,396,1598,413,1668,424,1667,429,1598,419,1398,402,1228,393,939,391,650,391,480,385,279,371,267,369"/>
<area shape="rect" title=" " alt="" coords="5,423,180,449"/>
<area shape="poly" title=" " alt="" coords="183,370,120,417,117,413,180,366"/>
<area shape="rect" title=" " alt="" coords="205,423,397,449"/>
<area shape="poly" title=" " alt="" coords="214,366,276,413,273,417,210,370"/>
<area shape="poly" title=" " alt="" coords="2051,125,2063,143,2075,168,2081,195,2077,222,2048,276,2016,311,1975,339,1922,370,1878,392,1832,409,1750,430,1749,425,1830,404,1876,387,1919,366,1972,335,2012,307,2044,273,2071,220,2075,195,2070,169,2058,146,2046,128"/>
<area shape="rect" href="pprz__algebra__int_8h.html" title="Paparazzi fixed point algebra." alt="" coords="1768,269,1948,295"/>
<area shape="poly" title=" " alt="" coords="2006,123,1977,130,1944,142,1912,160,1885,183,1875,200,1867,219,1861,256,1856,255,1862,217,1870,197,1881,180,1909,155,1942,137,1975,125,2005,118"/>
<area shape="rect" title=" " alt="" coords="2583,423,2653,449"/>
<area shape="poly" title=" " alt="" coords="2073,115,2197,134,2273,153,2348,179,2412,211,2457,244,2496,286,2543,341,2602,411,2598,415,2539,344,2492,289,2454,248,2409,215,2346,184,2272,158,2196,139,2073,120"/>
<area shape="rect" href="pprz__algebra__float_8h.html" title="Paparazzi floating point algebra." alt="" coords="2274,269,2466,295"/>
<area shape="poly" title=" " alt="" coords="2073,112,2124,115,2187,126,2253,146,2285,161,2314,179,2332,196,2346,216,2365,255,2360,258,2341,219,2328,200,2311,183,2282,165,2251,151,2186,131,2123,121,2073,117"/>
<area shape="rect" href="pprz__geodetic__int_8h.html" title="Paparazzi fixed point math for geodetic calculations." alt="" coords="1669,181,1820,221"/>
<area shape="poly" title=" " alt="" coords="2006,127,1824,180,1822,175,2005,122"/>
<area shape="rect" href="pprz__geodetic__float_8h.html" title="Paparazzi floating point math for geodetic calculations." alt="" coords="2151,181,2301,221"/>
<area shape="poly" title=" " alt="" coords="2066,124,2173,173,2171,178,2063,129"/>
<area shape="rect" href="pprz__orientation__conversion_8h.html" title="Generic orientation representation and conversions." alt="" coords="1896,181,2063,221"/>
<area shape="poly" title=" " alt="" coords="2033,128,2003,171,1998,168,2029,125"/>
<area shape="poly" title=" " alt="" coords="1864,294,1870,329,1868,350,1860,369,1838,394,1810,412,1779,424,1751,431,1749,426,1778,419,1807,407,1834,390,1856,367,1863,349,1864,330,1859,295"/>
<area shape="poly" title=" " alt="" coords="1813,297,1749,317,1682,345,1624,381,1577,417,1573,412,1621,376,1679,340,1748,312,1811,292"/>
<area shape="rect" href="pprz__algebra_8h.html" title="Paparazzi generic algebra macros." alt="" coords="2125,343,2281,368"/>
<area shape="poly" title=" " alt="" coords="1914,292,2135,337,2134,342,1913,297"/>
<area shape="rect" href="pprz__trig__int_8h.html" title="Paparazzi fixed point trig functions." alt="" coords="1693,343,1847,368"/>
<area shape="poly" title=" " alt="" coords="1846,297,1797,336,1793,332,1842,293"/>
<area shape="poly" title=" " alt="" coords="2132,371,1750,431,1750,426,2131,365"/>
<area shape="poly" title=" " alt="" coords="2241,365,2410,418,2409,423,2239,371"/>
<area shape="rect" title=" " alt="" coords="2207,423,2269,449"/>
<area shape="poly" title=" " alt="" coords="2211,367,2230,410,2225,412,2206,369"/>
<area shape="poly" title=" " alt="" coords="2264,365,2569,423,2568,428,2263,371"/>
<area shape="poly" title=" " alt="" coords="1763,370,1728,414,1724,411,1759,367"/>
<area shape="poly" title=" " alt="" coords="2445,292,2487,310,2506,324,2522,341,2527,362,2520,382,2505,401,2488,417,2484,413,2501,397,2515,380,2522,362,2517,344,2503,328,2485,315,2443,297"/>
<area shape="poly" title=" " alt="" coords="2344,297,2244,340,2242,335,2342,292"/>
<area shape="poly" title=" " alt="" coords="2407,292,2438,305,2466,323,2483,344,2483,357,2477,370,2464,381,2445,391,2394,409,2283,431,2282,426,2393,404,2443,387,2461,377,2473,366,2478,356,2478,346,2462,327,2435,310,2404,297"/>
<area shape="rect" title=" " alt="" coords="2306,343,2463,368"/>
<area shape="poly" title=" " alt="" coords="2375,294,2382,329,2377,330,2370,296"/>
<area shape="poly" title=" " alt="" coords="1735,223,1707,276,1693,309,1683,343,1682,361,1685,378,1697,410,1692,412,1680,380,1677,361,1678,342,1688,307,1702,274,1730,220"/>
<area shape="poly" title=" " alt="" coords="1774,219,1831,259,1828,263,1771,224"/>
<area shape="rect" href="pprz__geodetic_8h.html" title="Paparazzi generic macros for geodetic calculations." alt="" coords="2074,269,2199,295"/>
<area shape="poly" title=" " alt="" coords="1821,215,2066,264,2065,269,1820,220"/>
<area shape="poly" title=" " alt="" coords="2231,222,2229,258,2223,278,2213,297,2056,370,1972,394,1887,412,1750,433,1749,428,1886,407,1971,389,2054,366,2209,293,2218,276,2223,257,2225,221"/>
<area shape="poly" title=" " alt="" coords="2262,219,2338,260,2336,265,2259,224"/>
<area shape="poly" title=" " alt="" coords="2206,224,2162,262,2158,258,2203,220"/>
<area shape="poly" title=" " alt="" coords="1981,222,1976,257,1962,296,1945,322,1929,339,1883,370,1814,404,1750,427,1748,422,1812,399,1881,366,1925,335,1941,318,1957,293,1971,256,1976,221"/>
<area shape="poly" title=" " alt="" coords="1951,224,1889,264,1886,260,1949,219"/>
<area shape="poly" title=" " alt="" coords="2064,217,2300,264,2299,269,2063,222"/>
</map>
</div>
</div>
<p><a href="opticflow__pmw3901_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a06145a7d82df2456a84cfce79e4ca622" id="r_a06145a7d82df2456a84cfce79e4ca622"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="opticflow__pmw3901_8c.html#a06145a7d82df2456a84cfce79e4ca622">OPTICFLOW_PMW3901_SENSOR_ANGLE</a>&#160;&#160;&#160;270</td></tr>
<tr class="separator:a06145a7d82df2456a84cfce79e4ca622"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11ab9a9427afcbe9514d141eeb0317b9" id="r_a11ab9a9427afcbe9514d141eeb0317b9"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="opticflow__pmw3901_8c.html#a11ab9a9427afcbe9514d141eeb0317b9">OPTICFLOW_PMW3901_SUBPIXEL_FACTOR</a>&#160;&#160;&#160;100</td></tr>
<tr class="separator:a11ab9a9427afcbe9514d141eeb0317b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5584a920011028006d3e7aee4a8178aa" id="r_a5584a920011028006d3e7aee4a8178aa"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="opticflow__pmw3901_8c.html#a5584a920011028006d3e7aee4a8178aa">OPTICFLOW_PMW3901_STD_PX</a>&#160;&#160;&#160;50</td></tr>
<tr class="separator:a5584a920011028006d3e7aee4a8178aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb8f0b0feffe8f730563d091a1b209f7" id="r_aeb8f0b0feffe8f730563d091a1b209f7"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="opticflow__pmw3901_8c.html#aeb8f0b0feffe8f730563d091a1b209f7">OPTICFLOW_PMW3901_AGL_ID</a>&#160;&#160;&#160;<a class="el" href="abi__common_8h.html#a89a673124c7bb521be4e42d4bc0d29cb">ABI_BROADCAST</a></td></tr>
<tr class="separator:aeb8f0b0feffe8f730563d091a1b209f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc3a122cca7165b73878597fb5894c6b" id="r_abc3a122cca7165b73878597fb5894c6b"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="opticflow__pmw3901_8c.html#abc3a122cca7165b73878597fb5894c6b">OPTICFLOW_PMW3901_AGL_TIMEOUT_US</a>&#160;&#160;&#160;500000</td></tr>
<tr class="separator:abc3a122cca7165b73878597fb5894c6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7266d71f926f1ff406cde1f6067177ac" id="r_a7266d71f926f1ff406cde1f6067177ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">static</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="opticflow__pmw3901_8c.html#a7266d71f926f1ff406cde1f6067177ac">agl_cb</a> (<a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">sender_id</a>, <a class="el" href="vl53l1__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">stamp</a>, <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> distance)</td></tr>
<tr class="separator:a7266d71f926f1ff406cde1f6067177ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9ff073dfcd5d8d63f6c1e450b8916f4" id="r_ad9ff073dfcd5d8d63f6c1e450b8916f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">static</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="opticflow__pmw3901_8c.html#ad9ff073dfcd5d8d63f6c1e450b8916f4">agl_valid</a> (<a class="el" href="vl53l1__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">at_ts</a>)</td></tr>
<tr class="separator:ad9ff073dfcd5d8d63f6c1e450b8916f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60140676d3a419b54d6a2a8294e4b994" id="r_a60140676d3a419b54d6a2a8294e4b994"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">static</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="opticflow__pmw3901_8c.html#a60140676d3a419b54d6a2a8294e4b994">opticflow_pmw3901_publish</a> (<a class="el" href="vl53l1__types_8h.html#aa343fa3b3d06292b959ffdd4c4703b06">int16_t</a> delta_x, <a class="el" href="vl53l1__types_8h.html#aa343fa3b3d06292b959ffdd4c4703b06">int16_t</a> delta_y, <a class="el" href="vl53l1__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">ts_usec</a>)</td></tr>
<tr class="separator:a60140676d3a419b54d6a2a8294e4b994"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2322e65a95d068baae9381aace2519ee" id="r_a2322e65a95d068baae9381aace2519ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="opticflow__pmw3901_8c.html#a2322e65a95d068baae9381aace2519ee">opticflow_pmw3901_init</a> (<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>)</td></tr>
<tr class="separator:a2322e65a95d068baae9381aace2519ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fb2c15d2dacf06185977f580770b596" id="r_a5fb2c15d2dacf06185977f580770b596"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="opticflow__pmw3901_8c.html#a5fb2c15d2dacf06185977f580770b596">opticflow_pmw3901_periodic</a> (<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>)</td></tr>
<tr class="separator:a5fb2c15d2dacf06185977f580770b596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe5ad65e14456805dca97f78767ef811" id="r_abe5ad65e14456805dca97f78767ef811"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="opticflow__pmw3901_8c.html#abe5ad65e14456805dca97f78767ef811">opticflow_pmw3901_event</a> (<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>)</td></tr>
<tr class="separator:abe5ad65e14456805dca97f78767ef811"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a2351fcd899abe0185253547d1166f73c" id="r_a2351fcd899abe0185253547d1166f73c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="opticflow__pmw3901_8h.html#structopticflow__pmw3901__t">opticflow_pmw3901_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="opticflow__pmw3901_8c.html#a2351fcd899abe0185253547d1166f73c">of_pmw</a></td></tr>
<tr class="separator:a2351fcd899abe0185253547d1166f73c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa50262a1e494235831469694c69b177" id="r_afa50262a1e494235831469694c69b177"><td class="memItemLeft" align="right" valign="top"><a class="el" href="abi__common_8h.html#a60f71f1b8ca24759458ed4f700f02814">abi_event</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="opticflow__pmw3901_8c.html#afa50262a1e494235831469694c69b177">agl_ev</a></td></tr>
<tr class="separator:afa50262a1e494235831469694c69b177"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab79744059ba274056fbfa0471ceef54d" id="r_ab79744059ba274056fbfa0471ceef54d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">static</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="opticflow__pmw3901_8c.html#ab79744059ba274056fbfa0471ceef54d">agl_dist</a></td></tr>
<tr class="separator:ab79744059ba274056fbfa0471ceef54d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a638703b0151fe6e287f8917113740fd5" id="r_a638703b0151fe6e287f8917113740fd5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">static</a> <a class="el" href="vl53l1__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="opticflow__pmw3901_8c.html#a638703b0151fe6e287f8917113740fd5">agl_ts</a></td></tr>
<tr class="separator:a638703b0151fe6e287f8917113740fd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Tom van Dijk Driver for PMW3901 optical flow sensor </dd></dl>

<p class="definition">Definition in file <a class="el" href="opticflow__pmw3901_8c_source.html">opticflow_pmw3901.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aeb8f0b0feffe8f730563d091a1b209f7" name="aeb8f0b0feffe8f730563d091a1b209f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb8f0b0feffe8f730563d091a1b209f7">&#9670;&#160;</a></span>OPTICFLOW_PMW3901_AGL_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> OPTICFLOW_PMW3901_AGL_ID&#160;&#160;&#160;<a class="el" href="abi__common_8h.html#a89a673124c7bb521be4e42d4bc0d29cb">ABI_BROADCAST</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="opticflow__pmw3901_8c_source.html#l00052">52</a> of file <a class="el" href="opticflow__pmw3901_8c_source.html">opticflow_pmw3901.c</a>.</p>

</div>
</div>
<a id="abc3a122cca7165b73878597fb5894c6b" name="abc3a122cca7165b73878597fb5894c6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc3a122cca7165b73878597fb5894c6b">&#9670;&#160;</a></span>OPTICFLOW_PMW3901_AGL_TIMEOUT_US</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> OPTICFLOW_PMW3901_AGL_TIMEOUT_US&#160;&#160;&#160;500000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="opticflow__pmw3901_8c_source.html#l00057">57</a> of file <a class="el" href="opticflow__pmw3901_8c_source.html">opticflow_pmw3901.c</a>.</p>

</div>
</div>
<a id="a06145a7d82df2456a84cfce79e4ca622" name="a06145a7d82df2456a84cfce79e4ca622"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06145a7d82df2456a84cfce79e4ca622">&#9670;&#160;</a></span>OPTICFLOW_PMW3901_SENSOR_ANGLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> OPTICFLOW_PMW3901_SENSOR_ANGLE&#160;&#160;&#160;270</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="opticflow__pmw3901_8c_source.html#l00040">40</a> of file <a class="el" href="opticflow__pmw3901_8c_source.html">opticflow_pmw3901.c</a>.</p>

</div>
</div>
<a id="a5584a920011028006d3e7aee4a8178aa" name="a5584a920011028006d3e7aee4a8178aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5584a920011028006d3e7aee4a8178aa">&#9670;&#160;</a></span>OPTICFLOW_PMW3901_STD_PX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> OPTICFLOW_PMW3901_STD_PX&#160;&#160;&#160;50</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="opticflow__pmw3901_8c_source.html#l00048">48</a> of file <a class="el" href="opticflow__pmw3901_8c_source.html">opticflow_pmw3901.c</a>.</p>

</div>
</div>
<a id="a11ab9a9427afcbe9514d141eeb0317b9" name="a11ab9a9427afcbe9514d141eeb0317b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11ab9a9427afcbe9514d141eeb0317b9">&#9670;&#160;</a></span>OPTICFLOW_PMW3901_SUBPIXEL_FACTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">define</a> OPTICFLOW_PMW3901_SUBPIXEL_FACTOR&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="opticflow__pmw3901_8c_source.html#l00044">44</a> of file <a class="el" href="opticflow__pmw3901_8c_source.html">opticflow_pmw3901.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7266d71f926f1ff406cde1f6067177ac" name="a7266d71f926f1ff406cde1f6067177ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7266d71f926f1ff406cde1f6067177ac">&#9670;&#160;</a></span>agl_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">static</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> agl_cb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>sender_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vl53l1__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>stamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a>&#160;</td>
          <td class="paramname"><em>distance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="opticflow__pmw3901_8c_source.html#l00068">68</a> of file <a class="el" href="opticflow__pmw3901_8c_source.html">opticflow_pmw3901.c</a>.</p>

<p class="reference">References <a class="el" href="opticflow__pmw3901_8c_source.html#l00064">agl_dist</a>, <a class="el" href="opticflow__pmw3901_8c_source.html#l00065">agl_ts</a>, and <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>.</p>

<p class="reference">Referenced by <a class="el" href="opticflow__pmw3901_8c_source.html#l00168">opticflow_pmw3901_init()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="opticflow__pmw3901_8c_a7266d71f926f1ff406cde1f6067177ac_icgraph.png" border="0" usemap="#aopticflow__pmw3901_8c_a7266d71f926f1ff406cde1f6067177ac_icgraph" alt=""/></div>
<map name="aopticflow__pmw3901_8c_a7266d71f926f1ff406cde1f6067177ac_icgraph" id="aopticflow__pmw3901_8c_a7266d71f926f1ff406cde1f6067177ac_icgraph">
<area shape="rect" title=" " alt="" coords="233,5,297,31"/>
<area shape="rect" href="opticflow__pmw3901_8c.html#a2322e65a95d068baae9381aace2519ee" title=" " alt="" coords="5,5,185,31"/>
<area shape="poly" title=" " alt="" coords="220,21,186,21,186,15,220,15"/>
</map>
</div>

</div>
</div>
<a id="ad9ff073dfcd5d8d63f6c1e450b8916f4" name="ad9ff073dfcd5d8d63f6c1e450b8916f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9ff073dfcd5d8d63f6c1e450b8916f4">&#9670;&#160;</a></span>agl_valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">static</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">bool</a> agl_valid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vl53l1__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>at_ts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="opticflow__pmw3901_8c_source.html#l00074">74</a> of file <a class="el" href="opticflow__pmw3901_8c_source.html">opticflow_pmw3901.c</a>.</p>

<p class="reference">References <a class="el" href="opticflow__pmw3901_8c_source.html#l00064">agl_dist</a>, <a class="el" href="opticflow__pmw3901_8h_source.html#l00036">opticflow_pmw3901_t::agl_timeout</a>, <a class="el" href="opticflow__pmw3901_8c_source.html#l00065">agl_ts</a>, <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>, and <a class="el" href="opticflow__pmw3901_8c_source.html#l00061">of_pmw</a>.</p>

<p class="reference">Referenced by <a class="el" href="opticflow__pmw3901_8c_source.html#l00081">opticflow_pmw3901_publish()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="opticflow__pmw3901_8c_ad9ff073dfcd5d8d63f6c1e450b8916f4_icgraph.png" border="0" usemap="#aopticflow__pmw3901_8c_ad9ff073dfcd5d8d63f6c1e450b8916f4_icgraph" alt=""/></div>
<map name="aopticflow__pmw3901_8c_ad9ff073dfcd5d8d63f6c1e450b8916f4_icgraph" id="aopticflow__pmw3901_8c_ad9ff073dfcd5d8d63f6c1e450b8916f4_icgraph">
<area shape="rect" title=" " alt="" coords="504,5,585,31"/>
<area shape="rect" href="opticflow__pmw3901_8c.html#a60140676d3a419b54d6a2a8294e4b994" title=" " alt="" coords="249,5,456,31"/>
<area shape="poly" title=" " alt="" coords="490,21,456,21,456,15,490,15"/>
<area shape="rect" href="opticflow__pmw3901_8c.html#abe5ad65e14456805dca97f78767ef811" title=" " alt="" coords="5,5,201,31"/>
<area shape="poly" title=" " alt="" coords="236,21,202,21,202,15,236,15"/>
</map>
</div>

</div>
</div>
<a id="abe5ad65e14456805dca97f78767ef811" name="abe5ad65e14456805dca97f78767ef811"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe5ad65e14456805dca97f78767ef811">&#9670;&#160;</a></span>opticflow_pmw3901_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> opticflow_pmw3901_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="opticflow__pmw3901_8c_source.html#l00186">186</a> of file <a class="el" href="opticflow__pmw3901_8c_source.html">opticflow_pmw3901.c</a>.</p>

<p class="reference">References <a class="el" href="chibios_2mcu__periph_2sys__time__arch_8c_source.html#l00071">get_sys_time_usec()</a>, <a class="el" href="opticflow__pmw3901_8c_source.html#l00061">of_pmw</a>, <a class="el" href="opticflow__pmw3901_8c_source.html#l00081">opticflow_pmw3901_publish()</a>, <a class="el" href="opticflow__pmw3901_8h_source.html#l00032">opticflow_pmw3901_t::pmw</a>, <a class="el" href="pmw3901_8c_source.html#l00322">pmw3901_data_available()</a>, <a class="el" href="pmw3901_8c_source.html#l00274">pmw3901_event()</a>, and <a class="el" href="pmw3901_8c_source.html#l00326">pmw3901_get_data()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="opticflow__pmw3901_8c_abe5ad65e14456805dca97f78767ef811_cgraph.png" border="0" usemap="#aopticflow__pmw3901_8c_abe5ad65e14456805dca97f78767ef811_cgraph" alt=""/></div>
<map name="aopticflow__pmw3901_8c_abe5ad65e14456805dca97f78767ef811_cgraph" id="aopticflow__pmw3901_8c_abe5ad65e14456805dca97f78767ef811_cgraph">
<area shape="rect" title=" " alt="" coords="5,156,201,181"/>
<area shape="rect" href="chibios_2mcu__periph_2sys__time__arch_8c.html#a7ddfef1f78a56c6b4c4c536b5d670bfb" title="Get the time in microseconds since startup." alt="" coords="752,105,899,131"/>
<area shape="poly" title=" " alt="" coords="171,153,249,142,383,131,516,123,738,116,738,121,516,128,383,136,250,147,171,159"/>
<area shape="rect" href="opticflow__pmw3901_8c.html#a60140676d3a419b54d6a2a8294e4b994" title=" " alt="" coords="249,55,456,80"/>
<area shape="poly" title=" " alt="" coords="128,153,182,126,248,97,292,82,294,87,250,102,184,131,130,158"/>
<area shape="rect" href="pmw3901_8c.html#aaa79ab17c26c85fc9a181ef78f309873" title=" " alt="" coords="258,156,447,181"/>
<area shape="poly" title=" " alt="" coords="201,166,244,166,244,171,201,171"/>
<area shape="rect" href="pmw3901_8c.html#a8608bd718725f3e6fb4a7f3ae60a0560" title=" " alt="" coords="287,205,418,231"/>
<area shape="poly" title=" " alt="" coords="169,179,275,200,274,205,168,184"/>
<area shape="rect" href="pmw3901_8c.html#acf491ab008ac79682b56e5363725e02d" title=" " alt="" coords="277,255,428,280"/>
<area shape="poly" title=" " alt="" coords="127,179,182,210,250,241,274,249,273,254,248,246,179,215,124,184"/>
<area shape="rect" href="opticflow__pmw3901_8c.html#ad9ff073dfcd5d8d63f6c1e450b8916f4" title=" " alt="" coords="559,55,640,80"/>
<area shape="poly" title=" " alt="" coords="456,65,545,65,545,70,456,70"/>
<area shape="rect" href="group__state__rate.html#gaf712020339c342d39ce714802ab155c0" title="Get vehicle body angular rate (float)." alt="" coords="519,5,679,31"/>
<area shape="poly" title=" " alt="" coords="416,52,521,31,522,36,417,57"/>
<area shape="rect" href="group__state__rate.html#ga52294469408c263566a43c4c903cb3ca" title=" " alt="" coords="743,5,908,31"/>
<area shape="poly" title=" " alt="" coords="679,15,729,15,729,21,679,21"/>
<area shape="rect" href="pmw3901_8c.html#a6a7aaeb3506b15d4f4ff5f782f671836" title=" " alt="" coords="504,180,695,205"/>
<area shape="poly" title=" " alt="" coords="418,209,490,201,490,207,418,214"/>
<area shape="poly" title=" " alt="" coords="638,177,772,133,774,138,640,182"/>
<area shape="rect" href="group__spi.html#ga5d383931766cb373ebad0b8bc26d439d" title="Submit SPI transaction." alt="" coords="779,180,872,205"/>
<area shape="poly" title=" " alt="" coords="695,190,765,190,765,195,695,195"/>
</map>
</div>

</div>
</div>
<a id="a2322e65a95d068baae9381aace2519ee" name="a2322e65a95d068baae9381aace2519ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2322e65a95d068baae9381aace2519ee">&#9670;&#160;</a></span>opticflow_pmw3901_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> opticflow_pmw3901_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="opticflow__pmw3901_8c_source.html#l00168">168</a> of file <a class="el" href="opticflow__pmw3901_8c_source.html">opticflow_pmw3901.c</a>.</p>

<p class="reference">References <a class="el" href="opticflow__pmw3901_8c_source.html#l00068">agl_cb()</a>, <a class="el" href="opticflow__pmw3901_8c_source.html#l00063">agl_ev</a>, <a class="el" href="opticflow__pmw3901_8h_source.html#l00036">opticflow_pmw3901_t::agl_timeout</a>, <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>, <a class="el" href="opticflow__pmw3901_8c_source.html#l00061">of_pmw</a>, <a class="el" href="opticflow__pmw3901_8c_source.html#l00052">OPTICFLOW_PMW3901_AGL_ID</a>, <a class="el" href="opticflow__pmw3901_8c_source.html#l00057">OPTICFLOW_PMW3901_AGL_TIMEOUT_US</a>, <a class="el" href="opticflow__pmw3901_8c_source.html#l00040">OPTICFLOW_PMW3901_SENSOR_ANGLE</a>, <a class="el" href="opticflow__pmw3901_8c_source.html#l00048">OPTICFLOW_PMW3901_STD_PX</a>, <a class="el" href="opticflow__pmw3901_8c_source.html#l00044">OPTICFLOW_PMW3901_SUBPIXEL_FACTOR</a>, <a class="el" href="opticflow__pmw3901_8h_source.html#l00032">opticflow_pmw3901_t::pmw</a>, <a class="el" href="pmw3901_8c_source.html#l00249">pmw3901_init()</a>, <a class="el" href="pmw3901_8h_source.html#l00071">pmw3901_t::rad_per_px</a>, <a class="el" href="opticflow__pmw3901_8h_source.html#l00033">opticflow_pmw3901_t::sensor_angle</a>, <a class="el" href="opticflow__pmw3901_8h_source.html#l00035">opticflow_pmw3901_t::std_px</a>, and <a class="el" href="opticflow__pmw3901_8h_source.html#l00034">opticflow_pmw3901_t::subpixel_factor</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="opticflow__pmw3901_8c_a2322e65a95d068baae9381aace2519ee_cgraph.png" border="0" usemap="#aopticflow__pmw3901_8c_a2322e65a95d068baae9381aace2519ee_cgraph" alt=""/></div>
<map name="aopticflow__pmw3901_8c_a2322e65a95d068baae9381aace2519ee_cgraph" id="aopticflow__pmw3901_8c_a2322e65a95d068baae9381aace2519ee_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,185,56"/>
<area shape="rect" href="opticflow__pmw3901_8c.html#a7266d71f926f1ff406cde1f6067177ac" title=" " alt="" coords="259,5,323,31"/>
<area shape="poly" title=" " alt="" coords="185,29,245,21,245,26,186,34"/>
<area shape="rect" href="pmw3901_8c.html#a6ff7c43870ae10d9f4dcab7a638b0943" title=" " alt="" coords="233,55,348,80"/>
<area shape="poly" title=" " alt="" coords="186,52,220,56,220,61,185,57"/>
<area shape="rect" href="pmw3901_8c.html#ae2b9a24b30aaf6bc58ee3cdd98f769bc" title=" " alt="" coords="396,55,519,80"/>
<area shape="poly" title=" " alt="" coords="348,65,382,65,382,70,348,70"/>
<area shape="rect" href="chibios_2mcu__periph_2sys__time__arch_8c.html#a74db3eed857f9c53bb67db256c12bc83" title="sys_time_usleep(uint32_t us)" alt="" coords="567,55,697,80"/>
<area shape="poly" title=" " alt="" coords="519,65,553,65,553,70,519,70"/>
</map>
</div>

</div>
</div>
<a id="a5fb2c15d2dacf06185977f580770b596" name="a5fb2c15d2dacf06185977f580770b596"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fb2c15d2dacf06185977f580770b596">&#9670;&#160;</a></span>opticflow_pmw3901_periodic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> opticflow_pmw3901_periodic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="opticflow__pmw3901_8c_source.html#l00180">180</a> of file <a class="el" href="opticflow__pmw3901_8c_source.html">opticflow_pmw3901.c</a>.</p>

<p class="reference">References <a class="el" href="opticflow__pmw3901_8c_source.html#l00061">of_pmw</a>, <a class="el" href="opticflow__pmw3901_8h_source.html#l00032">opticflow_pmw3901_t::pmw</a>, <a class="el" href="pmw3901_8c_source.html#l00312">pmw3901_is_idle()</a>, and <a class="el" href="pmw3901_8c_source.html#l00316">pmw3901_start_read()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="opticflow__pmw3901_8c_a5fb2c15d2dacf06185977f580770b596_cgraph.png" border="0" usemap="#aopticflow__pmw3901_8c_a5fb2c15d2dacf06185977f580770b596_cgraph" alt=""/></div>
<map name="aopticflow__pmw3901_8c_a5fb2c15d2dacf06185977f580770b596_cgraph" id="aopticflow__pmw3901_8c_a5fb2c15d2dacf06185977f580770b596_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,216,31"/>
<area shape="rect" href="pmw3901_8c.html#a4ae6ebae23649e7c6154d4d0acfa4c9d" title=" " alt="" coords="471,5,605,31"/>
<area shape="poly" title=" " alt="" coords="216,15,457,15,457,21,216,21"/>
<area shape="rect" href="pmw3901_8c.html#a4c4349ef59585afe9fc579894d893b99" title=" " alt="" coords="264,31,423,56"/>
<area shape="poly" title=" " alt="" coords="217,27,251,31,250,36,216,32"/>
<area shape="poly" title=" " alt="" coords="422,30,456,26,457,31,423,36"/>
</map>
</div>

</div>
</div>
<a id="a60140676d3a419b54d6a2a8294e4b994" name="a60140676d3a419b54d6a2a8294e4b994"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60140676d3a419b54d6a2a8294e4b994">&#9670;&#160;</a></span>opticflow_pmw3901_publish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">static</a> <a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">void</a> opticflow_pmw3901_publish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vl53l1__types_8h.html#aa343fa3b3d06292b959ffdd4c4703b06">int16_t</a>&#160;</td>
          <td class="paramname"><em>delta_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vl53l1__types_8h.html#aa343fa3b3d06292b959ffdd4c4703b06">int16_t</a>&#160;</td>
          <td class="paramname"><em>delta_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vl53l1__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>ts_usec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="opticflow__pmw3901_8c_source.html#l00081">81</a> of file <a class="el" href="opticflow__pmw3901_8c_source.html">opticflow_pmw3901.c</a>.</p>

<p class="reference">References <a class="el" href="opticflow__pmw3901_8c_source.html#l00064">agl_dist</a>, <a class="el" href="opticflow__pmw3901_8c_source.html#l00074">agl_valid()</a>, <a class="el" href="downlink_8h_source.html#l00041">DefaultChannel</a>, <a class="el" href="downlink_8h_source.html#l00045">DefaultDevice</a>, <a class="el" href="abi__sender__ids_8h_source.html#l00442">FLOW_OPTICFLOW_PMW3901_ID</a>, <a class="el" href="main__demo5_8c_source.html#l00058">foo</a>, <a class="el" href="opticflow__pmw3901_8c_source.html#l00061">of_pmw</a>, <a class="el" href="pprz__algebra__float_8h_source.html#l00094">FloatRates::p</a>, <a class="el" href="opticflow__pmw3901_8h_source.html#l00032">opticflow_pmw3901_t::pmw</a>, <a class="el" href="pprz__algebra__float_8h_source.html#l00095">FloatRates::q</a>, <a class="el" href="pmw3901_8h_source.html#l00071">pmw3901_t::rad_per_px</a>, <a class="el" href="light__scheduler_8c_source.html#l00033">s</a>, <a class="el" href="opticflow__pmw3901_8h_source.html#l00033">opticflow_pmw3901_t::sensor_angle</a>, <a class="el" href="state_8h_source.html#l01367">stateGetBodyRates_f()</a>, <a class="el" href="opticflow__pmw3901_8h_source.html#l00035">opticflow_pmw3901_t::std_px</a>, <a class="el" href="opticflow__pmw3901_8h_source.html#l00034">opticflow_pmw3901_t::subpixel_factor</a>, and <a class="el" href="abi__sender__ids_8h_source.html#l00477">VEL_OPTICFLOW_PMW3901_ID</a>.</p>

<p class="reference">Referenced by <a class="el" href="opticflow__pmw3901_8c_source.html#l00186">opticflow_pmw3901_event()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="opticflow__pmw3901_8c_a60140676d3a419b54d6a2a8294e4b994_cgraph.png" border="0" usemap="#aopticflow__pmw3901_8c_a60140676d3a419b54d6a2a8294e4b994_cgraph" alt=""/></div>
<map name="aopticflow__pmw3901_8c_a60140676d3a419b54d6a2a8294e4b994_cgraph" id="aopticflow__pmw3901_8c_a60140676d3a419b54d6a2a8294e4b994_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,212,56"/>
<area shape="rect" href="opticflow__pmw3901_8c.html#ad9ff073dfcd5d8d63f6c1e450b8916f4" title=" " alt="" coords="299,5,381,31"/>
<area shape="poly" title=" " alt="" coords="212,29,285,21,285,27,213,35"/>
<area shape="rect" href="group__state__rate.html#gaf712020339c342d39ce714802ab155c0" title="Get vehicle body angular rate (float)." alt="" coords="260,55,420,80"/>
<area shape="poly" title=" " alt="" coords="213,51,247,55,246,60,212,57"/>
<area shape="rect" href="group__state__rate.html#ga52294469408c263566a43c4c903cb3ca" title=" " alt="" coords="468,55,633,80"/>
<area shape="poly" title=" " alt="" coords="421,65,454,65,454,70,421,70"/>
</map>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="opticflow__pmw3901_8c_a60140676d3a419b54d6a2a8294e4b994_icgraph.png" border="0" usemap="#aopticflow__pmw3901_8c_a60140676d3a419b54d6a2a8294e4b994_icgraph" alt=""/></div>
<map name="aopticflow__pmw3901_8c_a60140676d3a419b54d6a2a8294e4b994_icgraph" id="aopticflow__pmw3901_8c_a60140676d3a419b54d6a2a8294e4b994_icgraph">
<area shape="rect" title=" " alt="" coords="249,5,456,31"/>
<area shape="rect" href="opticflow__pmw3901_8c.html#abe5ad65e14456805dca97f78767ef811" title=" " alt="" coords="5,5,201,31"/>
<area shape="poly" title=" " alt="" coords="236,21,202,21,202,15,236,15"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab79744059ba274056fbfa0471ceef54d" name="ab79744059ba274056fbfa0471ceef54d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab79744059ba274056fbfa0471ceef54d">&#9670;&#160;</a></span>agl_dist</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main__demo5_8c.html#ad690ee00a2cf77bbaaf89c3f1ef110d4">float</a> agl_dist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="opticflow__pmw3901_8c_source.html#l00064">64</a> of file <a class="el" href="opticflow__pmw3901_8c_source.html">opticflow_pmw3901.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="opticflow__pmw3901_8c_source.html#l00068">agl_cb()</a>, <a class="el" href="opticflow__pmw3901_8c_source.html#l00074">agl_valid()</a>, and <a class="el" href="opticflow__pmw3901_8c_source.html#l00081">opticflow_pmw3901_publish()</a>.</p>

</div>
</div>
<a id="afa50262a1e494235831469694c69b177" name="afa50262a1e494235831469694c69b177"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa50262a1e494235831469694c69b177">&#9670;&#160;</a></span>agl_ev</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="abi__common_8h.html#a60f71f1b8ca24759458ed4f700f02814">abi_event</a> agl_ev</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="opticflow__pmw3901_8c_source.html#l00063">63</a> of file <a class="el" href="opticflow__pmw3901_8c_source.html">opticflow_pmw3901.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="opticflow__pmw3901_8c_source.html#l00168">opticflow_pmw3901_init()</a>.</p>

</div>
</div>
<a id="a638703b0151fe6e287f8917113740fd5" name="a638703b0151fe6e287f8917113740fd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a638703b0151fe6e287f8917113740fd5">&#9670;&#160;</a></span>agl_ts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vl53l1__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> agl_ts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="opticflow__pmw3901_8c_source.html#l00065">65</a> of file <a class="el" href="opticflow__pmw3901_8c_source.html">opticflow_pmw3901.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="opticflow__pmw3901_8c_source.html#l00068">agl_cb()</a>, and <a class="el" href="opticflow__pmw3901_8c_source.html#l00074">agl_valid()</a>.</p>

</div>
</div>
<a id="a2351fcd899abe0185253547d1166f73c" name="a2351fcd899abe0185253547d1166f73c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2351fcd899abe0185253547d1166f73c">&#9670;&#160;</a></span>of_pmw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="opticflow__pmw3901_8h.html#structopticflow__pmw3901__t">opticflow_pmw3901_t</a> of_pmw</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="opticflow__pmw3901_8c_source.html#l00061">61</a> of file <a class="el" href="opticflow__pmw3901_8c_source.html">opticflow_pmw3901.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="opticflow__pmw3901_8c_source.html#l00074">agl_valid()</a>, <a class="el" href="opticflow__pmw3901_8c_source.html#l00186">opticflow_pmw3901_event()</a>, <a class="el" href="opticflow__pmw3901_8c_source.html#l00168">opticflow_pmw3901_init()</a>, <a class="el" href="opticflow__pmw3901_8c_source.html#l00180">opticflow_pmw3901_periodic()</a>, and <a class="el" href="opticflow__pmw3901_8c_source.html#l00081">opticflow_pmw3901_publish()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_01fcd3835fb4e7d9331b722d86291b65.html">sw</a></li><li class="navelem"><a class="el" href="dir_5e9153041680afc3c016fd52fa730b56.html">airborne</a></li><li class="navelem"><a class="el" href="dir_c2abcdd6ccb39c3582929c0e3f5651c2.html">modules</a></li><li class="navelem"><a class="el" href="dir_2f48bbb566df394f79dcf8fe0631584a.html">sensors</a></li><li class="navelem"><a class="el" href="opticflow__pmw3901_8c.html">opticflow_pmw3901.c</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 09:27:07 for Paparazzi UAS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>

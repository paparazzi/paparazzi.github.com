<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Paparazzi UAS: pano_unwrap module</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="penguin_icon.png"/></td>
  <td id="projectalign">
   <div id="projectname">Paparazzi UAS<span id="projectnumber">&#160;v7.0_unstable</span>
   </div>
   <div id="projectbrief">Paparazzi is a free software Unmanned Aircraft System.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('module__pano_unwrap.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">pano_unwrap module</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>Unwrap images taken through a panoramic lens</b></p>
<div class="image">
<img src="pano_unwrap.jpg" alt=""/>
<div class="caption">
Left: AR.Drone 2.0 with Kogeto Dot 360 panoramic lens on bottom camera. Middle: raw image and region of interest (blue). Right: unwrapped image.</div></div>
<p>This module unwraps images taken through a panoramic lens. The unwrapped image is returned to the video thread or available as <code>pano_unwrapped_image</code>.</p>
<p>The user should specify the region of interest (the part of the raw image that should be unwrapped) by setting the following values:</p><ul>
<li>The center of the lens (<code>center_x</code> and <code>center_y</code>)</li>
<li>The radii of the top and bottom of the ROI (<code>radius_bottom</code> and <code>radius_top</code>)</li>
<li>The body +x direction in the raw image (<code>forward_direction</code>)</li>
<li>The body +y direction in the raw image (<code>flip_horizontal</code>) The region of interest can be shown by setting <code>show_calibration</code> to TRUE and <code>overwrite_video</code> to FALSE.</li>
</ul>
<p>The size of the output image can be set with <code>width</code> and <code>height</code>. The height of the image can also be set to zero, in which case it is determined automatically from the <code>vertical_resolution</code>.</p>
<p>Optionally, the image can be derotated to cancel the pitch and roll movements of the drone. This requires a correct setting of the <code>vertical_resolution</code>. Reasonable values can be found by looking at the unwrapped and derotated image and adjusting the vertical resolution until the environment no longer appears to move during pitch and roll motions.</p>
<p>The following assumptions are made:</p><ul>
<li>The vertical resolution is constant throughout the region of interest.</li>
<li>Pitch and roll angles are small (for derotation).</li>
</ul>
<div class="image">
<img src="unwrapped_derotated.png" alt=""/>
<div class="caption">
Derotation (shown for large roll angle).</div></div>
<h1><a class="anchor" id="module_load_example__pano_unwrap"></a>
Example for airframe file</h1>
<p>Add to your firmware section: This example contains all possible configuration options, not all of them are mandatory! </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">module</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;pano_unwrap&quot;</span>&gt;</div>
<div class="line">  <span class="keyword">b</span><span class="stringliteral">&#39;&lt;define name=&quot;PANO_UNWRAP_CAMERA&quot; value=&quot;front_camera|bottom_camera (default)&quot; /&gt;\n    &#39;</span></div>
<div class="line">  <span class="keyword">b</span><span class="stringliteral">&#39;&lt;define name=&quot;PANO_UNWRAP_CENTER_X&quot; value=&quot;0.50&quot; /&gt;\n    &#39;</span></div>
<div class="line">  <span class="keyword">b</span><span class="stringliteral">&#39;&lt;define name=&quot;PANO_UNWRAP_CENTER_Y&quot; value=&quot;0.50&quot; /&gt;\n    &#39;</span></div>
<div class="line">  <span class="keyword">b</span><span class="stringliteral">&#39;&lt;define name=&quot;PANO_UNWRAP_RADIUS_BOTTOM&quot; value=&quot;0.20&quot; /&gt;\n    &#39;</span></div>
<div class="line">  <span class="keyword">b</span><span class="stringliteral">&#39;&lt;define name=&quot;PANO_UNWRAP_RADIUS_TOP&quot; value=&quot;0.30&quot; /&gt;\n    &#39;</span></div>
<div class="line">  <span class="keyword">b</span><span class="stringliteral">&#39;&lt;define name=&quot;PANO_UNWRAP_FORWARD_DIRECTION&quot; value=&quot;270.0&quot; /&gt;\n    &#39;</span></div>
<div class="line">  <span class="keyword">b</span><span class="stringliteral">&#39;&lt;define name=&quot;PANO_UNWRAP_FLIP_HORIZONTAL&quot; value=&quot;TRUE|FALSE (default)&quot; /&gt;\n    &#39;</span></div>
<div class="line">  <span class="keyword">b</span><span class="stringliteral">&#39;&lt;define name=&quot;PANO_UNWRAP_VERTICAL_RESOLUTION&quot; value=&quot;0.18&quot; /&gt;\n    &#39;</span></div>
<div class="line">  <span class="keyword">b</span><span class="stringliteral">&#39;&lt;define name=&quot;PANO_UNWRAP_DEROTATE_ATTITUDE&quot; value=&quot;TRUE|FALSE (default)&quot; /&gt;\n    &#39;</span></div>
<div class="line">  <span class="keyword">b</span><span class="stringliteral">&#39;&lt;define name=&quot;PANO_UNWRAP_WIDTH&quot; value=&quot;640&quot; /&gt;\n    &#39;</span></div>
<div class="line">  <span class="keyword">b</span><span class="stringliteral">&#39;&lt;define name=&quot;PANO_UNWRAP_HEIGHT&quot; value=&quot;0&quot; /&gt;\n    &#39;</span></div>
<div class="line">  <span class="keyword">b</span><span class="stringliteral">&#39;&lt;define name=&quot;PANO_UNWRAP_OVERWRITE_VIDEO_THREAD&quot; value=&quot;TRUE (default)|FALSE&quot; /&gt;\n    &#39;</span></div>
<div class="line">  <span class="keyword">b</span><span class="stringliteral">&#39;&lt;define name=&quot;PANO_UNWRAP_FPS&quot; value=&quot;0&quot; /&gt;\n  &#39;</span></div>
<div class="line">&lt;/<span class="keywordtype">module</span>&gt;</div>
</div><!-- fragment --> <h1><a class="anchor" id="configuration__pano_unwrap"></a>
Module configuration options</h1>
<h2><a class="anchor" id="define"></a>
Define Options</h2>
<ul>
<li><b>name:</b> <code>PANO_UNWRAP_CAMERA</code> <b>value:</b> <em>front_camera|bottom_camera (default)</em> <br  />
 Description: Camera to use</li>
<li><b>name:</b> <code>PANO_UNWRAP_CENTER_X</code> <b>value:</b> <em>0.50</em> <br  />
 Description: Center of lens in raw image [fraction of raw image width]</li>
<li><b>name:</b> <code>PANO_UNWRAP_CENTER_Y</code> <b>value:</b> <em>0.50</em> <br  />
 Description: Center of lens in raw image [fraction of raw image height]</li>
<li><b>name:</b> <code>PANO_UNWRAP_RADIUS_BOTTOM</code> <b>value:</b> <em>0.20</em> <br  />
 Description: Distance from the lens center to the bottom of the region of interest [fraction of raw image height]</li>
<li><b>name:</b> <code>PANO_UNWRAP_RADIUS_TOP</code> <b>value:</b> <em>0.30</em> <br  />
 Description: Distance from lens center to the top of the region of interest [fraction of raw image height]</li>
<li><b>name:</b> <code>PANO_UNWRAP_FORWARD_DIRECTION</code> <b>value:</b> <em>270.0</em> <br  />
 Description: Forward direction in raw image measured counterclockwise from right [deg]</li>
<li><b>name:</b> <code>PANO_UNWRAP_FLIP_HORIZONTAL</code> <b>value:</b> <em>TRUE|FALSE (default)</em> <br  />
 Description: Flip output image horizontally</li>
<li><b>name:</b> <code>PANO_UNWRAP_VERTICAL_RESOLUTION</code> <b>value:</b> <em>0.18</em> <br  />
 Description: Vertical resolution of region of interest [fraction of raw image height/rad]</li>
<li><b>name:</b> <code>PANO_UNWRAP_DEROTATE_ATTITUDE</code> <b>value:</b> <em>TRUE|FALSE (default)</em> <br  />
 Description: Derotate the image, i.e. keep the panorama aligned with the horizon</li>
<li><b>name:</b> <code>PANO_UNWRAP_WIDTH</code> <b>value:</b> <em>640</em> <br  />
 Description: Width of the unwrapped image [px]</li>
<li><b>name:</b> <code>PANO_UNWRAP_HEIGHT</code> <b>value:</b> <em>0</em> <br  />
 Description: Height of the unwrapped image [px]. Set to 0 to determine automatically.</li>
<li><b>name:</b> <code>PANO_UNWRAP_OVERWRITE_VIDEO_THREAD</code> <b>value:</b> <em>TRUE (default)|FALSE</em> <br  />
 Description: Write unwrapped image to the video thread</li>
<li><b>name:</b> <code>PANO_UNWRAP_FPS</code> <b>value:</b> <em>0</em> <br  />
 Description: Maximum FPS (0: unlimited)</li>
</ul>
<h1><a class="anchor" id="functions__pano_unwrap"></a>
Module functions</h1>
<h2><a class="anchor" id="init_functions"></a>
Init Functions</h2>
<p>These initialization functions are called once on startup.</p>
<ul>
<li><a class="el" href="pano__unwrap_8c.html#a2038ddd6c9204939f22d0879640b52e6">pano_unwrap_init()</a></li>
</ul>
<h1><a class="anchor" id="files"></a>
Files</h1>
<h2><a class="anchor" id="headers"></a>
Header Files</h2>
<p>The following headers are automatically included in modules.h</p>
<ul>
<li><a class="el" href="pano__unwrap_8h.html">pano_unwrap.h</a></li>
</ul>
<h2><a class="anchor" id="sources"></a>
Source Files</h2>
<ul>
<li><a class="el" href="pano__unwrap_8c.html">modules/pano_unwrap/pano_unwrap.c</a></li>
</ul>
<h2><a class="anchor" id="module_xml__pano_unwrap"></a>
Raw pano_unwrap.xml file:</h2>
<div class="fragment"><div class="line">&lt;!<span class="keyword">DOCTYPE</span> <span class="keyword">module</span> <span class="keyword">SYSTEM</span> <span class="stringliteral">&quot;module.dtd&quot;</span>&gt;</div>
<div class="line"> </div>
<div class="line">&lt;<span class="keywordtype">module</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;pano_unwrap&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">doc</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">description</span>&gt;</div>
<div class="line">    <span class="keyword">Unwrap</span> <span class="keyword">images</span> <span class="keyword">taken</span> <span class="keyword">through</span> <span class="keyword">a</span> <span class="keyword">panoramic</span> <span class="keyword">lens</span></div>
<div class="line">    </div>
<div class="line">    @<span class="keyword">image</span> <span class="keyword">html</span> <span class="keyword">images</span>/<span class="keyword">airborne</span>/<span class="keyword">modules</span>/<span class="keyword">pano_unwrap</span>/<span class="keyword">pano_unwrap.jpg</span> <span class="stringliteral">&quot;Left: AR.Drone 2.0 with Kogeto Dot 360 panoramic lens on bottom camera. Middle: raw image and region of interest (blue). Right: unwrapped image.&quot;</span></div>
<div class="line">    </div>
<div class="line">    <span class="keyword">This</span> <span class="keyword">module</span> <span class="keyword">unwraps</span> <span class="keyword">images</span> <span class="keyword">taken</span> <span class="keyword">through</span> <span class="keyword">a</span> <span class="keyword">panoramic</span> <span class="keyword">lens.</span> <span class="keyword">The</span> <span class="keyword">unwrapped</span></div>
<div class="line">    <span class="keyword">image</span> <span class="keyword">is</span> <span class="keyword">returned</span> <span class="keyword">to</span> <span class="keyword">the</span> <span class="keyword">video</span> <span class="keyword">thread</span> <span class="keyword">or</span> <span class="keyword">available</span> <span class="keyword">as</span></div>
<div class="line">    `<span class="keyword">pano_unwrapped_image</span>`.</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">The</span> <span class="keyword">user</span> <span class="keyword">should</span> <span class="keyword">specify</span> <span class="keyword">the</span> <span class="keyword">region</span> <span class="keyword">of</span> <span class="keyword">interest</span> (<span class="keyword">the</span> <span class="keyword">part</span> <span class="keyword">of</span> <span class="keyword">the</span> <span class="keyword">raw</span> <span class="keyword">image</span></div>
<div class="line">    <span class="keyword">that</span> <span class="keyword">should</span> <span class="keyword">be</span> <span class="keyword">unwrapped</span>) <span class="keyword">by</span> <span class="keyword">setting</span> <span class="keyword">the</span> <span class="keyword">following</span> <span class="keyword">values:</span></div>
<div class="line">    - <span class="keyword">The</span> <span class="keyword">center</span> <span class="keyword">of</span> <span class="keyword">the</span> <span class="keyword">lens</span> (`<span class="keyword">center_x</span>` <span class="keyword">and</span> `<span class="keyword">center_y</span>`)</div>
<div class="line">    - <span class="keyword">The</span> <span class="keyword">radii</span> <span class="keyword">of</span> <span class="keyword">the</span> <span class="keyword">top</span> <span class="keyword">and</span> <span class="keyword">bottom</span> <span class="keyword">of</span> <span class="keyword">the</span> <span class="keyword">ROI</span> (`<span class="keyword">radius_bottom</span>` <span class="keyword">and</span></div>
<div class="line">      `<span class="keyword">radius_top</span>`)</div>
<div class="line">    - <span class="keyword">The</span> <span class="keyword">body</span> +<span class="keyword">x</span> <span class="keyword">direction</span> <span class="keyword">in</span> <span class="keyword">the</span> <span class="keyword">raw</span> <span class="keyword">image</span> (`<span class="keyword">forward_direction</span>`)</div>
<div class="line">    - <span class="keyword">The</span> <span class="keyword">body</span> +<span class="keyword">y</span> <span class="keyword">direction</span> <span class="keyword">in</span> <span class="keyword">the</span> <span class="keyword">raw</span> <span class="keyword">image</span> (`<span class="keyword">flip_horizontal</span>`)</div>
<div class="line">    <span class="keyword">The</span> <span class="keyword">region</span> <span class="keyword">of</span> <span class="keyword">interest</span> <span class="keyword">can</span> <span class="keyword">be</span> <span class="keyword">shown</span> <span class="keyword">by</span> <span class="keyword">setting</span> `<span class="keyword">show_calibration</span>` <span class="keyword">to</span> <span class="keyword">TRUE</span></div>
<div class="line">    <span class="keyword">and</span> `<span class="keyword">overwrite_video</span>` <span class="keyword">to</span> <span class="keyword">FALSE.</span></div>
<div class="line">    </div>
<div class="line">    <span class="keyword">The</span> <span class="keyword">size</span> <span class="keyword">of</span> <span class="keyword">the</span> <span class="keyword">output</span> <span class="keyword">image</span> <span class="keyword">can</span> <span class="keyword">be</span> <span class="keyword">set</span> <span class="keyword">with</span> `<span class="keyword">width</span>` <span class="keyword">and</span> `<span class="keyword">height</span>`. <span class="keyword">The</span></div>
<div class="line">    <span class="keyword">height</span> <span class="keyword">of</span> <span class="keyword">the</span> <span class="keyword">image</span> <span class="keyword">can</span> <span class="keyword">also</span> <span class="keyword">be</span> <span class="keyword">set</span> <span class="keyword">to</span> <span class="keyword">zero</span>, <span class="keyword">in</span> <span class="keyword">which</span> <span class="keyword">case</span> <span class="keyword">it</span> <span class="keyword">is</span> <span class="keyword">determined</span></div>
<div class="line">    <span class="keyword">automatically</span> <span class="keyword">from</span> <span class="keyword">the</span> `<span class="keyword">vertical_resolution</span>`.</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">Optionally</span>, <span class="keyword">the</span> <span class="keyword">image</span> <span class="keyword">can</span> <span class="keyword">be</span> <span class="keyword">derotated</span> <span class="keyword">to</span> <span class="keyword">cancel</span> <span class="keyword">the</span> <span class="keyword">pitch</span> <span class="keyword">and</span> <span class="keyword">roll</span></div>
<div class="line">    <span class="keyword">movements</span> <span class="keyword">of</span> <span class="keyword">the</span> <span class="keyword">drone.</span> <span class="keyword">This</span> <span class="keyword">requires</span> <span class="keyword">a</span> <span class="keyword">correct</span> <span class="keyword">setting</span> <span class="keyword">of</span> <span class="keyword">the</span></div>
<div class="line">    `<span class="keyword">vertical_resolution</span>`. <span class="keyword">Reasonable</span> <span class="keyword">values</span> <span class="keyword">can</span> <span class="keyword">be</span> <span class="keyword">found</span> <span class="keyword">by</span> <span class="keyword">looking</span> <span class="keyword">at</span> <span class="keyword">the</span></div>
<div class="line">    <span class="keyword">unwrapped</span> <span class="keyword">and</span> <span class="keyword">derotated</span> <span class="keyword">image</span> <span class="keyword">and</span> <span class="keyword">adjusting</span> <span class="keyword">the</span> <span class="keyword">vertical</span> <span class="keyword">resolution</span> <span class="keyword">until</span></div>
<div class="line">    <span class="keyword">the</span> <span class="keyword">environment</span> <span class="keyword">no</span> <span class="keyword">longer</span> <span class="keyword">appears</span> <span class="keyword">to</span> <span class="keyword">move</span> <span class="keyword">during</span> <span class="keyword">pitch</span> <span class="keyword">and</span> <span class="keyword">roll</span> <span class="keyword">motions.</span></div>
<div class="line">    </div>
<div class="line">    <span class="keyword">The</span> <span class="keyword">following</span> <span class="keyword">assumptions</span> <span class="keyword">are</span> <span class="keyword">made:</span></div>
<div class="line">    - <span class="keyword">The</span> <span class="keyword">vertical</span> <span class="keyword">resolution</span> <span class="keyword">is</span> <span class="keyword">constant</span> <span class="keyword">throughout</span> <span class="keyword">the</span> <span class="keyword">region</span> <span class="keyword">of</span> <span class="keyword">interest.</span></div>
<div class="line">    - <span class="keyword">Pitch</span> <span class="keyword">and</span> <span class="keyword">roll</span> <span class="keyword">angles</span> <span class="keyword">are</span> <span class="keyword">small</span> (<span class="keyword">for</span> <span class="keyword">derotation</span>).</div>
<div class="line">    </div>
<div class="line">    @<span class="keyword">image</span> <span class="keyword">html</span> <span class="keyword">images</span>/<span class="keyword">airborne</span>/<span class="keyword">modules</span>/<span class="keyword">pano_unwrap</span>/<span class="keyword">unwrapped_derotated.png</span> <span class="stringliteral">&quot;Derotation (shown for large roll angle).&quot;</span></div>
<div class="line">    &lt;/<span class="keywordtype">description</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PANO_UNWRAP_CAMERA&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;front_camera|bottom_camera (default)&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;Camera to use&quot;</span>/&gt;</div>
<div class="line">    &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PANO_UNWRAP_CENTER_X&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;0.50&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;Center of lens in raw image [fraction of raw image width]&quot;</span>/&gt;</div>
<div class="line">    &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PANO_UNWRAP_CENTER_Y&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;0.50&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;Center of lens in raw image [fraction of raw image height]&quot;</span>/&gt;</div>
<div class="line">    &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PANO_UNWRAP_RADIUS_BOTTOM&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;0.20&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;Distance from the lens center to the bottom of the region of interest [fraction of raw image height]&quot;</span>/&gt;</div>
<div class="line">    &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PANO_UNWRAP_RADIUS_TOP&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;0.30&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;Distance from lens center to the top of the region of interest [fraction of raw image height]&quot;</span>/&gt;</div>
<div class="line">    &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PANO_UNWRAP_FORWARD_DIRECTION&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;270.0&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;Forward direction in raw image measured counterclockwise from right [deg]&quot;</span>/&gt;</div>
<div class="line">    &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PANO_UNWRAP_FLIP_HORIZONTAL&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;TRUE|FALSE (default)&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;Flip output image horizontally&quot;</span>/&gt;</div>
<div class="line">    &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PANO_UNWRAP_VERTICAL_RESOLUTION&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;0.18&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;Vertical resolution of region of interest [fraction of raw image height/rad]&quot;</span>/&gt;</div>
<div class="line">    &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PANO_UNWRAP_DEROTATE_ATTITUDE&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;TRUE|FALSE (default)&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;Derotate the image, i.e. keep the panorama aligned with the horizon&quot;</span>/&gt;</div>
<div class="line">    &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PANO_UNWRAP_WIDTH&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;640&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;Width of the unwrapped image [px]&quot;</span>/&gt;</div>
<div class="line">    &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PANO_UNWRAP_HEIGHT&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;Height of the unwrapped image [px]. Set to 0 to determine automatically.&quot;</span>/&gt;</div>
<div class="line">    &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PANO_UNWRAP_OVERWRITE_VIDEO_THREAD&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;TRUE (default)|FALSE&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;Write unwrapped image to the video thread&quot;</span>/&gt;</div>
<div class="line">    &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PANO_UNWRAP_FPS&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;Maximum FPS (0: unlimited)&quot;</span>/&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">doc</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">settings</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">dl_settings</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">dl_settings</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;pano_unwrap&quot;</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;center_x&quot;</span> <span class="keyword">var</span>=<span class="stringliteral">&quot;pano_unwrap.center.x&quot;</span> <span class="keyword">min</span>=<span class="stringliteral">&quot;0.0&quot;</span> <span class="keyword">step</span>=<span class="stringliteral">&quot;0.01&quot;</span> <span class="keyword">max</span>=<span class="stringliteral">&quot;1.0&quot;</span>/&gt;</div>
<div class="line">        &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;center_y&quot;</span> <span class="keyword">var</span>=<span class="stringliteral">&quot;pano_unwrap.center.y&quot;</span> <span class="keyword">min</span>=<span class="stringliteral">&quot;0.0&quot;</span> <span class="keyword">step</span>=<span class="stringliteral">&quot;0.01&quot;</span> <span class="keyword">max</span>=<span class="stringliteral">&quot;1.0&quot;</span>/&gt;</div>
<div class="line">        &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;radius_bottom&quot;</span> <span class="keyword">var</span>=<span class="stringliteral">&quot;pano_unwrap.radius_bottom&quot;</span> <span class="keyword">min</span>=<span class="stringliteral">&quot;0.0&quot;</span> <span class="keyword">step</span>=<span class="stringliteral">&quot;0.01&quot;</span> <span class="keyword">max</span>=<span class="stringliteral">&quot;1.0&quot;</span>/&gt;</div>
<div class="line">        &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;radius_top&quot;</span> <span class="keyword">var</span>=<span class="stringliteral">&quot;pano_unwrap.radius_top&quot;</span> <span class="keyword">min</span>=<span class="stringliteral">&quot;0.0&quot;</span> <span class="keyword">step</span>=<span class="stringliteral">&quot;0.01&quot;</span> <span class="keyword">max</span>=<span class="stringliteral">&quot;1.0&quot;</span>/&gt;</div>
<div class="line">        &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;forward_direction&quot;</span> <span class="keyword">var</span>=<span class="stringliteral">&quot;pano_unwrap.forward_direction&quot;</span> <span class="keyword">min</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">step</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">max</span>=<span class="stringliteral">&quot;360&quot;</span>/&gt;</div>
<div class="line">        &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;flip_hor&quot;</span> <span class="keyword">var</span>=<span class="stringliteral">&quot;pano_unwrap.flip_horizontal&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;uint8&quot;</span> <span class="keyword">values</span>=<span class="stringliteral">&quot;FALSE|TRUE&quot;</span> <span class="keyword">min</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">step</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">max</span>=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div>
<div class="line">        &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;v_resolution&quot;</span> <span class="keyword">var</span>=<span class="stringliteral">&quot;pano_unwrap.vertical_resolution&quot;</span> <span class="keyword">min</span>=<span class="stringliteral">&quot;-0.2&quot;</span> <span class="keyword">step</span>=<span class="stringliteral">&quot;0.01&quot;</span> <span class="keyword">max</span>=<span class="stringliteral">&quot;0.2&quot;</span>/&gt;</div>
<div class="line">        &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;derotate&quot;</span> <span class="keyword">var</span>=<span class="stringliteral">&quot;pano_unwrap.derotate_attitude&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;uint8&quot;</span> <span class="keyword">values</span>=<span class="stringliteral">&quot;FALSE|TRUE&quot;</span> <span class="keyword">min</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">step</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">max</span>=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div>
<div class="line">        &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;width&quot;</span> <span class="keyword">var</span>=<span class="stringliteral">&quot;pano_unwrap.width&quot;</span> <span class="keyword">min</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">step</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">max</span>=<span class="stringliteral">&quot;1920&quot;</span>/&gt;</div>
<div class="line">        &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;height&quot;</span> <span class="keyword">var</span>=<span class="stringliteral">&quot;pano_unwrap.height&quot;</span> <span class="keyword">min</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">step</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">max</span>=<span class="stringliteral">&quot;1080&quot;</span>/&gt;</div>
<div class="line">        &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;overwrite_video&quot;</span> <span class="keyword">var</span>=<span class="stringliteral">&quot;pano_unwrap.overwrite_video_thread&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;uint8&quot;</span> <span class="keyword">values</span>=<span class="stringliteral">&quot;FALSE|TRUE&quot;</span> <span class="keyword">min</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">step</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">max</span>=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div>
<div class="line">        &lt;<span class="keywordtype">dl_setting</span> <span class="keyword">shortname</span>=<span class="stringliteral">&quot;show_calibration&quot;</span> <span class="keyword">var</span>=<span class="stringliteral">&quot;pano_unwrap.show_calibration&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;uint8&quot;</span> <span class="keyword">values</span>=<span class="stringliteral">&quot;FALSE|TRUE&quot;</span> <span class="keyword">min</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">step</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">max</span>=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div>
<div class="line">      &lt;/<span class="keywordtype">dl_settings</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">dl_settings</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">settings</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">dep</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">depends</span>&gt;<span class="keyword">video_thread</span>&lt;/<span class="keywordtype">depends</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">dep</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">header</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">file</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;pano_unwrap.h&quot;</span>/&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">header</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">init</span> <span class="keyword">fun</span>=<span class="stringliteral">&quot;pano_unwrap_init()&quot;</span>/&gt;</div>
<div class="line">  &lt;<span class="keywordtype">makefile</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">file</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;pano_unwrap.c&quot;</span>/&gt;</div>
<div class="line">    &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;CV_ALLOW_VIDEO_TO_CHANGE_SIZE&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">makefile</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">module</span>&gt;</div>
<div class="line"> </div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="onboard_modules.html">Onboard Modules</a></li>
    <li class="footer">Generated on Tue Sep 2 2025 15:53:37 for Paparazzi UAS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
